; Listing generated by Microsoft (R) Optimizing Compiler Version 14.01.60511.01 

	TTL	C:\WINCE600\PLATFORM\COMMON\SRC\COMMON\BOOT\BLMENU\menu.c
	CODE32

  00000			 AREA	 |.drectve|, DRECTVE
	DCB	"-defaultlib:LIBCMT "
	DCB	"-defaultlib:OLDNAMES "


  00000			 AREA	 |.rdata|, DATA, READONLY
|EdbgVendorIds| DCW 0x0
	DCW	0x0
	DCD	0x4033
	DCB	0x1
	DCB	"AD", 0x0
	DCW	0x1050
	DCW	0x940
	DCD	0x4005
	DCB	0x1
	DCB	"LS", 0x0
	DCW	0x1050
	DCW	0x940
	DCD	0x2078
	DCB	0x1
	DCB	"LS", 0x0
	DCW	0x10ec
	DCW	0x8029
	DCD	0xc0f0
	DCB	0x1
	DCB	"KS", 0x0
	DCW	0x10ec
	DCW	0x8129
	DCD	0x0
	DCB	0x4
	DCB	"RT", 0x0
	DCW	0x10ec
	DCW	0x8139
	DCD	0x900b
	DCB	0x4
	DCB	"RT", 0x0
	DCW	0x10ec
	DCW	0x8139
	DCD	0xd0c9
	DCB	0x4
	DCB	"RT", 0x0
	DCW	0x10ec
	DCW	0x8139
	DCD	0xe04c
	DCB	0x4
	DCB	"RT", 0x0
	DCW	0x1186
	DCW	0x1300
	DCD	0x50ba
	DCB	0x4
	DCB	"DL", 0x0
	DCW	0x100b
	DCW	0x20
	DCD	0xa0cc
	DCB	0x5
	DCB	"NG", 0x0
	DCW	0x10b7
	DCW	0x9050
	DCD	0x6008
	DCB	0x6
	DCB	"3C", 0x0
	DCW	0x10b7
	DCW	0x9200
	DCD	0x476
	DCB	0x6
	DCB	"3C", 0x0
	EXPORT	|OALBLMenuHeader|
	EXPORT	|??_C@_17HBLJBP@?$AA?$AN?$AA?6?$AA?5?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_13IMODFHAA@?$AA?9?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_15JNBOKNOG@?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	IMPORT	|NKvDbgPrintfW|
	IMPORT	|NKDbgPrintfW|
; File c:\wince600\platform\common\src\common\boot\blmenu\menu.c

  00000			 AREA	 |.pdata|, PDATA
|$T43486| DCD	|$LN15@OALBLMenuH|
	DCD	0x40001d03

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_17HBLJBP@?$AA?$AN?$AA?6?$AA?5?$AA?$AA@| DCB 0xd, 0x0, 0xa, 0x0, " "
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_13IMODFHAA@?$AA?9?$AA?$AA@| DCB "-", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_15JNBOKNOG@?$AA?$AN?$AA?6?$AA?$AA@| DCB 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |OALBLMenuHeader| PROC

; 60   : {

  00000		 |$LN15@OALBLMenuH|
  00000	e1a0c00d	 mov         r12, sp
  00004	e92d000f	 stmdb       sp!, {r0 - r3}
  00008	e92d5010	 stmdb       sp!, {r4, r12, lr}
  0000c		 |$M43483|

; 61   :     va_list pArgList;
; 62   :     UINT32 i;
; 63   : 
; 64   :     va_start(pArgList, format);
; 65   : 
; 66   :     OALLog(L"\r\n");

  0000c	e59f0054	 ldr         r0, [pc, #0x54]
  00010	eb000000	 bl          NKDbgPrintfW
  00014	e3a04050	 mov         r4, #0x50
  00018		 |$LL6@OALBLMenuH|

; 67   :     for (i = 0; i < 80; i++) 
; 68   :         OALLog(L"-");

  00018	e59f004c	 ldr         r0, [pc, #0x4C]
  0001c	eb000000	 bl          NKDbgPrintfW
  00020	e2544001	 subs        r4, r4, #1
  00024	1afffffb	 bne         |$LL6@OALBLMenuH|

; 69   :         OALLog(L"\r\n ");

  00028	e59f0040	 ldr         r0, [pc, #0x40]
  0002c	eb000000	 bl          NKDbgPrintfW

; 70   : 
; 71   :     OALLogV(format, pArgList);

  00030	e59d000c	 ldr         r0, [sp, #0xC]
  00034	e28d1010	 add         r1, sp, #0x10
  00038	eb000000	 bl          NKvDbgPrintfW

; 72   : 
; 73   :     OALLog(L"\r\n");

  0003c	e59f0024	 ldr         r0, [pc, #0x24]
  00040	eb000000	 bl          NKDbgPrintfW
  00044	e3a04050	 mov         r4, #0x50
  00048		 |$LL3@OALBLMenuH|

; 74   :     for (i = 0; i < 80; i++)
; 75   :         OALLog(L"-");

  00048	e59f001c	 ldr         r0, [pc, #0x1C]
  0004c	eb000000	 bl          NKDbgPrintfW
  00050	e2544001	 subs        r4, r4, #1
  00054	1afffffb	 bne         |$LL3@OALBLMenuH|

; 76   :         OALLog(L"\r\n");

  00058	e59f0008	 ldr         r0, [pc, #8]
  0005c	eb000000	 bl          NKDbgPrintfW

; 77   : }

  00060	e89d6010	 ldmia       sp, {r4, sp, lr}
  00064	e12fff1e	 bx          lr
  00068		 |$LN16@OALBLMenuH|
  00068		 |$LN17@OALBLMenuH|
  00068	00000000	 DCD         |??_C@_15JNBOKNOG@?$AA?$AN?$AA?6?$AA?$AA@|
  0006c		 |$LN18@OALBLMenuH|
  0006c	00000000	 DCD         |??_C@_13IMODFHAA@?$AA?9?$AA?$AA@|
  00070		 |$LN19@OALBLMenuH|
  00070	00000000	 DCD         |??_C@_17HBLJBP@?$AA?$AN?$AA?6?$AA?5?$AA?$AA@|
  00074		 |$M43484|

			 ENDP  ; |OALBLMenuHeader|

	EXPORT	|OALBLMenuReadKey|
	IMPORT	|OEMReadDebugByte|

  00000			 AREA	 |.pdata|, PDATA
|$T43502| DCD	|$LN9@OALBLMenuR|
	DCD	0x40000f01
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |OALBLMenuReadKey| PROC

; 443  : {

  00000		 |$LN9@OALBLMenuR|
  00000	e92d4010	 stmdb       sp!, {r4, lr}
  00004		 |$M43499|
  00004	e1a04000	 mov         r4, r0
  00008		 |$LL3@OALBLMenuR|

; 444  :     CHAR key;
; 445  : 
; 446  :     while ((key = OEMReadDebugByte()) == OEM_DEBUG_READ_NODATA && wait);

  00008	eb000000	 bl          OEMReadDebugByte
  0000c	e1a03c00	 mov         r3, r0, lsl #24
  00010	e1a03c43	 mov         r3, r3, asr #24
  00014	e3730001	 cmn         r3, #1
  00018	1a000001	 bne         |$LN2@OALBLMenuR|
  0001c	e3540000	 cmp         r4, #0
  00020	1afffff8	 bne         |$LL3@OALBLMenuR|
  00024		 |$LN2@OALBLMenuR|

; 447  :     if (key == OEM_DEBUG_READ_NODATA) key = 0;

  00024	e3730001	 cmn         r3, #1
  00028	03a03000	 moveq       r3, #0

; 448  :     return (WCHAR)key;

  0002c	e1a00803	 mov         r0, r3, lsl #16
  00030	e1a00820	 mov         r0, r0, lsr #16

; 449  : }

  00034	e8bd4010	 ldmia       sp!, {r4, lr}
  00038	e12fff1e	 bx          lr
  0003c		 |$M43500|

			 ENDP  ; |OALBLMenuReadKey|

	EXPORT	|??_C@_0N@LKBAFPFA@?$CK?$CK?$CK?5auto?5?$CK?$CK?$CK?$AA@| [ DATA ] ; `string'

  00000			 AREA	 |.pdata|, PDATA
|$T43514| DCD	|$LN7@DeviceId|
	DCD	0x40000500

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_0N@LKBAFPFA@?$CK?$CK?$CK?5auto?5?$CK?$CK?$CK?$AA@| DCB "*** auto *"
	DCB	"**", 0x0				; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |DeviceId| PROC

; 454  : {

  00000		 |$LN7@DeviceId|
  00000		 |$M43511|

; 455  :     return deviceId[0] == '\0' ? "*** auto ***" : deviceId;

  00000	e1d030d0	 ldrsb       r3, [r0]
  00004	e3530000	 cmp         r3, #0
  00008	059f0000	 ldreq       r0, [pc]

; 456  : }

  0000c	e12fff1e	 bx          lr
  00010		 |$LN8@DeviceId|
  00010		 |$LN9@DeviceId|
  00010	00000000	 DCD         |??_C@_0N@LKBAFPFA@?$CK?$CK?$CK?5auto?5?$CK?$CK?$CK?$AA@|
  00014		 |$M43512|

			 ENDP  ; |DeviceId|

	EXPORT	|OALBLMenuShow|
	EXPORT	|??_C@_19DIEGALPP@?$AA?$CF?$AAc?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BO@MKGCCJBG@?$AA?$AN?$AA?6?$AA?5?$AAS?$AAe?$AAl?$AAe?$AAc?$AAt?$AAi?$AAo?$AAn?$AA?3?$AA?5?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BG@EBHIGBFG@?$AA?5?$AA?$FL?$AA?$CF?$AAc?$AA?$FN?$AA?5?$AA?$CF?$AAs?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_15GANGMFKL@?$AA?$CF?$AAs?$AA?$AA@| [ DATA ] ; `string'

  00000			 AREA	 |.pdata|, PDATA
|$T43543| DCD	|$LN32@OALBLMenuS|
	DCD	0x40002f01

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_19DIEGALPP@?$AA?$CF?$AAc?$AA?$AN?$AA?6?$AA?$AA@| DCB "%", 0x0, "c", 0x0
	DCB	0xd, 0x0, 0xa, 0x0, 0x0, 0x0		; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BO@MKGCCJBG@?$AA?$AN?$AA?6?$AA?5?$AAS?$AAe?$AAl?$AAe?$AAc?$AAt?$AAi?$AAo?$AAn?$AA?3?$AA?5?$AA?$AA@| DCB 0xd
	DCB	0x0, 0xa, 0x0, " ", 0x0, "S", 0x0, "e", 0x0, "l", 0x0, "e"
	DCB	0x0, "c", 0x0, "t", 0x0, "i", 0x0, "o", 0x0, "n", 0x0, ":"
	DCB	0x0, " ", 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BG@EBHIGBFG@?$AA?5?$AA?$FL?$AA?$CF?$AAc?$AA?$FN?$AA?5?$AA?$CF?$AAs?$AA?$AN?$AA?6?$AA?$AA@| DCB " "
	DCB	0x0, "[", 0x0, "%", 0x0, "c", 0x0, "]", 0x0, " ", 0x0, "%"
	DCB	0x0, "s", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_15GANGMFKL@?$AA?$CF?$AAs?$AA?$AA@| DCB "%", 0x0, "s", 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |OALBLMenuShow| PROC

; 82   : {

  00000		 |$LN32@OALBLMenuS|
  00000	e92d4070	 stmdb       sp!, {r4 - r6, lr}
  00004		 |$M43540|

; 83   :     LPCWSTR title = pMenu->pParam1;

  00004	e590600c	 ldr         r6, [r0, #0xC]

; 84   :     OAL_BLMENU_ITEM *aMenu = pMenu->pParam2, 

  00008	e5905010	 ldr         r5, [r0, #0x10]
  0000c		 |$LL13@OALBLMenuS|

; 85   :                     *pItem;
; 86   :     WCHAR key;
; 87   : 
; 88   :     while (TRUE) 
; 89   :     {
; 90   :         OALBLMenuHeader(L"%s", title);

  0000c	e59f00a4	 ldr         r0, [pc, #0xA4]
  00010	e1a01006	 mov         r1, r6
  00014	eb000000	 bl          OALBLMenuHeader

; 91   : 
; 92   :         // Print menu items
; 93   :         for (pItem = aMenu; pItem->key != 0; pItem++) {

  00018	e1d530b0	 ldrh        r3, [r5]
  0001c	e1a04005	 mov         r4, r5
  00020	ea000004	 b           |$LN28@OALBLMenuS|
  00024		 |$LL11@OALBLMenuS|

; 94   :             OALLog(L" [%c] %s\r\n", pItem->key, pItem->text);

  00024	e5942004	 ldr         r2, [r4, #4]
  00028	e59f0084	 ldr         r0, [pc, #0x84]
  0002c	e1a01003	 mov         r1, r3
  00030	eb000000	 bl          NKDbgPrintfW
  00034	e1f431b8	 ldrh        r3, [r4, #0x18]!
  00038		 |$LN28@OALBLMenuS|
  00038	e3530000	 cmp         r3, #0
  0003c	1afffff8	 bne         |$LL11@OALBLMenuS|

; 95   :         }
; 96   :         OALLog(L"\r\n Selection: ");

  00040	e59f0068	 ldr         r0, [pc, #0x68]
  00044	eb000000	 bl          NKDbgPrintfW
  00048		 |$LL8@OALBLMenuS|

; 97   : 
; 98   :         while (TRUE)
; 99   :         {
; 100  :             // Get key
; 101  :             key = OALBLMenuReadKey(TRUE);

  00048	e3a00001	 mov         r0, #1
  0004c	eb000000	 bl          OALBLMenuReadKey

; 102  :             // Look for key in menu
; 103  :             for (pItem = aMenu; pItem->key != 0; pItem++) {

  00050	e1d530b0	 ldrh        r3, [r5]
  00054	e1a04005	 mov         r4, r5
  00058	ea000002	 b           |$LN29@OALBLMenuS|
  0005c		 |$LL6@OALBLMenuS|

; 104  :                 if (pItem->key == key) break;

  0005c	e1530000	 cmp         r3, r0
  00060	0a000002	 beq         |$LN27@OALBLMenuS|
  00064	e1f431b8	 ldrh        r3, [r4, #0x18]!
  00068		 |$LN29@OALBLMenuS|
  00068	e3530000	 cmp         r3, #0
  0006c	1afffffa	 bne         |$LL6@OALBLMenuS|
  00070		 |$LN27@OALBLMenuS|

; 105  :             }
; 106  :             // If we find it, break loop
; 107  :             if (pItem->key != 0) break;

  00070	e1d430b0	 ldrh        r3, [r4]
  00074	e3530000	 cmp         r3, #0
  00078	0afffff2	 beq         |$LL8@OALBLMenuS|

; 108  :         }
; 109  : 
; 110  :         // Print out selection character
; 111  :         OALLog(L"%c\r\n", key);

  0007c	e1a01000	 mov         r1, r0
  00080	e59f0024	 ldr         r0, [pc, #0x24]
  00084	eb000000	 bl          NKDbgPrintfW

; 112  :         
; 113  :         // When action is NULL return back to parent menu
; 114  :         if (pItem->pfnAction == NULL) break;

  00088	e5943008	 ldr         r3, [r4, #8]
  0008c	e3530000	 cmp         r3, #0
  00090	0a000003	 beq         |$LN24@OALBLMenuS|

; 115  :         
; 116  :         // Else call menu action
; 117  :         pItem->pfnAction(pItem);

  00094	e1a00004	 mov         r0, r4
  00098	e1a0e00f	 mov         lr, pc
  0009c	e12fff13	 bx          r3
  000a0	eaffffd9	 b           |$LL13@OALBLMenuS|
  000a4		 |$LN24@OALBLMenuS|

; 118  :     } 
; 119  : 
; 120  : }

  000a4	e8bd4070	 ldmia       sp!, {r4 - r6, lr}
  000a8	e12fff1e	 bx          lr
  000ac		 |$LN33@OALBLMenuS|
  000ac		 |$LN34@OALBLMenuS|
  000ac	00000000	 DCD         |??_C@_19DIEGALPP@?$AA?$CF?$AAc?$AA?$AN?$AA?6?$AA?$AA@|
  000b0		 |$LN35@OALBLMenuS|
  000b0	00000000	 DCD         |??_C@_1BO@MKGCCJBG@?$AA?$AN?$AA?6?$AA?5?$AAS?$AAe?$AAl?$AAe?$AAc?$AAt?$AAi?$AAo?$AAn?$AA?3?$AA?5?$AA?$AA@|
  000b4		 |$LN36@OALBLMenuS|
  000b4	00000000	 DCD         |??_C@_1BG@EBHIGBFG@?$AA?5?$AA?$FL?$AA?$CF?$AAc?$AA?$FN?$AA?5?$AA?$CF?$AAs?$AA?$AN?$AA?6?$AA?$AA@|
  000b8		 |$LN37@OALBLMenuS|
  000b8	00000000	 DCD         |??_C@_15GANGMFKL@?$AA?$CF?$AAs?$AA?$AA@|
  000bc		 |$M43541|

			 ENDP  ; |OALBLMenuShow|

	EXPORT	|OALBLMenuEnable|
	EXPORT	|??_C@_1FI@GPDBNHB@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAO?$AAA?$AAL?$AAB?$AAL?$AAM?$AAe?$AAn?$AAu?$AAE?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?3?$AA?5?$AAI?$AAn?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BC@HOHDMONC@?$AA?5?$AA?$CF?$AAs?$AA?5?$AA?$CF?$AAs?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BO@ENGAEJMG@?$AA?5?$AA?$CF?$AAs?$AA?5?$AAs?$AAt?$AAa?$AAy?$AAs?$AA?5?$AA?$CF?$AAs?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DK@PCLKELEH@?$AA?5?$AA?$CF?$AAs?$AA?5?$AA?$CF?$AAs?$AA?5?$AA?$CI?$AAa?$AAc?$AAt?$AAu?$AAa?$AAl?$AAl?$AAy?$AA?5?$AA?$CF?$AAs?$AA?$CJ?$AA?5?$AA?$FL?$AAy?$AA?1?$AA?9?$AA?$FN?$AA?3?$AA?5?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1O@PFBIKACK@?$AAE?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BA@EHHBCNCC@?$AAD?$AAi?$AAs?$AAa?$AAb?$AAl?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BC@LGPIFEA@?$AAd?$AAi?$AAs?$AAa?$AAb?$AAl?$AAe?$AAd?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BA@BKMGIBPB@?$AAe?$AAn?$AAa?$AAb?$AAl?$AAe?$AAd?$AA?$AA@| [ DATA ] ; `string'
	IMPORT	|dpCurSettings|

  00000			 AREA	 |.pdata|, PDATA
|$T43580| DCD	|$LN32@OALBLMenuE|
	DCD	0x40004701

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FI@GPDBNHB@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAO?$AAA?$AAL?$AAB?$AAL?$AAM?$AAe?$AAn?$AAu?$AAE?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?3?$AA?5?$AAI?$AAn?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5@| DCB "E"
	DCB	0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, ":", 0x0, " "
	DCB	0x0, "O", 0x0, "A", 0x0, "L", 0x0, "B", 0x0, "L", 0x0, "M"
	DCB	0x0, "e", 0x0, "n", 0x0, "u", 0x0, "E", 0x0, "n", 0x0, "a"
	DCB	0x0, "b", 0x0, "l", 0x0, "e", 0x0, ":", 0x0, " ", 0x0, "I"
	DCB	0x0, "n", 0x0, "v", 0x0, "a", 0x0, "l", 0x0, "i", 0x0, "d"
	DCB	0x0, " ", 0x0, "p", 0x0, "a", 0x0, "r", 0x0, "a", 0x0, "m"
	DCB	0x0, "e", 0x0, "t", 0x0, "e", 0x0, "r", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BC@HOHDMONC@?$AA?5?$AA?$CF?$AAs?$AA?5?$AA?$CF?$AAs?$AA?$AN?$AA?6?$AA?$AA@| DCB " "
	DCB	0x0, "%", 0x0, "s", 0x0, " ", 0x0, "%", 0x0, "s", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BO@ENGAEJMG@?$AA?5?$AA?$CF?$AAs?$AA?5?$AAs?$AAt?$AAa?$AAy?$AAs?$AA?5?$AA?$CF?$AAs?$AA?$AN?$AA?6?$AA?$AA@| DCB " "
	DCB	0x0, "%", 0x0, "s", 0x0, " ", 0x0, "s", 0x0, "t", 0x0, "a"
	DCB	0x0, "y", 0x0, "s", 0x0, " ", 0x0, "%", 0x0, "s", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DK@PCLKELEH@?$AA?5?$AA?$CF?$AAs?$AA?5?$AA?$CF?$AAs?$AA?5?$AA?$CI?$AAa?$AAc?$AAt?$AAu?$AAa?$AAl?$AAl?$AAy?$AA?5?$AA?$CF?$AAs?$AA?$CJ?$AA?5?$AA?$FL?$AAy?$AA?1?$AA?9?$AA?$FN?$AA?3?$AA?5?$AA?$AA@| DCB " "
	DCB	0x0, "%", 0x0, "s", 0x0, " ", 0x0, "%", 0x0, "s", 0x0, " "
	DCB	0x0, "(", 0x0, "a", 0x0, "c", 0x0, "t", 0x0, "u", 0x0, "a"
	DCB	0x0, "l", 0x0, "l", 0x0, "y", 0x0, " ", 0x0, "%", 0x0, "s"
	DCB	0x0, ")", 0x0, " ", 0x0, "[", 0x0, "y", 0x0, "/", 0x0, "-"
	DCB	0x0, "]", 0x0, ":", 0x0, " ", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1O@PFBIKACK@?$AAE?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?$AA@| DCB "E", 0x0, "n"
	DCB	0x0, "a", 0x0, "b", 0x0, "l", 0x0, "e", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BA@EHHBCNCC@?$AAD?$AAi?$AAs?$AAa?$AAb?$AAl?$AAe?$AA?$AA@| DCB "D", 0x0
	DCB	"i", 0x0, "s", 0x0, "a", 0x0, "b", 0x0, "l", 0x0, "e", 0x0
	DCB	0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BC@LGPIFEA@?$AAd?$AAi?$AAs?$AAa?$AAb?$AAl?$AAe?$AAd?$AA?$AA@| DCB "d"
	DCB	0x0, "i", 0x0, "s", 0x0, "a", 0x0, "b", 0x0, "l", 0x0, "e"
	DCB	0x0, "d", 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BA@BKMGIBPB@?$AAe?$AAn?$AAa?$AAb?$AAl?$AAe?$AAd?$AA?$AA@| DCB "e", 0x0
	DCB	"n", 0x0, "a", 0x0, "b", 0x0, "l", 0x0, "e", 0x0, "d", 0x0
	DCB	0x0, 0x0				; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |OALBLMenuEnable| PROC

; 125  : {

  00000		 |$LN32@OALBLMenuE|
  00000	e92d43f0	 stmdb       sp!, {r4 - r9, lr}
  00004		 |$M43577|

; 126  :     LPCWSTR title = pMenu->pParam1;

  00004	e590300c	 ldr         r3, [r0, #0xC]

; 127  :     UINT32 *pFlags = pMenu->pParam2;

  00008	e5904010	 ldr         r4, [r0, #0x10]

; 128  :     UINT32 mask = (UINT32)pMenu->pParam3;

  0000c	e5906014	 ldr         r6, [r0, #0x14]
  00010	e1b08003	 movs        r8, r3

; 129  :     BOOL flag;
; 130  :     WCHAR key;
; 131  : 
; 132  :     // First check input parameter   
; 133  :     if (title == NULL || pFlags == NULL) {

  00014	0a00002f	 beq         |$LN7@OALBLMenuE|
  00018	e3540000	 cmp         r4, #0
  0001c	0a00002d	 beq         |$LN7@OALBLMenuE|

; 135  :         goto cleanUp;
; 136  :     }
; 137  :     if (mask == 0) mask = 0xFFFF;

  00020	e3560000	 cmp         r6, #0
  00024	03a03cff	 moveq       r3, #0xFF, 24
  00028	038360ff	 orreq       r6, r3, #0xFF

; 138  : 
; 139  :     flag = (*pFlags & mask) != 0;

  0002c	e5943000	 ldr         r3, [r4]
  00030	e59f70e0	 ldr         r7, [pc, #0xE0]

; 140  :     
; 141  :     OALLog(
; 142  :         L" %s %s (actually %s) [y/-]: ", flag ? L"Disable" : L"Enable",
; 143  :         title, flag ? L"enabled" : L"disabled"
; 144  :     );

  00034	e59f00d8	 ldr         r0, [pc, #0xD8]
  00038	e1130006	 tst         r3, r6
  0003c	159f10cc	 ldrne       r1, [pc, #0xCC]
  00040	059f10c4	 ldreq       r1, [pc, #0xC4]
  00044	11a03007	 movne       r3, r7
  00048	059f30b0	 ldreq       r3, [pc, #0xB0]
  0004c	13a05001	 movne       r5, #1
  00050	e1a02008	 mov         r2, r8
  00054	03a05000	 moveq       r5, #0
  00058	eb000000	 bl          NKDbgPrintfW

; 145  : 
; 146  :     // Get key
; 147  :     key = OALBLMenuReadKey(TRUE);

  0005c	e3a00001	 mov         r0, #1
  00060	eb000000	 bl          OALBLMenuReadKey
  00064	e1a09000	 mov         r9, r0

; 148  :     OALLog(L"%c\r\n", key);

  00068	e59f0098	 ldr         r0, [pc, #0x98]
  0006c	e1a01009	 mov         r1, r9
  00070	eb000000	 bl          NKDbgPrintfW

; 149  : 
; 150  :     if (key == L'y' || key == L'Y') {

  00074	e3590079	 cmp         r9, #0x79
  00078	0a000005	 beq         |$LN4@OALBLMenuE|
  0007c	e3590059	 cmp         r9, #0x59
  00080	0a000003	 beq         |$LN4@OALBLMenuE|

; 153  :     } else {
; 154  :         OALLog(
; 155  :             L" %s stays %s\r\n", title, flag ? L"enabled" : L"disabled"
; 156  :         );

  00084	e3550000	 cmp         r5, #0
  00088	059f7070	 ldreq       r7, [pc, #0x70]
  0008c	e59f0070	 ldr         r0, [pc, #0x70]
  00090	ea000004	 b           |$LN28@OALBLMenuE|
  00094		 |$LN4@OALBLMenuE|

; 151  :         flag = !flag;

  00094	e3550000	 cmp         r5, #0

; 152  :         OALLog(L" %s %s\r\n", title, flag ? L"enabled" : L"disabled");

  00098	159f7060	 ldrne       r7, [pc, #0x60]
  0009c	e59f0058	 ldr         r0, [pc, #0x58]
  000a0	03a05001	 moveq       r5, #1
  000a4	13a05000	 movne       r5, #0
  000a8		 |$LN28@OALBLMenuE|
  000a8	e1a02007	 mov         r2, r7
  000ac	e1a01008	 mov         r1, r8
  000b0	eb000000	 bl          NKDbgPrintfW

; 157  :     }
; 158  : 
; 159  :     // Save value
; 160  :     if (flag) {
; 161  :         *pFlags |= mask;

  000b4	e5943000	 ldr         r3, [r4]
  000b8	e3550000	 cmp         r5, #0
  000bc	0a000003	 beq         |$LN2@OALBLMenuE|
  000c0	e1833006	 orr         r3, r3, r6
  000c4		 |$LN29@OALBLMenuE|
  000c4	e5843000	 str         r3, [r4]

; 164  :     }
; 165  : 
; 166  : cleanUp:;
; 167  : }

  000c8	e8bd43f0	 ldmia       sp!, {r4 - r9, lr}
  000cc	e12fff1e	 bx          lr
  000d0		 |$LN2@OALBLMenuE|

; 162  :     } else {
; 163  :         *pFlags &= ~mask;

  000d0	e1c33006	 bic         r3, r3, r6
  000d4	eafffffa	 b           |$LN29@OALBLMenuE|
  000d8		 |$LN7@OALBLMenuE|

; 134  :         OALMSG(OAL_ERROR, (L"ERROR: OALBLMenuEnable: Invalid parameter\r\n"));

  000d8	e59f3018	 ldr         r3, [pc, #0x18]
  000dc	e5933440	 ldr         r3, [r3, #0x440]
  000e0	e3130001	 tst         r3, #1
  000e4	159f0008	 ldrne       r0, [pc, #8]
  000e8	1b000000	 blne        NKDbgPrintfW
  000ec		 |$cleanUp$43232|

; 164  :     }
; 165  : 
; 166  : cleanUp:;
; 167  : }

  000ec	e8bd43f0	 ldmia       sp!, {r4 - r9, lr}
  000f0	e12fff1e	 bx          lr
  000f4		 |$LN33@OALBLMenuE|
  000f4		 |$LN34@OALBLMenuE|
  000f4	00000000	 DCD         |??_C@_1FI@GPDBNHB@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAO?$AAA?$AAL?$AAB?$AAL?$AAM?$AAe?$AAn?$AAu?$AAE?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?3?$AA?5?$AAI?$AAn?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5@|
  000f8		 |$LN35@OALBLMenuE|
  000f8	00000000	 DCD         |dpCurSettings|
  000fc		 |$LN36@OALBLMenuE|
  000fc	00000000	 DCD         |??_C@_1BC@HOHDMONC@?$AA?5?$AA?$CF?$AAs?$AA?5?$AA?$CF?$AAs?$AA?$AN?$AA?6?$AA?$AA@|
  00100		 |$LN37@OALBLMenuE|
  00100	00000000	 DCD         |??_C@_1BC@LGPIFEA@?$AAd?$AAi?$AAs?$AAa?$AAb?$AAl?$AAe?$AAd?$AA?$AA@|
  00104		 |$LN38@OALBLMenuE|
  00104	00000000	 DCD         |??_C@_1BO@ENGAEJMG@?$AA?5?$AA?$CF?$AAs?$AA?5?$AAs?$AAt?$AAa?$AAy?$AAs?$AA?5?$AA?$CF?$AAs?$AA?$AN?$AA?6?$AA?$AA@|
  00108		 |$LN39@OALBLMenuE|
  00108	00000000	 DCD         |??_C@_19DIEGALPP@?$AA?$CF?$AAc?$AA?$AN?$AA?6?$AA?$AA@|
  0010c		 |$LN40@OALBLMenuE|
  0010c	00000000	 DCD         |??_C@_1O@PFBIKACK@?$AAE?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?$AA@|
  00110		 |$LN41@OALBLMenuE|
  00110	00000000	 DCD         |??_C@_1BA@EHHBCNCC@?$AAD?$AAi?$AAs?$AAa?$AAb?$AAl?$AAe?$AA?$AA@|
  00114		 |$LN42@OALBLMenuE|
  00114	00000000	 DCD         |??_C@_1DK@PCLKELEH@?$AA?5?$AA?$CF?$AAs?$AA?5?$AA?$CF?$AAs?$AA?5?$AA?$CI?$AAa?$AAc?$AAt?$AAu?$AAa?$AAl?$AAl?$AAy?$AA?5?$AA?$CF?$AAs?$AA?$CJ?$AA?5?$AA?$FL?$AAy?$AA?1?$AA?9?$AA?$FN?$AA?3?$AA?5?$AA?$AA@|
  00118		 |$LN43@OALBLMenuE|
  00118	00000000	 DCD         |??_C@_1BA@BKMGIBPB@?$AAe?$AAn?$AAa?$AAb?$AAl?$AAe?$AAd?$AA?$AA@|
  0011c		 |$M43578|

			 ENDP  ; |OALBLMenuEnable|

	EXPORT	|OALBLMenuSelectDevice|
	EXPORT	|??_C@_1GG@GCPJEPA@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAO?$AAA?$AAL?$AAB?$AAL?$AAM?$AAe?$AAn?$AAu?$AAS?$AAe?$AAl?$AAe?$AAc?$AAt?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?3?$AA?5?$AAI?$AAn@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CO@MNGNNHKJ@?$AA?5?$AA?$CF?$AAs?$AA?5?$AAd?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?5?$AAs?$AAe?$AAt?$AA?5?$AAt?$AAo?$AA?5?$AA?$CF?$AAs?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DC@KGICMHCL@?$AA?5?$AA?$FL?$AA0?$AA?$FN?$AA?5?$AAE?$AAx?$AAi?$AAt?$AA?5?$AAa?$AAn?$AAd?$AA?5?$AAC?$AAo?$AAn?$AAt?$AAi?$AAn?$AAu?$AAe?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DG@FKDJCDHM@?$AA?$AN?$AA?6?$AA?5?$AAS?$AAe?$AAl?$AAe?$AAc?$AAt?$AAi?$AAo?$AAn?$AA?5?$AA?$CI?$AAa?$AAc?$AAt?$AAu?$AAa?$AAl?$AA?5?$AA?$CF?$AAs?$AA?$CJ?$AA?3?$AA?5?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BG@LMIBJJCD@?$AA?5?$AA?$FL?$AA?$CF?$AAd?$AA?$FN?$AA?5?$AA?$CF?$AAs?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CC@GHCHDPIM@?$AAS?$AAe?$AAl?$AAe?$AAc?$AAt?$AA?5?$AA?$CF?$AAs?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?$AA@| [ DATA ] ; `string'
	IMPORT	|OALKitlDeviceName|
	IMPORT	|OALPCIFindNextId|
	IMPORT	|memcpy|

  00000			 AREA	 |.pdata|, PDATA
|$T43616| DCD	|$LN31@OALBLMenuS@2|
	DCD	0x40008202

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1GG@GCPJEPA@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAO?$AAA?$AAL?$AAB?$AAL?$AAM?$AAe?$AAn?$AAu?$AAS?$AAe?$AAl?$AAe?$AAc?$AAt?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?3?$AA?5?$AAI?$AAn@| DCB "E"
	DCB	0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, ":", 0x0, " "
	DCB	0x0, "O", 0x0, "A", 0x0, "L", 0x0, "B", 0x0, "L", 0x0, "M"
	DCB	0x0, "e", 0x0, "n", 0x0, "u", 0x0, "S", 0x0, "e", 0x0, "l"
	DCB	0x0, "e", 0x0, "c", 0x0, "t", 0x0, "D", 0x0, "e", 0x0, "v"
	DCB	0x0, "i", 0x0, "c", 0x0, "e", 0x0, ":", 0x0, " ", 0x0, "I"
	DCB	0x0, "n", 0x0, "v", 0x0, "a", 0x0, "l", 0x0, "i", 0x0, "d"
	DCB	0x0, " ", 0x0, "p", 0x0, "a", 0x0, "r", 0x0, "a", 0x0, "m"
	DCB	0x0, "e", 0x0, "t", 0x0, "e", 0x0, "r", 0x0, "s", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CO@MNGNNHKJ@?$AA?5?$AA?$CF?$AAs?$AA?5?$AAd?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?5?$AAs?$AAe?$AAt?$AA?5?$AAt?$AAo?$AA?5?$AA?$CF?$AAs?$AA?$AN?$AA?6?$AA?$AA@| DCB " "
	DCB	0x0, "%", 0x0, "s", 0x0, " ", 0x0, "d", 0x0, "e", 0x0, "v"
	DCB	0x0, "i", 0x0, "c", 0x0, "e", 0x0, " ", 0x0, "s", 0x0, "e"
	DCB	0x0, "t", 0x0, " ", 0x0, "t", 0x0, "o", 0x0, " ", 0x0, "%"
	DCB	0x0, "s", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DC@KGICMHCL@?$AA?5?$AA?$FL?$AA0?$AA?$FN?$AA?5?$AAE?$AAx?$AAi?$AAt?$AA?5?$AAa?$AAn?$AAd?$AA?5?$AAC?$AAo?$AAn?$AAt?$AAi?$AAn?$AAu?$AAe?$AA?$AN?$AA?6?$AA?$AA@| DCB " "
	DCB	0x0, "[", 0x0, "0", 0x0, "]", 0x0, " ", 0x0, "E", 0x0, "x"
	DCB	0x0, "i", 0x0, "t", 0x0, " ", 0x0, "a", 0x0, "n", 0x0, "d"
	DCB	0x0, " ", 0x0, "C", 0x0, "o", 0x0, "n", 0x0, "t", 0x0, "i"
	DCB	0x0, "n", 0x0, "u", 0x0, "e", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DG@FKDJCDHM@?$AA?$AN?$AA?6?$AA?5?$AAS?$AAe?$AAl?$AAe?$AAc?$AAt?$AAi?$AAo?$AAn?$AA?5?$AA?$CI?$AAa?$AAc?$AAt?$AAu?$AAa?$AAl?$AA?5?$AA?$CF?$AAs?$AA?$CJ?$AA?3?$AA?5?$AA?$AA@| DCB 0xd
	DCB	0x0, 0xa, 0x0, " ", 0x0, "S", 0x0, "e", 0x0, "l", 0x0, "e"
	DCB	0x0, "c", 0x0, "t", 0x0, "i", 0x0, "o", 0x0, "n", 0x0, " "
	DCB	0x0, "(", 0x0, "a", 0x0, "c", 0x0, "t", 0x0, "u", 0x0, "a"
	DCB	0x0, "l", 0x0, " ", 0x0, "%", 0x0, "s", 0x0, ")", 0x0, ":"
	DCB	0x0, " ", 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BG@LMIBJJCD@?$AA?5?$AA?$FL?$AA?$CF?$AAd?$AA?$FN?$AA?5?$AA?$CF?$AAs?$AA?$AN?$AA?6?$AA?$AA@| DCB " "
	DCB	0x0, "[", 0x0, "%", 0x0, "d", 0x0, "]", 0x0, " ", 0x0, "%"
	DCB	0x0, "s", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CC@GHCHDPIM@?$AAS?$AAe?$AAl?$AAe?$AAc?$AAt?$AA?5?$AA?$CF?$AAs?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?$AA@| DCB "S"
	DCB	0x0, "e", 0x0, "l", 0x0, "e", 0x0, "c", 0x0, "t", 0x0, " "
	DCB	0x0, "%", 0x0, "s", 0x0, " ", 0x0, "D", 0x0, "e", 0x0, "v"
	DCB	0x0, "i", 0x0, "c", 0x0, "e", 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |OALBLMenuSelectDevice| PROC

; 332  : {

  00000		 |$LN31@OALBLMenuS@2|
  00000	e92d4ff0	 stmdb       sp!, {r4 - r11, lr}
  00004	e24dd0a8	 sub         sp, sp, #0xA8
  00008		 |$M43613|

; 333  :     LPCWSTR title = pMenu->pParam1;

  00008	e590300c	 ldr         r3, [r0, #0xC]

; 334  :     DEVICE_LOCATION *pDevLoc = pMenu->pParam2;

  0000c	e5907010	 ldr         r7, [r0, #0x10]

; 335  :     OAL_KITL_DEVICE *aDevices = pMenu->pParam3, *pDevice;

  00010	e5905014	 ldr         r5, [r0, #0x14]
  00014	e1b09003	 movs        r9, r3
  00018	e58d9004	 str         r9, [sp, #4]

; 336  :     DEVICE_LOCATION devLoc[OAL_MENU_MAX_DEVICES];
; 337  :     UINT32 i;
; 338  :     WCHAR key;
; 339  : 
; 340  :     // First check input parameters    
; 341  :     if (title == NULL || pDevLoc == NULL || aDevices == NULL) {

  0001c	0a000069	 beq         |$LN15@OALBLMenuS@2|
  00020	e3570000	 cmp         r7, #0
  00024	0a000067	 beq         |$LN15@OALBLMenuS@2|
  00028	e3550000	 cmp         r5, #0
  0002c	0a000065	 beq         |$LN15@OALBLMenuS@2|

; 345  :         goto cleanUp;
; 346  :     }
; 347  : 
; 348  :     OALBLMenuHeader(L"Select %s Device", title);

  00030	e59f01cc	 ldr         r0, [pc, #0x1CC]
  00034	e1a01009	 mov         r1, r9
  00038	eb000000	 bl          OALBLMenuHeader

; 349  : 
; 350  :     i = 0;
; 351  :     pDevice = aDevices;
; 352  :     while (pDevice->name != NULL && i < OAL_MENU_MAX_DEVICES) {

  0003c	e5953000	 ldr         r3, [r5]
  00040	e3a06000	 mov         r6, #0
  00044	e1a04005	 mov         r4, r5
  00048	e3530000	 cmp         r3, #0
  0004c	0a000039	 beq         |$LN13@OALBLMenuS@2|
  00050	e3a09000	 mov         r9, #0
  00054	e3a02000	 mov         r2, #0
  00058	e28da008	 add         r10, sp, #8
  0005c	e28db008	 add         r11, sp, #8
  00060		 |$LL14@OALBLMenuS@2|
  00060	e3560008	 cmp         r6, #8
  00064	2a000032	 bcs         |$LN27@OALBLMenuS@2|

; 353  :         switch (pDevice->ifcType) {

  00068	e5941004	 ldr         r1, [r4, #4]
  0006c	e1b03001	 movs        r3, r1
  00070	0a00001b	 beq         |$LN10@OALBLMenuS@2|
  00074	e3530005	 cmp         r3, #5

; 386  : #endif
; 387  :         default:
; 388  :             pDevice++;
; 389  :             break;

  00078	1a000029	 bne         |$LN28@OALBLMenuS@2|
  0007c	e0863106	 add         r3, r6, r6, lsl #2
  00080	e08a8103	 add         r8, r10, r3, lsl #2
  00084	e58d2000	 str         r2, [sp]
  00088		 |$LL8@OALBLMenuS@2|
  00088	e5941008	 ldr         r1, [r4, #8]
  0008c	e28d2000	 add         r2, sp, #0
  00090	e3a00000	 mov         r0, #0
  00094	eb000000	 bl          OALPCIFindNextId
  00098	e3500000	 cmp         r0, #0
  0009c	0a00001f	 beq         |$LN25@OALBLMenuS@2|
  000a0	e5943004	 ldr         r3, [r4, #4]
  000a4	e59d2000	 ldr         r2, [sp]
  000a8	e1a01005	 mov         r1, r5
  000ac	e1a00008	 mov         r0, r8
  000b0	e8880208	 stmia       r8, {r3, r9}
  000b4	e288c008	 add         r12, r8, #8
  000b8	e88c0204	 stmia       r12, {r2, r9}
  000bc	eb000000	 bl          OALKitlDeviceName
  000c0	e1a02000	 mov         r2, r0
  000c4	e59f0134	 ldr         r0, [pc, #0x134]
  000c8	e2866001	 add         r6, r6, #1
  000cc	e1a01006	 mov         r1, r6
  000d0	eb000000	 bl          NKDbgPrintfW
  000d4	e2888014	 add         r8, r8, #0x14
  000d8	e3560008	 cmp         r6, #8
  000dc	3affffe9	 bcc         |$LL8@OALBLMenuS@2|

; 364  :             break;
; 365  : #ifdef OAL_BLMENU_PCI
; 366  :         case PCIBus:
; 367  :             {
; 368  :                 OAL_PCI_LOCATION pciLoc;
; 369  : 
; 370  :                 pciLoc.logicalLoc = 0;
; 371  :                 while (i < OAL_MENU_MAX_DEVICES) {
; 372  :                     if (!OALPCIFindNextId(0, pDevice->id, &pciLoc)) break;
; 373  :                     devLoc[i].IfcType = pDevice->ifcType;
; 374  :                     devLoc[i].BusNumber = 0;
; 375  :                     devLoc[i].LogicalLoc = pciLoc.logicalLoc;
; 376  :                     devLoc[i].PhysicalLoc = 0;
; 377  :                     OALLog(
; 378  :                         L" [%d] %s\r\n", i + 1, 
; 379  :                         OALKitlDeviceName(&devLoc[i], aDevices)
; 380  :                     );
; 381  :                     i++;
; 382  :                 }
; 383  :                 pDevice++;
; 384  :             }
; 385  :             break;

  000e0	ea00000e	 b           |$LN25@OALBLMenuS@2|
  000e4		 |$LN10@OALBLMenuS@2|

; 354  :         case Internal:
; 355  :             devLoc[i].IfcType = pDevice->ifcType;

  000e4	e0863106	 add         r3, r6, r6, lsl #2

; 356  :             devLoc[i].BusNumber = 0;

  000e8	e08b2103	 add         r2, r11, r3, lsl #2
  000ec	e28d0008	 add         r0, sp, #8
  000f0	e5829004	 str         r9, [r2, #4]
  000f4	e7a01103	 str         r1, [r0, +r3, lsl #2]!

; 357  :             devLoc[i].LogicalLoc = pDevice->id;

  000f8	e5943008	 ldr         r3, [r4, #8]

; 358  :             devLoc[i].PhysicalLoc = 0;
; 359  :             OALLog(
; 360  :                 L" [%d] %s\r\n", i + 1, OALKitlDeviceName(&devLoc[i], aDevices)
; 361  :             );

  000fc	e1a01005	 mov         r1, r5
  00100	e582900c	 str         r9, [r2, #0xC]
  00104	e5823008	 str         r3, [r2, #8]
  00108	eb000000	 bl          OALKitlDeviceName
  0010c	e1a02000	 mov         r2, r0
  00110	e59f00e8	 ldr         r0, [pc, #0xE8]
  00114	e2866001	 add         r6, r6, #1
  00118	e1a01006	 mov         r1, r6
  0011c	eb000000	 bl          NKDbgPrintfW
  00120		 |$LN25@OALBLMenuS@2|
  00120	e3a02000	 mov         r2, #0
  00124		 |$LN28@OALBLMenuS@2|

; 362  :             i++;
; 363  :             pDevice++;

  00124	e2844018	 add         r4, r4, #0x18
  00128	e5943000	 ldr         r3, [r4]
  0012c	e3530000	 cmp         r3, #0
  00130	1affffca	 bne         |$LL14@OALBLMenuS@2|
  00134		 |$LN27@OALBLMenuS@2|

; 335  :     OAL_KITL_DEVICE *aDevices = pMenu->pParam3, *pDevice;

  00134	e59d9004	 ldr         r9, [sp, #4]
  00138		 |$LN13@OALBLMenuS@2|

; 390  :         }        
; 391  :     }    
; 392  :     OALLog(L" [0] Exit and Continue\r\n");

  00138	e59f00bc	 ldr         r0, [pc, #0xBC]
  0013c	eb000000	 bl          NKDbgPrintfW

; 393  : 
; 394  :     OALLog(
; 395  :         L"\r\n Selection (actual %s): ", OALKitlDeviceName(pDevLoc, aDevices)
; 396  :     );

  00140	e1a01005	 mov         r1, r5
  00144	e1a00007	 mov         r0, r7
  00148	eb000000	 bl          OALKitlDeviceName
  0014c	e1a01000	 mov         r1, r0
  00150	e59f00a0	 ldr         r0, [pc, #0xA0]
  00154	eb000000	 bl          NKDbgPrintfW
  00158	e2866030	 add         r6, r6, #0x30
  0015c		 |$LL4@OALBLMenuS@2|

; 397  : 
; 398  :     do {
; 399  :         key = OALBLMenuReadKey(TRUE);

  0015c	e3a00001	 mov         r0, #1
  00160	eb000000	 bl          OALBLMenuReadKey
  00164	e1a04000	 mov         r4, r0

; 400  :     } while (key < L'0' || key > L'0' + i);

  00168	e3540030	 cmp         r4, #0x30
  0016c	3afffffa	 bcc         |$LL4@OALBLMenuS@2|
  00170	e1540006	 cmp         r4, r6
  00174	8afffff8	 bhi         |$LL4@OALBLMenuS@2|

; 401  :     OALLog(L"%c\r\n", key);

  00178	e59f0074	 ldr         r0, [pc, #0x74]
  0017c	e1a01004	 mov         r1, r4
  00180	eb000000	 bl          NKDbgPrintfW

; 402  : 
; 403  :     // If user select exit don't change device
; 404  :     if (key == L'0') goto cleanUp;

  00184	e3540030	 cmp         r4, #0x30
  00188	0a000013	 beq         |$cleanUp$43336|

; 405  :     
; 406  :     memcpy(pDevLoc, &devLoc[key - L'0' - 1], sizeof(DEVICE_LOCATION));

  0018c	e0842104	 add         r2, r4, r4, lsl #2
  00190	e28d3008	 add         r3, sp, #8
  00194	e0833102	 add         r3, r3, r2, lsl #2
  00198	e2431ff5	 sub         r1, r3, #0xF5, 30
  0019c	e3a02014	 mov         r2, #0x14
  001a0	e1a00007	 mov         r0, r7
  001a4	eb000000	 bl          memcpy

; 407  :     OALLog(
; 408  :         L" %s device set to %s\r\n", title, OALKitlDeviceName(pDevLoc, aDevices)
; 409  :     );

  001a8	e1a01005	 mov         r1, r5
  001ac	e1a00007	 mov         r0, r7
  001b0	eb000000	 bl          OALKitlDeviceName
  001b4	e1a02000	 mov         r2, r0
  001b8	e59f0030	 ldr         r0, [pc, #0x30]
  001bc	e1a01009	 mov         r1, r9
  001c0	eb000000	 bl          NKDbgPrintfW
  001c4	ea000004	 b           |$cleanUp$43336|
  001c8		 |$LN15@OALBLMenuS@2|

; 342  :         OALMSG(OAL_ERROR, (
; 343  :             L"ERROR: OALBLMenuSelectDevice: Invalid parameters\r\n"
; 344  :         ));

  001c8	e59f301c	 ldr         r3, [pc, #0x1C]
  001cc	e5933440	 ldr         r3, [r3, #0x440]
  001d0	e3130001	 tst         r3, #1
  001d4	159f000c	 ldrne       r0, [pc, #0xC]
  001d8	1b000000	 blne        NKDbgPrintfW
  001dc		 |$cleanUp$43336|

; 410  : 
; 411  : cleanUp:;    
; 412  : }

  001dc	e28dd0a8	 add         sp, sp, #0xA8
  001e0	e8bd4ff0	 ldmia       sp!, {r4 - r11, lr}
  001e4	e12fff1e	 bx          lr
  001e8		 |$LN32@OALBLMenuS@2|
  001e8		 |$LN33@OALBLMenuS@2|
  001e8	00000000	 DCD         |??_C@_1GG@GCPJEPA@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAO?$AAA?$AAL?$AAB?$AAL?$AAM?$AAe?$AAn?$AAu?$AAS?$AAe?$AAl?$AAe?$AAc?$AAt?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?3?$AA?5?$AAI?$AAn@|
  001ec		 |$LN34@OALBLMenuS@2|
  001ec	00000000	 DCD         |dpCurSettings|
  001f0		 |$LN35@OALBLMenuS@2|
  001f0	00000000	 DCD         |??_C@_1CO@MNGNNHKJ@?$AA?5?$AA?$CF?$AAs?$AA?5?$AAd?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?5?$AAs?$AAe?$AAt?$AA?5?$AAt?$AAo?$AA?5?$AA?$CF?$AAs?$AA?$AN?$AA?6?$AA?$AA@|
  001f4		 |$LN36@OALBLMenuS@2|
  001f4	00000000	 DCD         |??_C@_19DIEGALPP@?$AA?$CF?$AAc?$AA?$AN?$AA?6?$AA?$AA@|
  001f8		 |$LN37@OALBLMenuS@2|
  001f8	00000000	 DCD         |??_C@_1DG@FKDJCDHM@?$AA?$AN?$AA?6?$AA?5?$AAS?$AAe?$AAl?$AAe?$AAc?$AAt?$AAi?$AAo?$AAn?$AA?5?$AA?$CI?$AAa?$AAc?$AAt?$AAu?$AAa?$AAl?$AA?5?$AA?$CF?$AAs?$AA?$CJ?$AA?3?$AA?5?$AA?$AA@|
  001fc		 |$LN38@OALBLMenuS@2|
  001fc	00000000	 DCD         |??_C@_1DC@KGICMHCL@?$AA?5?$AA?$FL?$AA0?$AA?$FN?$AA?5?$AAE?$AAx?$AAi?$AAt?$AA?5?$AAa?$AAn?$AAd?$AA?5?$AAC?$AAo?$AAn?$AAt?$AAi?$AAn?$AAu?$AAe?$AA?$AN?$AA?6?$AA?$AA@|
  00200		 |$LN39@OALBLMenuS@2|
  00200	00000000	 DCD         |??_C@_1BG@LMIBJJCD@?$AA?5?$AA?$FL?$AA?$CF?$AAd?$AA?$FN?$AA?5?$AA?$CF?$AAs?$AA?$AN?$AA?6?$AA?$AA@|
  00204		 |$LN40@OALBLMenuS@2|
  00204	00000000	 DCD         |??_C@_1CC@GHCHDPIM@?$AAS?$AAe?$AAl?$AAe?$AAc?$AAt?$AA?5?$AA?$CF?$AAs?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?$AA@|
  00208		 |$M43614|

			 ENDP  ; |OALBLMenuSelectDevice|

	EXPORT	|OALBLMenuReadLine|
	EXPORT	|??_C@_15DAMPJCDE@?$AA?$CF?$AAc?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_17ILCABGPK@?$AA?$AI?$AA?5?$AA?$AI?$AA?$AA@| [ DATA ] ; `string'

  00000			 AREA	 |.pdata|, PDATA
|$T43640| DCD	|$LN14@OALBLMenuR@2|
	DCD	0x40002e01

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_15DAMPJCDE@?$AA?$CF?$AAc?$AA?$AA@| DCB "%", 0x0, "c", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_17ILCABGPK@?$AA?$AI?$AA?5?$AA?$AI?$AA?$AA@| DCB 0x8, 0x0, " ", 0x0
	DCB	0x8, 0x0, 0x0, 0x0			; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |OALBLMenuReadLine| PROC

; 417  : {

  00000		 |$LN14@OALBLMenuR@2|
  00000	e92d41f0	 stmdb       sp!, {r4 - r8, lr}
  00004		 |$M43637|
  00004	e1b07001	 movs        r7, r1
  00008	e1a06000	 mov         r6, r0

; 418  :     UINT32 count;
; 419  :     WCHAR key;
; 420  :     
; 421  :     count = 0;

  0000c	e3a04000	 mov         r4, #0

; 422  :     while (count < CharCount) {

  00010	0a00001f	 beq         |$LN6@OALBLMenuR@2|
  00014	e1a05006	 mov         r5, r6
  00018	e2478001	 sub         r8, r7, #1
  0001c		 |$LL7@OALBLMenuR@2|

; 423  :         key = OALBLMenuReadKey(TRUE);

  0001c	e3a00001	 mov         r0, #1
  00020	eb000000	 bl          OALBLMenuReadKey
  00024	e1a03000	 mov         r3, r0

; 424  :        if (key == L'\r' || key == L'\n') {

  00028	e353000d	 cmp         r3, #0xD
  0002c	0a000016	 beq         |$LN11@OALBLMenuR@2|
  00030	e353000a	 cmp         r3, #0xA
  00034	0a000014	 beq         |$LN11@OALBLMenuR@2|

; 426  :           break;
; 427  :        } if (key == L'\b' && count > 0) {

  00038	e3530008	 cmp         r3, #8
  0003c	1a000006	 bne         |$LN3@OALBLMenuR@2|
  00040	e3540000	 cmp         r4, #0
  00044	0a000004	 beq         |$LN3@OALBLMenuR@2|

; 428  :           OALLog(L"\b \b");

  00048	e59f0064	 ldr         r0, [pc, #0x64]
  0004c	eb000000	 bl          NKDbgPrintfW

; 429  :           count--;

  00050	e2444001	 sub         r4, r4, #1
  00054	e2455002	 sub         r5, r5, #2
  00058	ea000008	 b           |$LN1@OALBLMenuR@2|
  0005c		 |$LN3@OALBLMenuR@2|

; 430  :        } else if (key >= L' ' && key < 128 && count < (CharCount - 1)) {

  0005c	e3530020	 cmp         r3, #0x20
  00060	3a000006	 bcc         |$LN1@OALBLMenuR@2|
  00064	e3530080	 cmp         r3, #0x80
  00068	31540008	 cmpcc       r4, r8

; 431  :           szBuffer[count++] = key;
; 432  :           OALLog(L"%c", key);

  0006c	359f003c	 ldrcc       r0, [pc, #0x3C]
  00070	31a01003	 movcc       r1, r3
  00074	30c530b2	 strcch      r3, [r5], #2
  00078	32844001	 addcc       r4, r4, #1
  0007c	3b000000	 blcc        NKDbgPrintfW
  00080		 |$LN1@OALBLMenuR@2|

; 422  :     while (count < CharCount) {

  00080	e1540007	 cmp         r4, r7
  00084	3affffe4	 bcc         |$LL7@OALBLMenuR@2|

; 424  :        if (key == L'\r' || key == L'\n') {

  00088	ea000001	 b           |$LN6@OALBLMenuR@2|
  0008c		 |$LN11@OALBLMenuR@2|

; 425  :           OALLog(L"\r\n");

  0008c	e59f0018	 ldr         r0, [pc, #0x18]
  00090	eb000000	 bl          NKDbgPrintfW
  00094		 |$LN6@OALBLMenuR@2|

; 433  :        } 
; 434  :     }
; 435  :     szBuffer[count] = '\0';

  00094	e0863084	 add         r3, r6, r4, lsl #1
  00098	e3a02000	 mov         r2, #0
  0009c	e1c320b0	 strh        r2, [r3]

; 436  :     return count;
; 437  :     
; 438  : }

  000a0	e1a00004	 mov         r0, r4
  000a4	e8bd41f0	 ldmia       sp!, {r4 - r8, lr}
  000a8	e12fff1e	 bx          lr
  000ac		 |$LN15@OALBLMenuR@2|
  000ac		 |$LN16@OALBLMenuR@2|
  000ac	00000000	 DCD         |??_C@_15JNBOKNOG@?$AA?$AN?$AA?6?$AA?$AA@|
  000b0		 |$LN17@OALBLMenuR@2|
  000b0	00000000	 DCD         |??_C@_15DAMPJCDE@?$AA?$CF?$AAc?$AA?$AA@|
  000b4		 |$LN18@OALBLMenuR@2|
  000b4	00000000	 DCD         |??_C@_17ILCABGPK@?$AA?$AI?$AA?5?$AA?$AI?$AA?$AA@|
  000b8		 |$M43638|

			 ENDP  ; |OALBLMenuReadLine|

	EXPORT	|OALBLMenuActivate|
	EXPORT	|??_C@_1FM@KKEGFMMC@?$AAH?$AAi?$AAt?$AA?5?$AAs?$AAp?$AAa?$AAc?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AAe?$AAn?$AAt?$AAe?$AAr?$AA?5?$AAc?$AAo?$AAn?$AAf?$AAi?$AAg?$AAu?$AAr?$AAa?$AAt?$AAi?$AAo?$AAn@| [ DATA ] ; `string'
	IMPORT	|OALPCIConfig|
	IMPORT	|OALGetTickCount|

  00000			 AREA	 |.pdata|, PDATA
|$T43663| DCD	|$LN19@OALBLMenuA|
	DCD	0x40002c02

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FM@KKEGFMMC@?$AAH?$AAi?$AAt?$AA?5?$AAs?$AAp?$AAa?$AAc?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AAe?$AAn?$AAt?$AAe?$AAr?$AA?5?$AAc?$AAo?$AAn?$AAf?$AAi?$AAg?$AAu?$AAr?$AAa?$AAt?$AAi?$AAo?$AAn@| DCB "H"
	DCB	0x0, "i", 0x0, "t", 0x0, " ", 0x0, "s", 0x0, "p", 0x0, "a"
	DCB	0x0, "c", 0x0, "e", 0x0, " ", 0x0, "t", 0x0, "o", 0x0, " "
	DCB	0x0, "e", 0x0, "n", 0x0, "t", 0x0, "e", 0x0, "r", 0x0, " "
	DCB	0x0, "c", 0x0, "o", 0x0, "n", 0x0, "f", 0x0, "i", 0x0, "g"
	DCB	0x0, "u", 0x0, "r", 0x0, "a", 0x0, "t", 0x0, "i", 0x0, "o"
	DCB	0x0, "n", 0x0, " ", 0x0, "m", 0x0, "e", 0x0, "n", 0x0, "u"
	DCB	0x0, " ", 0x0, "%", 0x0, "d", 0x0, ".", 0x0, ".", 0x0, "."
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |OALBLMenuActivate| PROC

; 35   : {

  00000		 |$LN19@OALBLMenuA|
  00000	e92d41f0	 stmdb       sp!, {r4 - r8, lr}
  00004	e24dd00c	 sub         sp, sp, #0xC
  00008		 |$M43660|
  00008	e1a07001	 mov         r7, r1
  0000c	e1b05000	 movs        r5, r0

; 36   :     UINT32 time;
; 37   :     WCHAR key = 0;

  00010	e3a04000	 mov         r4, #0

; 38   :     
; 39   :     // First let user break to menu
; 40   :     while (delay > 0 && key != L' ') {

  00014	0a000014	 beq         |$LN14@OALBLMenuA|
  00018	e3a06000	 mov         r6, #0
  0001c		 |$LL6@OALBLMenuA|
  0001c	e3560020	 cmp         r6, #0x20
  00020	0a000011	 beq         |$LN14@OALBLMenuA|

; 41   :        OALLog(L"Hit space to enter configuration menu %d...\r\n", delay);

  00024	e59f0080	 ldr         r0, [pc, #0x80]
  00028	e1a01005	 mov         r1, r5
  0002c	eb000000	 bl          NKDbgPrintfW

; 42   :        time = OALGetTickCount();

  00030	eb000000	 bl          OALGetTickCount
  00034	e1a08000	 mov         r8, r0

; 43   :        while ((OALGetTickCount() - time) < 1000) {

  00038	ea000005	 b           |$LN16@OALBLMenuA|
  0003c		 |$LL4@OALBLMenuA|

; 44   :           if ((key = OALBLMenuReadKey(FALSE)) == L' ') break;

  0003c	e3a00000	 mov         r0, #0
  00040	eb000000	 bl          OALBLMenuReadKey
  00044	e1a04000	 mov         r4, r0
  00048	e1a06004	 mov         r6, r4
  0004c	e3540020	 cmp         r4, #0x20
  00050	0a000003	 beq         |$LN13@OALBLMenuA|
  00054		 |$LN16@OALBLMenuA|
  00054	eb000000	 bl          OALGetTickCount
  00058	e0403008	 sub         r3, r0, r8
  0005c	e3530ffa	 cmp         r3, #0xFA, 30
  00060	3afffff5	 bcc         |$LL4@OALBLMenuA|
  00064		 |$LN13@OALBLMenuA|

; 45   :        }
; 46   :        delay--;

  00064	e2555001	 subs        r5, r5, #1

; 38   :     
; 39   :     // First let user break to menu
; 40   :     while (delay > 0 && key != L' ') {

  00068	1affffeb	 bne         |$LL6@OALBLMenuA|
  0006c		 |$LN14@OALBLMenuA|

; 47   :     }
; 48   :     
; 49   :     if (key == L' ') {

  0006c	e3540020	 cmp         r4, #0x20
  00070	1a00000a	 bne         |$LN1@OALBLMenuA|

; 50   : #ifdef OAL_BLMENU_PCI
; 51   :         OALPCIConfig(0, 0, 0, 0, 0, 0, NULL);

  00074	e3a0e000	 mov         lr, #0
  00078	e3a03000	 mov         r3, #0
  0007c	e3a02000	 mov         r2, #0
  00080	e3a01000	 mov         r1, #0
  00084	e3a00000	 mov         r0, #0
  00088	e58de008	 str         lr, [sp, #8]
  0008c	e58de004	 str         lr, [sp, #4]
  00090	e58de000	 str         lr, [sp]
  00094	eb000000	 bl          OALPCIConfig

; 52   : #endif
; 53   :         OALBLMenuShow(pMenu);

  00098	e1a00007	 mov         r0, r7
  0009c	eb000000	 bl          OALBLMenuShow
  000a0		 |$LN1@OALBLMenuA|

; 54   :     }        
; 55   : }

  000a0	e28dd00c	 add         sp, sp, #0xC
  000a4	e8bd41f0	 ldmia       sp!, {r4 - r8, lr}
  000a8	e12fff1e	 bx          lr
  000ac		 |$LN20@OALBLMenuA|
  000ac		 |$LN21@OALBLMenuA|
  000ac	00000000	 DCD         |??_C@_1FM@KKEGFMMC@?$AAH?$AAi?$AAt?$AA?5?$AAs?$AAp?$AAa?$AAc?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AAe?$AAn?$AAt?$AAe?$AAr?$AA?5?$AAc?$AAo?$AAn?$AAf?$AAi?$AAg?$AAu?$AAr?$AAa?$AAt?$AAi?$AAo?$AAn@|
  000b0		 |$M43661|

			 ENDP  ; |OALBLMenuActivate|

	EXPORT	|__$ArrayPad$| [ DATA ]
	EXPORT	|OALBLMenuSetMacAddress|
	EXPORT	|??_C@_1GG@KAOMNNAE@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAO?$AAA?$AAL?$AAB?$AAL?$AAM?$AAe?$AAn?$AAu?$AAS?$AAe?$AAt?$AAM?$AAa?$AAc?$AAA?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?3?$AA?5?$AAI@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DI@EBJOBKJO@?$AA?5?$AA?$CF?$AAs?$AA?5?$AAM?$AAA?$AAC?$AA?5?$AAa?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?5?$AAs?$AAe?$AAt?$AA?5?$AAt?$AAo?$AA?5?$AA?$CF?$AAs?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EA@HMINENJO@?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAi?$AAs?$AAn?$AA?8?$AAt?$AA?5?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAM?$AAA?$AAC?$AA?5?$AAa?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EI@KGHANMNL@?$AA?5?$AAE?$AAn?$AAt?$AAe?$AAr?$AA?5?$AA?$CF?$AAs?$AA?5?$AAM?$AAA?$AAC?$AA?5?$AAa?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?5?$AA?$CI?$AAa?$AAc?$AAt?$AAu?$AAa?$AAl?$AA?5?$AA?$CF?$AAs@| [ DATA ] ; `string'
	IMPORT	|OALKitlStringToMAC|
	IMPORT	|OALKitlMACtoString|
	IMPORT	|__GSHandlerCheck|
	IMPORT	|__security_cookie|
	IMPORT	|__security_check_cookie|

  00000			 AREA	 |.pdata|, PDATA
|$T43684| DCD	|$LN11@OALBLMenuS@3|
	DCD	0xc0004202

  00000			 AREA	 |.xdata|, DATA
|$T43680| DCD	0xfffffff0

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1GG@KAOMNNAE@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAO?$AAA?$AAL?$AAB?$AAL?$AAM?$AAe?$AAn?$AAu?$AAS?$AAe?$AAt?$AAM?$AAa?$AAc?$AAA?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?3?$AA?5?$AAI@| DCB "E"
	DCB	0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, ":", 0x0, " "
	DCB	0x0, "O", 0x0, "A", 0x0, "L", 0x0, "B", 0x0, "L", 0x0, "M"
	DCB	0x0, "e", 0x0, "n", 0x0, "u", 0x0, "S", 0x0, "e", 0x0, "t"
	DCB	0x0, "M", 0x0, "a", 0x0, "c", 0x0, "A", 0x0, "d", 0x0, "d"
	DCB	0x0, "r", 0x0, "e", 0x0, "s", 0x0, "s", 0x0, ":", 0x0, " "
	DCB	0x0, "I", 0x0, "n", 0x0, "v", 0x0, "a", 0x0, "l", 0x0, "i"
	DCB	0x0, "d", 0x0, " ", 0x0, "p", 0x0, "a", 0x0, "r", 0x0, "a"
	DCB	0x0, "m", 0x0, "e", 0x0, "t", 0x0, "e", 0x0, "r", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DI@EBJOBKJO@?$AA?5?$AA?$CF?$AAs?$AA?5?$AAM?$AAA?$AAC?$AA?5?$AAa?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?5?$AAs?$AAe?$AAt?$AA?5?$AAt?$AAo?$AA?5?$AA?$CF?$AAs?$AA?$AN?$AA?6?$AA?$AA@| DCB " "
	DCB	0x0, "%", 0x0, "s", 0x0, " ", 0x0, "M", 0x0, "A", 0x0, "C"
	DCB	0x0, " ", 0x0, "a", 0x0, "d", 0x0, "d", 0x0, "r", 0x0, "e"
	DCB	0x0, "s", 0x0, "s", 0x0, " ", 0x0, "s", 0x0, "e", 0x0, "t"
	DCB	0x0, " ", 0x0, "t", 0x0, "o", 0x0, " ", 0x0, "%", 0x0, "s"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EA@HMINENJO@?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAi?$AAs?$AAn?$AA?8?$AAt?$AA?5?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAM?$AAA?$AAC?$AA?5?$AAa?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?$AN?$AA?6?$AA?$AA@| DCB " "
	DCB	0x0, "'", 0x0, "%", 0x0, "s", 0x0, "'", 0x0, " ", 0x0, "i"
	DCB	0x0, "s", 0x0, "n", 0x0, "'", 0x0, "t", 0x0, " ", 0x0, "v"
	DCB	0x0, "a", 0x0, "l", 0x0, "i", 0x0, "d", 0x0, " ", 0x0, "M"
	DCB	0x0, "A", 0x0, "C", 0x0, " ", 0x0, "a", 0x0, "d", 0x0, "d"
	DCB	0x0, "r", 0x0, "e", 0x0, "s", 0x0, "s", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EI@KGHANMNL@?$AA?5?$AAE?$AAn?$AAt?$AAe?$AAr?$AA?5?$AA?$CF?$AAs?$AA?5?$AAM?$AAA?$AAC?$AA?5?$AAa?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?5?$AA?$CI?$AAa?$AAc?$AAt?$AAu?$AAa?$AAl?$AA?5?$AA?$CF?$AAs@| DCB " "
	DCB	0x0, "E", 0x0, "n", 0x0, "t", 0x0, "e", 0x0, "r", 0x0, " "
	DCB	0x0, "%", 0x0, "s", 0x0, " ", 0x0, "M", 0x0, "A", 0x0, "C"
	DCB	0x0, " ", 0x0, "a", 0x0, "d", 0x0, "d", 0x0, "r", 0x0, "e"
	DCB	0x0, "s", 0x0, "s", 0x0, " ", 0x0, "(", 0x0, "a", 0x0, "c"
	DCB	0x0, "t", 0x0, "u", 0x0, "a", 0x0, "l", 0x0, " ", 0x0, "%"
	DCB	0x0, "s", 0x0, ")", 0x0, ":", 0x0, " ", 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000	00000000	 DCD         |__GSHandlerCheck|
  00004	00000000	 DCD         |$T43680|

  00008		 |OALBLMenuSetMacAddress| PROC

; 172  : {

  00008		 |$LN11@OALBLMenuS@3|
  00008	e92d4030	 stmdb       sp!, {r4, r5, lr}
  0000c	e24dd030	 sub         sp, sp, #0x30
  00010		 |$M43681|
  00010	e59f30f4	 ldr         r3, [pc, #0xF4]
  00014	e5933000	 ldr         r3, [r3]
  00018	e58d302c	 str         r3, [sp, #0x2C]

; 173  :     LPCWSTR title = pMenu->pParam1;

  0001c	e590300c	 ldr         r3, [r0, #0xC]

; 174  :     UINT16 *pMac = pMenu->pParam2;

  00020	e5904010	 ldr         r4, [r0, #0x10]
  00024	e1b05003	 movs        r5, r3

; 175  :     UINT16 mac[3];
; 176  :     WCHAR buffer[18];
; 177  : 
; 178  :     // First check input parameters    
; 179  :     if (title == NULL || pMac == NULL) {

  00028	0a000028	 beq         |$LN3@OALBLMenuS@3|
  0002c	e3540000	 cmp         r4, #0
  00030	0a000026	 beq         |$LN3@OALBLMenuS@3|

; 183  :         goto cleanUp;
; 184  :     }
; 185  : 
; 186  :     // Get actual setting
; 187  :     mac[0] = pMac[0];

  00034	e1d430b0	 ldrh        r3, [r4]

; 188  :     mac[1] = pMac[1];
; 189  :     mac[2] = pMac[2];
; 190  : 
; 191  :     // Print prompt
; 192  :     OALLog(
; 193  :         L" Enter %s MAC address (actual %s): ", title, OALKitlMACtoString(mac)
; 194  :     );

  00038	e28d0000	 add         r0, sp, #0
  0003c	e1cd30b0	 strh        r3, [sp]
  00040	e1d430b2	 ldrh        r3, [r4, #2]
  00044	e1cd30b2	 strh        r3, [sp, #2]
  00048	e1d430b4	 ldrh        r3, [r4, #4]
  0004c	e1cd30b4	 strh        r3, [sp, #4]
  00050	eb000000	 bl          OALKitlMACtoString
  00054	e1a02000	 mov         r2, r0
  00058	e59f00a8	 ldr         r0, [pc, #0xA8]
  0005c	e1a01005	 mov         r1, r5
  00060	eb000000	 bl          NKDbgPrintfW

; 195  :     
; 196  :     // Read input line
; 197  :     if (OALBLMenuReadLine(buffer, dimof(buffer)) == 0) goto cleanUp;

  00064	e3a01012	 mov         r1, #0x12
  00068	e28d0008	 add         r0, sp, #8
  0006c	eb000000	 bl          OALBLMenuReadLine
  00070	e3500000	 cmp         r0, #0
  00074	0a00001a	 beq         |$cleanUp$43259|

; 198  : 
; 199  :     // Convert string to MAC address
; 200  :     if (!OALKitlStringToMAC(buffer, mac)) {

  00078	e28d1000	 add         r1, sp, #0
  0007c	e28d0008	 add         r0, sp, #8
  00080	eb000000	 bl          OALKitlStringToMAC
  00084	e3500000	 cmp         r0, #0
  00088	1a000003	 bne         |$LN1@OALBLMenuS@3|

; 201  :         OALLog(L" '%s' isn't valid MAC address\r\n", buffer);

  0008c	e59f0070	 ldr         r0, [pc, #0x70]
  00090	e28d1008	 add         r1, sp, #8
  00094	eb000000	 bl          NKDbgPrintfW

; 202  :         goto cleanUp;

  00098	ea000011	 b           |$cleanUp$43259|
  0009c		 |$LN1@OALBLMenuS@3|

; 203  :     }
; 204  : 
; 205  :     // Print final MAC address
; 206  :     OALLog(L" %s MAC address set to %s\r\n", title, OALKitlMACtoString(mac));        

  0009c	e28d0000	 add         r0, sp, #0
  000a0	eb000000	 bl          OALKitlMACtoString
  000a4	e1a02000	 mov         r2, r0
  000a8	e59f0050	 ldr         r0, [pc, #0x50]
  000ac	e1a01005	 mov         r1, r5
  000b0	eb000000	 bl          NKDbgPrintfW

; 207  : 
; 208  :     // Save new setting
; 209  :     pMac[0] = mac[0];

  000b4	e1dd30b0	 ldrh        r3, [sp]
  000b8	e1c430b0	 strh        r3, [r4]

; 210  :     pMac[1] = mac[1];

  000bc	e1dd30b2	 ldrh        r3, [sp, #2]
  000c0	e1c430b2	 strh        r3, [r4, #2]

; 211  :     pMac[2] = mac[2];

  000c4	e1dd30b4	 ldrh        r3, [sp, #4]
  000c8	e1c430b4	 strh        r3, [r4, #4]
  000cc	ea000004	 b           |$cleanUp$43259|
  000d0		 |$LN3@OALBLMenuS@3|

; 180  :         OALMSG(OAL_ERROR, (
; 181  :             L"ERROR: OALBLMenuSetMacAddress: Invalid parameter\r\n"
; 182  :         ));

  000d0	e59f3024	 ldr         r3, [pc, #0x24]
  000d4	e5933440	 ldr         r3, [r3, #0x440]
  000d8	e3130001	 tst         r3, #1
  000dc	159f0014	 ldrne       r0, [pc, #0x14]
  000e0	1b000000	 blne        NKDbgPrintfW
  000e4		 |$cleanUp$43259|
  000e4	e59d002c	 ldr         r0, [sp, #0x2C]
  000e8	eb000000	 bl          __security_check_cookie

; 212  :     
; 213  : cleanUp:;
; 214  : }

  000ec	e28dd030	 add         sp, sp, #0x30
  000f0	e8bd4030	 ldmia       sp!, {r4, r5, lr}
  000f4	e12fff1e	 bx          lr
  000f8		 |$LN12@OALBLMenuS@3|
  000f8		 |$LN13@OALBLMenuS@3|
  000f8	00000000	 DCD         |??_C@_1GG@KAOMNNAE@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAO?$AAA?$AAL?$AAB?$AAL?$AAM?$AAe?$AAn?$AAu?$AAS?$AAe?$AAt?$AAM?$AAa?$AAc?$AAA?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?3?$AA?5?$AAI@|
  000fc		 |$LN14@OALBLMenuS@3|
  000fc	00000000	 DCD         |dpCurSettings|
  00100		 |$LN15@OALBLMenuS@3|
  00100	00000000	 DCD         |??_C@_1DI@EBJOBKJO@?$AA?5?$AA?$CF?$AAs?$AA?5?$AAM?$AAA?$AAC?$AA?5?$AAa?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?5?$AAs?$AAe?$AAt?$AA?5?$AAt?$AAo?$AA?5?$AA?$CF?$AAs?$AA?$AN?$AA?6?$AA?$AA@|
  00104		 |$LN16@OALBLMenuS@3|
  00104	00000000	 DCD         |??_C@_1EA@HMINENJO@?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAi?$AAs?$AAn?$AA?8?$AAt?$AA?5?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAM?$AAA?$AAC?$AA?5?$AAa?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?$AN?$AA?6?$AA?$AA@|
  00108		 |$LN17@OALBLMenuS@3|
  00108	00000000	 DCD         |??_C@_1EI@KGHANMNL@?$AA?5?$AAE?$AAn?$AAt?$AAe?$AAr?$AA?5?$AA?$CF?$AAs?$AA?5?$AAM?$AAA?$AAC?$AA?5?$AAa?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?5?$AA?$CI?$AAa?$AAc?$AAt?$AAu?$AAa?$AAl?$AA?5?$AA?$CF?$AAs@|
  0010c		 |$LN18@OALBLMenuS@3|
  0010c	00000000	 DCD         |__security_cookie|
  00110		 |$M43682|

			 ENDP  ; |OALBLMenuSetMacAddress|

	EXPORT	|__$ArrayPad$| [ DATA ]
	EXPORT	|OALBLMenuSetIpAddress|
	EXPORT	|??_C@_1GG@LBBLODG@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAO?$AAA?$AAL?$AAB?$AAL?$AAM?$AAe?$AAn?$AAu?$AAS?$AAe?$AAt?$AAI?$AAp?$AAA?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?3?$AA?5?$AAI?$AAn@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DG@PKEFPJGM@?$AA?5?$AA?$CF?$AAs?$AA?5?$AAI?$AAP?$AA?5?$AAa?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?5?$AAs?$AAe?$AAt?$AA?5?$AAt?$AAo?$AA?5?$AA?$CF?$AAs?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DO@PNGPKAIC@?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAi?$AAs?$AAn?$AA?8?$AAt?$AA?5?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAI?$AAP?$AA?5?$AAa?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EG@NJNHINMH@?$AA?5?$AAE?$AAn?$AAt?$AAe?$AAr?$AA?5?$AA?$CF?$AAs?$AA?5?$AAI?$AAP?$AA?5?$AAa?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?5?$AA?$CI?$AAa?$AAc?$AAt?$AAu?$AAa?$AAl?$AA?5?$AA?$CF?$AAs?$AA?$CJ@| [ DATA ] ; `string'
	IMPORT	|OALKitlStringToIP|
	IMPORT	|OALKitlIPtoString|

  00000			 AREA	 |.pdata|, PDATA
|$T43710| DCD	|$LN11@OALBLMenuS@4|
	DCD	0xc0003602

  00000			 AREA	 |.xdata|, DATA
|$T43706| DCD	0xffffffec

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1GG@LBBLODG@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAO?$AAA?$AAL?$AAB?$AAL?$AAM?$AAe?$AAn?$AAu?$AAS?$AAe?$AAt?$AAI?$AAp?$AAA?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?3?$AA?5?$AAI?$AAn@| DCB "E"
	DCB	0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, ":", 0x0, " "
	DCB	0x0, "O", 0x0, "A", 0x0, "L", 0x0, "B", 0x0, "L", 0x0, "M"
	DCB	0x0, "e", 0x0, "n", 0x0, "u", 0x0, "S", 0x0, "e", 0x0, "t"
	DCB	0x0, "I", 0x0, "p", 0x0, "A", 0x0, "d", 0x0, "d", 0x0, "r"
	DCB	0x0, "e", 0x0, "s", 0x0, "s", 0x0, ":", 0x0, " ", 0x0, "I"
	DCB	0x0, "n", 0x0, "v", 0x0, "a", 0x0, "l", 0x0, "i", 0x0, "d"
	DCB	0x0, " ", 0x0, "p", 0x0, "a", 0x0, "r", 0x0, "a", 0x0, "m"
	DCB	0x0, "e", 0x0, "t", 0x0, "e", 0x0, "r", 0x0, "s", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DG@PKEFPJGM@?$AA?5?$AA?$CF?$AAs?$AA?5?$AAI?$AAP?$AA?5?$AAa?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?5?$AAs?$AAe?$AAt?$AA?5?$AAt?$AAo?$AA?5?$AA?$CF?$AAs?$AA?$AN?$AA?6?$AA?$AA@| DCB " "
	DCB	0x0, "%", 0x0, "s", 0x0, " ", 0x0, "I", 0x0, "P", 0x0, " "
	DCB	0x0, "a", 0x0, "d", 0x0, "d", 0x0, "r", 0x0, "e", 0x0, "s"
	DCB	0x0, "s", 0x0, " ", 0x0, "s", 0x0, "e", 0x0, "t", 0x0, " "
	DCB	0x0, "t", 0x0, "o", 0x0, " ", 0x0, "%", 0x0, "s", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DO@PNGPKAIC@?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAi?$AAs?$AAn?$AA?8?$AAt?$AA?5?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAI?$AAP?$AA?5?$AAa?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?$AN?$AA?6?$AA?$AA@| DCB " "
	DCB	0x0, "'", 0x0, "%", 0x0, "s", 0x0, "'", 0x0, " ", 0x0, "i"
	DCB	0x0, "s", 0x0, "n", 0x0, "'", 0x0, "t", 0x0, " ", 0x0, "v"
	DCB	0x0, "a", 0x0, "l", 0x0, "i", 0x0, "d", 0x0, " ", 0x0, "I"
	DCB	0x0, "P", 0x0, " ", 0x0, "a", 0x0, "d", 0x0, "d", 0x0, "r"
	DCB	0x0, "e", 0x0, "s", 0x0, "s", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EG@NJNHINMH@?$AA?5?$AAE?$AAn?$AAt?$AAe?$AAr?$AA?5?$AA?$CF?$AAs?$AA?5?$AAI?$AAP?$AA?5?$AAa?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?5?$AA?$CI?$AAa?$AAc?$AAt?$AAu?$AAa?$AAl?$AA?5?$AA?$CF?$AAs?$AA?$CJ@| DCB " "
	DCB	0x0, "E", 0x0, "n", 0x0, "t", 0x0, "e", 0x0, "r", 0x0, " "
	DCB	0x0, "%", 0x0, "s", 0x0, " ", 0x0, "I", 0x0, "P", 0x0, " "
	DCB	0x0, "a", 0x0, "d", 0x0, "d", 0x0, "r", 0x0, "e", 0x0, "s"
	DCB	0x0, "s", 0x0, " ", 0x0, "(", 0x0, "a", 0x0, "c", 0x0, "t"
	DCB	0x0, "u", 0x0, "a", 0x0, "l", 0x0, " ", 0x0, "%", 0x0, "s"
	DCB	0x0, ")", 0x0, ":", 0x0, " ", 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000	00000000	 DCD         |__GSHandlerCheck|
  00004	00000000	 DCD         |$T43706|

  00008		 |OALBLMenuSetIpAddress| PROC

; 219  : {

  00008		 |$LN11@OALBLMenuS@4|
  00008	e92d4070	 stmdb       sp!, {r4 - r6, lr}
  0000c	e24dd024	 sub         sp, sp, #0x24
  00010		 |$M43707|
  00010	e59f30c4	 ldr         r3, [pc, #0xC4]
  00014	e5933000	 ldr         r3, [r3]
  00018	e58d3020	 str         r3, [sp, #0x20]

; 220  :     LPCWSTR title = pMenu->pParam1;

  0001c	e590300c	 ldr         r3, [r0, #0xC]

; 221  :     UINT32 *pIp = pMenu->pParam2;

  00020	e5904010	 ldr         r4, [r0, #0x10]
  00024	e1b06003	 movs        r6, r3

; 222  :     UINT32 ip;
; 223  :     WCHAR buffer[16];
; 224  : 
; 225  :     // First check input parameters    
; 226  :     if (title == NULL || pIp == NULL) {

  00028	0a00001c	 beq         |$LN3@OALBLMenuS@4|
  0002c	e3540000	 cmp         r4, #0
  00030	0a00001a	 beq         |$LN3@OALBLMenuS@4|

; 230  :         goto cleanUp;
; 231  :     }
; 232  : 
; 233  :     // Get actual value
; 234  :     ip = *pIp;

  00034	e5940000	 ldr         r0, [r4]

; 235  : 
; 236  :     // Print prompt
; 237  :     OALLog(L" Enter %s IP address (actual %s): ", title, OALKitlIPtoString(ip));

  00038	eb000000	 bl          OALKitlIPtoString
  0003c	e1a02000	 mov         r2, r0
  00040	e59f0090	 ldr         r0, [pc, #0x90]
  00044	e1a01006	 mov         r1, r6
  00048	eb000000	 bl          NKDbgPrintfW

; 238  : 
; 239  :     // Read input line
; 240  :     if (OALBLMenuReadLine(buffer, dimof(buffer)) == 0) goto cleanUp;

  0004c	e3a01010	 mov         r1, #0x10
  00050	e28d0000	 add         r0, sp, #0
  00054	eb000000	 bl          OALBLMenuReadLine
  00058	e3500000	 cmp         r0, #0
  0005c	0a000014	 beq         |$cleanUp$43278|

; 241  : 
; 242  :     // Convert string to IP address
; 243  :     ip = OALKitlStringToIP(buffer);

  00060	e28d0000	 add         r0, sp, #0
  00064	eb000000	 bl          OALKitlStringToIP
  00068	e1b05000	 movs        r5, r0

; 244  :     if (ip == 0) {

  0006c	1a000003	 bne         |$LN1@OALBLMenuS@4|

; 245  :         OALLog(L" '%s' isn't valid IP address\r\n", buffer);

  00070	e59f005c	 ldr         r0, [pc, #0x5C]
  00074	e28d1000	 add         r1, sp, #0
  00078	eb000000	 bl          NKDbgPrintfW

; 246  :         goto cleanUp;

  0007c	ea00000c	 b           |$cleanUp$43278|
  00080		 |$LN1@OALBLMenuS@4|

; 247  :     }
; 248  : 
; 249  :     // Print final IP address
; 250  :     OALLog(L" %s IP address set to %s\r\n", title, OALKitlIPtoString(ip));

  00080	e1a00005	 mov         r0, r5
  00084	eb000000	 bl          OALKitlIPtoString
  00088	e1a02000	 mov         r2, r0
  0008c	e59f003c	 ldr         r0, [pc, #0x3C]
  00090	e1a01006	 mov         r1, r6
  00094	eb000000	 bl          NKDbgPrintfW

; 251  : 
; 252  :     // Save new setting
; 253  :     *pIp = ip;

  00098	e5845000	 str         r5, [r4]
  0009c	ea000004	 b           |$cleanUp$43278|
  000a0		 |$LN3@OALBLMenuS@4|

; 227  :         OALMSG(OAL_ERROR, (
; 228  :             L"ERROR: OALBLMenuSetIpAddress: Invalid parameters\r\n"
; 229  :         ));

  000a0	e59f3024	 ldr         r3, [pc, #0x24]
  000a4	e5933440	 ldr         r3, [r3, #0x440]
  000a8	e3130001	 tst         r3, #1
  000ac	159f0014	 ldrne       r0, [pc, #0x14]
  000b0	1b000000	 blne        NKDbgPrintfW
  000b4		 |$cleanUp$43278|
  000b4	e59d0020	 ldr         r0, [sp, #0x20]
  000b8	eb000000	 bl          __security_check_cookie

; 254  :     
; 255  : cleanUp:;
; 256  : }

  000bc	e28dd024	 add         sp, sp, #0x24
  000c0	e8bd4070	 ldmia       sp!, {r4 - r6, lr}
  000c4	e12fff1e	 bx          lr
  000c8		 |$LN12@OALBLMenuS@4|
  000c8		 |$LN13@OALBLMenuS@4|
  000c8	00000000	 DCD         |??_C@_1GG@LBBLODG@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAO?$AAA?$AAL?$AAB?$AAL?$AAM?$AAe?$AAn?$AAu?$AAS?$AAe?$AAt?$AAI?$AAp?$AAA?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?3?$AA?5?$AAI?$AAn@|
  000cc		 |$LN14@OALBLMenuS@4|
  000cc	00000000	 DCD         |dpCurSettings|
  000d0		 |$LN15@OALBLMenuS@4|
  000d0	00000000	 DCD         |??_C@_1DG@PKEFPJGM@?$AA?5?$AA?$CF?$AAs?$AA?5?$AAI?$AAP?$AA?5?$AAa?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?5?$AAs?$AAe?$AAt?$AA?5?$AAt?$AAo?$AA?5?$AA?$CF?$AAs?$AA?$AN?$AA?6?$AA?$AA@|
  000d4		 |$LN16@OALBLMenuS@4|
  000d4	00000000	 DCD         |??_C@_1DO@PNGPKAIC@?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAi?$AAs?$AAn?$AA?8?$AAt?$AA?5?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAI?$AAP?$AA?5?$AAa?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?$AN?$AA?6?$AA?$AA@|
  000d8		 |$LN17@OALBLMenuS@4|
  000d8	00000000	 DCD         |??_C@_1EG@NJNHINMH@?$AA?5?$AAE?$AAn?$AAt?$AAe?$AAr?$AA?5?$AA?$CF?$AAs?$AA?5?$AAI?$AAP?$AA?5?$AAa?$AAd?$AAd?$AAr?$AAe?$AAs?$AAs?$AA?5?$AA?$CI?$AAa?$AAc?$AAt?$AAu?$AAa?$AAl?$AA?5?$AA?$CF?$AAs?$AA?$CJ@|
  000dc		 |$LN18@OALBLMenuS@4|
  000dc	00000000	 DCD         |__security_cookie|
  000e0		 |$M43708|

			 ENDP  ; |OALBLMenuSetIpAddress|

	EXPORT	|__$ArrayPad$| [ DATA ]
	EXPORT	|OALBLMenuSetIpMask|
	EXPORT	|??_C@_1GA@BNPDEIDO@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAO?$AAA?$AAL?$AAB?$AAL?$AAM?$AAe?$AAn?$AAu?$AAS?$AAe?$AAt?$AAI?$AAp?$AAM?$AAa?$AAs?$AAk?$AA?3?$AA?5?$AAI?$AAn?$AAv?$AAa?$AAl@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DA@MPGAFAD@?$AA?5?$AA?$CF?$AAs?$AA?5?$AAI?$AAP?$AA?5?$AAm?$AAa?$AAs?$AAk?$AA?5?$AAs?$AAe?$AAt?$AA?5?$AAt?$AAo?$AA?5?$AA?$CF?$AAs?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DI@NFENBBKL@?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAi?$AAs?$AAn?$AA?8?$AAt?$AA?5?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAI?$AAP?$AA?5?$AAm?$AAa?$AAs?$AAk?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EA@LJMJMOFH@?$AA?5?$AAE?$AAn?$AAt?$AAe?$AAr?$AA?5?$AA?$CF?$AAs?$AA?5?$AAI?$AAP?$AA?5?$AAm?$AAa?$AAs?$AAk?$AA?5?$AA?$CI?$AAa?$AAc?$AAt?$AAu?$AAa?$AAl?$AA?5?$AA?$CF?$AAs?$AA?$CJ?$AA?3?$AA?5?$AA?$AA@| [ DATA ] ; `string'

  00000			 AREA	 |.pdata|, PDATA
|$T43736| DCD	|$LN11@OALBLMenuS@5|
	DCD	0xc0003602

  00000			 AREA	 |.xdata|, DATA
|$T43732| DCD	0xffffffec

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1GA@BNPDEIDO@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAO?$AAA?$AAL?$AAB?$AAL?$AAM?$AAe?$AAn?$AAu?$AAS?$AAe?$AAt?$AAI?$AAp?$AAM?$AAa?$AAs?$AAk?$AA?3?$AA?5?$AAI?$AAn?$AAv?$AAa?$AAl@| DCB "E"
	DCB	0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, ":", 0x0, " "
	DCB	0x0, "O", 0x0, "A", 0x0, "L", 0x0, "B", 0x0, "L", 0x0, "M"
	DCB	0x0, "e", 0x0, "n", 0x0, "u", 0x0, "S", 0x0, "e", 0x0, "t"
	DCB	0x0, "I", 0x0, "p", 0x0, "M", 0x0, "a", 0x0, "s", 0x0, "k"
	DCB	0x0, ":", 0x0, " ", 0x0, "I", 0x0, "n", 0x0, "v", 0x0, "a"
	DCB	0x0, "l", 0x0, "i", 0x0, "d", 0x0, " ", 0x0, "p", 0x0, "a"
	DCB	0x0, "r", 0x0, "a", 0x0, "m", 0x0, "e", 0x0, "t", 0x0, "e"
	DCB	0x0, "r", 0x0, "s", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DA@MPGAFAD@?$AA?5?$AA?$CF?$AAs?$AA?5?$AAI?$AAP?$AA?5?$AAm?$AAa?$AAs?$AAk?$AA?5?$AAs?$AAe?$AAt?$AA?5?$AAt?$AAo?$AA?5?$AA?$CF?$AAs?$AA?$AN?$AA?6?$AA?$AA@| DCB " "
	DCB	0x0, "%", 0x0, "s", 0x0, " ", 0x0, "I", 0x0, "P", 0x0, " "
	DCB	0x0, "m", 0x0, "a", 0x0, "s", 0x0, "k", 0x0, " ", 0x0, "s"
	DCB	0x0, "e", 0x0, "t", 0x0, " ", 0x0, "t", 0x0, "o", 0x0, " "
	DCB	0x0, "%", 0x0, "s", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DI@NFENBBKL@?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAi?$AAs?$AAn?$AA?8?$AAt?$AA?5?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAI?$AAP?$AA?5?$AAm?$AAa?$AAs?$AAk?$AA?$AN?$AA?6?$AA?$AA@| DCB " "
	DCB	0x0, "'", 0x0, "%", 0x0, "s", 0x0, "'", 0x0, " ", 0x0, "i"
	DCB	0x0, "s", 0x0, "n", 0x0, "'", 0x0, "t", 0x0, " ", 0x0, "v"
	DCB	0x0, "a", 0x0, "l", 0x0, "i", 0x0, "d", 0x0, " ", 0x0, "I"
	DCB	0x0, "P", 0x0, " ", 0x0, "m", 0x0, "a", 0x0, "s", 0x0, "k"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EA@LJMJMOFH@?$AA?5?$AAE?$AAn?$AAt?$AAe?$AAr?$AA?5?$AA?$CF?$AAs?$AA?5?$AAI?$AAP?$AA?5?$AAm?$AAa?$AAs?$AAk?$AA?5?$AA?$CI?$AAa?$AAc?$AAt?$AAu?$AAa?$AAl?$AA?5?$AA?$CF?$AAs?$AA?$CJ?$AA?3?$AA?5?$AA?$AA@| DCB " "
	DCB	0x0, "E", 0x0, "n", 0x0, "t", 0x0, "e", 0x0, "r", 0x0, " "
	DCB	0x0, "%", 0x0, "s", 0x0, " ", 0x0, "I", 0x0, "P", 0x0, " "
	DCB	0x0, "m", 0x0, "a", 0x0, "s", 0x0, "k", 0x0, " ", 0x0, "("
	DCB	0x0, "a", 0x0, "c", 0x0, "t", 0x0, "u", 0x0, "a", 0x0, "l"
	DCB	0x0, " ", 0x0, "%", 0x0, "s", 0x0, ")", 0x0, ":", 0x0, " "
	DCB	0x0, 0x0, 0x0				; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000	00000000	 DCD         |__GSHandlerCheck|
  00004	00000000	 DCD         |$T43732|

  00008		 |OALBLMenuSetIpMask| PROC

; 261  : {

  00008		 |$LN11@OALBLMenuS@5|
  00008	e92d4070	 stmdb       sp!, {r4 - r6, lr}
  0000c	e24dd024	 sub         sp, sp, #0x24
  00010		 |$M43733|
  00010	e59f30c4	 ldr         r3, [pc, #0xC4]
  00014	e5933000	 ldr         r3, [r3]
  00018	e58d3020	 str         r3, [sp, #0x20]

; 262  :     LPCWSTR title = pMenu->pParam1;

  0001c	e590300c	 ldr         r3, [r0, #0xC]

; 263  :     UINT32 *pIp = pMenu->pParam2;

  00020	e5904010	 ldr         r4, [r0, #0x10]
  00024	e1b06003	 movs        r6, r3

; 264  :     UINT32 ip;
; 265  :     WCHAR buffer[16];
; 266  : 
; 267  :     // First check input parameters    
; 268  :     if (title == NULL || pIp == NULL) {

  00028	0a00001c	 beq         |$LN3@OALBLMenuS@5|
  0002c	e3540000	 cmp         r4, #0
  00030	0a00001a	 beq         |$LN3@OALBLMenuS@5|

; 272  :         goto cleanUp;
; 273  :     }
; 274  : 
; 275  :     // Get actual value
; 276  :     ip = *pIp;

  00034	e5940000	 ldr         r0, [r4]

; 277  : 
; 278  :     // Print prompt
; 279  :     OALLog(L" Enter %s IP mask (actual %s): ", title, OALKitlIPtoString(ip));

  00038	eb000000	 bl          OALKitlIPtoString
  0003c	e1a02000	 mov         r2, r0
  00040	e59f0090	 ldr         r0, [pc, #0x90]
  00044	e1a01006	 mov         r1, r6
  00048	eb000000	 bl          NKDbgPrintfW

; 280  : 
; 281  :     // Read input line
; 282  :     if (OALBLMenuReadLine(buffer, dimof(buffer)) == 0) goto cleanUp;

  0004c	e3a01010	 mov         r1, #0x10
  00050	e28d0000	 add         r0, sp, #0
  00054	eb000000	 bl          OALBLMenuReadLine
  00058	e3500000	 cmp         r0, #0
  0005c	0a000014	 beq         |$cleanUp$43297|

; 283  : 
; 284  :     // Convert string to MAC address
; 285  :     ip = OALKitlStringToIP(buffer);

  00060	e28d0000	 add         r0, sp, #0
  00064	eb000000	 bl          OALKitlStringToIP
  00068	e1b05000	 movs        r5, r0

; 286  :     if (ip == 0) {

  0006c	1a000003	 bne         |$LN1@OALBLMenuS@5|

; 287  :         OALLog(L" '%s' isn't valid IP mask\r\n", buffer);

  00070	e59f005c	 ldr         r0, [pc, #0x5C]
  00074	e28d1000	 add         r1, sp, #0
  00078	eb000000	 bl          NKDbgPrintfW

; 288  :         goto cleanUp;

  0007c	ea00000c	 b           |$cleanUp$43297|
  00080		 |$LN1@OALBLMenuS@5|

; 289  :     }
; 290  : 
; 291  :     // Print final IP mask
; 292  :     OALLog(L" %s IP mask set to %s\r\n", title, OALKitlIPtoString(ip));

  00080	e1a00005	 mov         r0, r5
  00084	eb000000	 bl          OALKitlIPtoString
  00088	e1a02000	 mov         r2, r0
  0008c	e59f003c	 ldr         r0, [pc, #0x3C]
  00090	e1a01006	 mov         r1, r6
  00094	eb000000	 bl          NKDbgPrintfW

; 293  : 
; 294  :     // Save new setting
; 295  :     *pIp = ip;

  00098	e5845000	 str         r5, [r4]
  0009c	ea000004	 b           |$cleanUp$43297|
  000a0		 |$LN3@OALBLMenuS@5|

; 269  :         OALMSG(OAL_ERROR, (
; 270  :             L"ERROR: OALBLMenuSetIpMask: Invalid parameters\r\n"
; 271  :         ));

  000a0	e59f3024	 ldr         r3, [pc, #0x24]
  000a4	e5933440	 ldr         r3, [r3, #0x440]
  000a8	e3130001	 tst         r3, #1
  000ac	159f0014	 ldrne       r0, [pc, #0x14]
  000b0	1b000000	 blne        NKDbgPrintfW
  000b4		 |$cleanUp$43297|
  000b4	e59d0020	 ldr         r0, [sp, #0x20]
  000b8	eb000000	 bl          __security_check_cookie

; 296  :     
; 297  : cleanUp:;
; 298  : }

  000bc	e28dd024	 add         sp, sp, #0x24
  000c0	e8bd4070	 ldmia       sp!, {r4 - r6, lr}
  000c4	e12fff1e	 bx          lr
  000c8		 |$LN12@OALBLMenuS@5|
  000c8		 |$LN13@OALBLMenuS@5|
  000c8	00000000	 DCD         |??_C@_1GA@BNPDEIDO@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAO?$AAA?$AAL?$AAB?$AAL?$AAM?$AAe?$AAn?$AAu?$AAS?$AAe?$AAt?$AAI?$AAp?$AAM?$AAa?$AAs?$AAk?$AA?3?$AA?5?$AAI?$AAn?$AAv?$AAa?$AAl@|
  000cc		 |$LN14@OALBLMenuS@5|
  000cc	00000000	 DCD         |dpCurSettings|
  000d0		 |$LN15@OALBLMenuS@5|
  000d0	00000000	 DCD         |??_C@_1DA@MPGAFAD@?$AA?5?$AA?$CF?$AAs?$AA?5?$AAI?$AAP?$AA?5?$AAm?$AAa?$AAs?$AAk?$AA?5?$AAs?$AAe?$AAt?$AA?5?$AAt?$AAo?$AA?5?$AA?$CF?$AAs?$AA?$AN?$AA?6?$AA?$AA@|
  000d4		 |$LN16@OALBLMenuS@5|
  000d4	00000000	 DCD         |??_C@_1DI@NFENBBKL@?$AA?5?$AA?8?$AA?$CF?$AAs?$AA?8?$AA?5?$AAi?$AAs?$AAn?$AA?8?$AAt?$AA?5?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAI?$AAP?$AA?5?$AAm?$AAa?$AAs?$AAk?$AA?$AN?$AA?6?$AA?$AA@|
  000d8		 |$LN17@OALBLMenuS@5|
  000d8	00000000	 DCD         |??_C@_1EA@LJMJMOFH@?$AA?5?$AAE?$AAn?$AAt?$AAe?$AAr?$AA?5?$AA?$CF?$AAs?$AA?5?$AAI?$AAP?$AA?5?$AAm?$AAa?$AAs?$AAk?$AA?5?$AA?$CI?$AAa?$AAc?$AAt?$AAu?$AAa?$AAl?$AA?5?$AA?$CF?$AAs?$AA?$CJ?$AA?3?$AA?5?$AA?$AA@|
  000dc		 |$LN18@OALBLMenuS@5|
  000dc	00000000	 DCD         |__security_cookie|
  000e0		 |$M43734|

			 ENDP  ; |OALBLMenuSetIpMask|

	EXPORT	|__$ArrayPad$| [ DATA ]
	EXPORT	|OALBLMenuSetDeviceId|
	EXPORT	|??_C@_1DC@OGIHKHPF@?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?5?$AAI?$AAd?$AA?5?$AAs?$AAe?$AAt?$AA?5?$AAt?$AAo?$AA?5?$AA?8?$AA?$CF?$AAS?$AA?8?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1FG@JMGBGFEJ@?$AA?5?$AAE?$AAn?$AAt?$AAe?$AAr?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?5?$AAI?$AAd?$AA?5?$AA?$CI?$AA?$CK?$AA?5?$AA?$DN?$AA?5?$AAa?$AAu?$AAt?$AAo?$AA?0?$AA?5?$AAa?$AAc?$AAt?$AAu@| [ DATA ] ; `string'
	IMPORT	|memset|

  00000			 AREA	 |.pdata|, PDATA
|$T43775| DCD	|$LN21@OALBLMenuS@6|
	DCD	0xc0003702

  00000			 AREA	 |.xdata|, DATA
|$T43771| DCD	0xfffffff0

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DC@OGIHKHPF@?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?5?$AAI?$AAd?$AA?5?$AAs?$AAe?$AAt?$AA?5?$AAt?$AAo?$AA?5?$AA?8?$AA?$CF?$AAS?$AA?8?$AA?$AN?$AA?6?$AA?$AA@| DCB " "
	DCB	0x0, "D", 0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e"
	DCB	0x0, " ", 0x0, "I", 0x0, "d", 0x0, " ", 0x0, "s", 0x0, "e"
	DCB	0x0, "t", 0x0, " ", 0x0, "t", 0x0, "o", 0x0, " ", 0x0, "'"
	DCB	0x0, "%", 0x0, "S", 0x0, "'", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FG@JMGBGFEJ@?$AA?5?$AAE?$AAn?$AAt?$AAe?$AAr?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?5?$AAI?$AAd?$AA?5?$AA?$CI?$AA?$CK?$AA?5?$AA?$DN?$AA?5?$AAa?$AAu?$AAt?$AAo?$AA?0?$AA?5?$AAa?$AAc?$AAt?$AAu@| DCB " "
	DCB	0x0, "E", 0x0, "n", 0x0, "t", 0x0, "e", 0x0, "r", 0x0, " "
	DCB	0x0, "D", 0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e"
	DCB	0x0, " ", 0x0, "I", 0x0, "d", 0x0, " ", 0x0, "(", 0x0, "*"
	DCB	0x0, " ", 0x0, "=", 0x0, " ", 0x0, "a", 0x0, "u", 0x0, "t"
	DCB	0x0, "o", 0x0, ",", 0x0, " ", 0x0, "a", 0x0, "c", 0x0, "t"
	DCB	0x0, "u", 0x0, "a", 0x0, "l", 0x0, " ", 0x0, "'", 0x0, "%"
	DCB	0x0, "S", 0x0, "'", 0x0, ")", 0x0, ":", 0x0, " ", 0x0, 0x0
	DCB	0x0					; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000	00000000	 DCD         |__GSHandlerCheck|
  00004	00000000	 DCD         |$T43771|

  00008		 |OALBLMenuSetDeviceId| PROC

; 303  : {

  00008		 |$LN21@OALBLMenuS@6|
  00008	e92d4030	 stmdb       sp!, {r4, r5, lr}
  0000c	e24dd024	 sub         sp, sp, #0x24
  00010		 |$M43772|
  00010	e59f30c8	 ldr         r3, [pc, #0xC8]
  00014	e5933000	 ldr         r3, [r3]
  00018	e58d3020	 str         r3, [sp, #0x20]

; 304  :     WCHAR deviceId[OAL_KITL_ID_SIZE];
; 305  :     LPSTR pDeviceId = pMenu->pParam1;

  0001c	e590400c	 ldr         r4, [r0, #0xC]

; 306  :     UINT i;
; 307  : 
; 308  :     memset(deviceId, 0, sizeof(deviceId));

  00020	e28d0000	 add         r0, sp, #0
  00024	e3a02020	 mov         r2, #0x20
  00028	e3a01000	 mov         r1, #0
  0002c	eb000000	 bl          memset

; 309  :     
; 310  :     OALLog(L" Enter Device Id (* = auto, actual '%S'): ", DeviceId(pDeviceId));

  00030	e1d430d0	 ldrsb       r3, [r4]
  00034	e59f50a0	 ldr         r5, [pc, #0xA0]
  00038	e59f0098	 ldr         r0, [pc, #0x98]
  0003c	e3530000	 cmp         r3, #0
  00040	01a01005	 moveq       r1, r5
  00044	11a01004	 movne       r1, r4
  00048	eb000000	 bl          NKDbgPrintfW

; 311  :     
; 312  :     // Read input line
; 313  :     if (OALBLMenuReadLine(deviceId, dimof(deviceId)) == 0) goto cleanUp;

  0004c	e3a01010	 mov         r1, #0x10
  00050	e28d0000	 add         r0, sp, #0
  00054	eb000000	 bl          OALBLMenuReadLine
  00058	e3500000	 cmp         r0, #0
  0005c	0a000017	 beq         |$cleanUp$43311|

; 314  : 
; 315  :     // Convert unicode to one-byte character string
; 316  :     if (deviceId[0] == L'*' && deviceId[1] == L'\0') {

  00060	e1dd30b0	 ldrh        r3, [sp]
  00064	e353002a	 cmp         r3, #0x2A
  00068	1a000007	 bne         |$LN5@OALBLMenuS@6|
  0006c	e1dd30b2	 ldrh        r3, [sp, #2]
  00070	e3530000	 cmp         r3, #0
  00074	1a000004	 bne         |$LN5@OALBLMenuS@6|

; 317  :         memset(pDeviceId, 0, OAL_KITL_ID_SIZE);

  00078	e3a02010	 mov         r2, #0x10
  0007c	e3a01000	 mov         r1, #0
  00080	e1a00004	 mov         r0, r4
  00084	eb000000	 bl          memset

; 318  :     } else {

  00088	ea000006	 b           |$LN1@OALBLMenuS@6|
  0008c		 |$LN5@OALBLMenuS@6|

; 319  :         for (i = 0; i < OAL_KITL_ID_SIZE; i++) {

  0008c	e3a02000	 mov         r2, #0
  00090	e28d1000	 add         r1, sp, #0
  00094		 |$LL3@OALBLMenuS@6|

; 320  :             pDeviceId[i] = (UCHAR)deviceId[i];

  00094	e0d130b2	 ldrh        r3, [r1], #2
  00098	e7c23004	 strb        r3, [r2, +r4]
  0009c	e2822001	 add         r2, r2, #1
  000a0	e3520010	 cmp         r2, #0x10
  000a4	3afffffa	 bcc         |$LL3@OALBLMenuS@6|
  000a8		 |$LN1@OALBLMenuS@6|

; 321  :         }
; 322  :     }        
; 323  : 
; 324  :     OALLog(L" Device Id set to '%S'\r\n", DeviceId(pDeviceId));       

  000a8	e1d430d0	 ldrsb       r3, [r4]
  000ac	e59f0020	 ldr         r0, [pc, #0x20]
  000b0	e3530000	 cmp         r3, #0
  000b4	11a05004	 movne       r5, r4
  000b8	e1a01005	 mov         r1, r5
  000bc	eb000000	 bl          NKDbgPrintfW
  000c0		 |$cleanUp$43311|
  000c0	e59d0020	 ldr         r0, [sp, #0x20]
  000c4	eb000000	 bl          __security_check_cookie

; 325  :     
; 326  : cleanUp: ;
; 327  : }

  000c8	e28dd024	 add         sp, sp, #0x24
  000cc	e8bd4030	 ldmia       sp!, {r4, r5, lr}
  000d0	e12fff1e	 bx          lr
  000d4		 |$LN22@OALBLMenuS@6|
  000d4		 |$LN23@OALBLMenuS@6|
  000d4	00000000	 DCD         |??_C@_1DC@OGIHKHPF@?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?5?$AAI?$AAd?$AA?5?$AAs?$AAe?$AAt?$AA?5?$AAt?$AAo?$AA?5?$AA?8?$AA?$CF?$AAS?$AA?8?$AA?$AN?$AA?6?$AA?$AA@|
  000d8		 |$LN24@OALBLMenuS@6|
  000d8	00000000	 DCD         |??_C@_1FG@JMGBGFEJ@?$AA?5?$AAE?$AAn?$AAt?$AAe?$AAr?$AA?5?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?5?$AAI?$AAd?$AA?5?$AA?$CI?$AA?$CK?$AA?5?$AA?$DN?$AA?5?$AAa?$AAu?$AAt?$AAo?$AA?0?$AA?5?$AAa?$AAc?$AAt?$AAu@|
  000dc		 |$LN25@OALBLMenuS@6|
  000dc	00000000	 DCD         |??_C@_0N@LKBAFPFA@?$CK?$CK?$CK?5auto?5?$CK?$CK?$CK?$AA@|
  000e0		 |$LN26@OALBLMenuS@6|
  000e0	00000000	 DCD         |__security_cookie|
  000e4		 |$M43773|

			 ENDP  ; |OALBLMenuSetDeviceId|

	END
