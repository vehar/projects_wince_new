; Listing generated by Microsoft (R) Optimizing Compiler Version 14.01.60511.01 

	TTL	C:\WINCE600\PLATFORM\COMMON\SRC\SOC\OMAP2420_MS_V1\SDHC\IMPL\sdcontroller.cpp
	CODE32

  00000			 AREA	 |.drectve|, DRECTVE
	DCB	"-defaultlib:LIBCMT "
	DCB	"-defaultlib:OLDNAMES "

	EXPORT	|??_C@_1M@LCEEOPDH@?$AAI?$AA2?$AAC?$AA1?$AA?3?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_7CSDIOController@@6B@| [ DATA ]	; CSDIOController::`vftable'
	EXPORT	|??0CSDIOController@@QAA@XZ|		; CSDIOController::CSDIOController
	EXPORT	|?InitializeHardware@CSDIOController@@MAAHXZ| ; CSDIOController::InitializeHardware
	EXPORT	|?DeinitializeHardware@CSDIOController@@MAAXXZ| ; CSDIOController::DeinitializeHardware
	EXPORT	|?IsWriteProtected@CSDIOController@@MAAHXZ| ; CSDIOController::IsWriteProtected
	EXPORT	|?SDCardDetect@CSDIOController@@MAAHXZ|	; CSDIOController::SDCardDetect
	EXPORT	|?SDHCCardDetectIstThreadImpl@CSDIOController@@MAAKXZ| ; CSDIOController::SDHCCardDetectIstThreadImpl
	EXPORT	|?TurnCardPowerOn@CSDIOController@@MAAXXZ| ; CSDIOController::TurnCardPowerOn
	EXPORT	|?TurnCardPowerOff@CSDIOController@@MAAXXZ| ; CSDIOController::TurnCardPowerOff
	EXPORT	|?GetRegistrySettings@CSDIOController@@MAAHPAVCReg@@@Z| ; CSDIOController::GetRegistrySettings
	IMPORT	|??0CMenelaus@@QAA@PBGKK@Z|		; CMenelaus::CMenelaus
	IMPORT	|??2@YAPAXI@Z|				; operator new
	IMPORT	|??0CSDIOControllerBase@@QAA@XZ|	; CSDIOControllerBase::CSDIOControllerBase
	IMPORT	|??_ECSDIOController@@UAAPAXI@Z|, WEAK |??_GCSDIOController@@UAAPAXI@Z| ; CSDIOController::`vector deleting destructor', CSDIOController::`scalar deleting destructor'
	IMPORT	|?IndicateBusRequestComplete@CSDIOControllerBase@@UAAXPAU_SD_BUS_REQUEST@@J@Z| ; CSDIOControllerBase::IndicateBusRequestComplete
	IMPORT	|?InterpretCapabilities@CSDIOControllerBase@@UAAHXZ| ; CSDIOControllerBase::InterpretCapabilities

  00000			 AREA	 |.pdata|, PDATA
|$T41029| DCD	|$LN7@CSDIOContr|
	DCD	0x40003104
; File c:\wince600\platform\common\src\soc\omap2420_ms_v1\sdhc\impl\sdcontroller.cpp

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1M@LCEEOPDH@?$AAI?$AA2?$AAC?$AA1?$AA?3?$AA?$AA@| DCB "I", 0x0, "2", 0x0
	DCB	"C", 0x0, "1", 0x0, ":", 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_7CSDIOController@@6B@| DCD |??_ECSDIOController@@UAAPAXI@Z| ; CSDIOController::`vftable'
	DCD	|?IndicateBusRequestComplete@CSDIOControllerBase@@UAAXPAU_SD_BUS_REQUEST@@J@Z|
	DCD	|?InitializeHardware@CSDIOController@@MAAHXZ|
	DCD	|?DeinitializeHardware@CSDIOController@@MAAXXZ|
	DCD	|?IsWriteProtected@CSDIOController@@MAAHXZ|
	DCD	|?SDCardDetect@CSDIOController@@MAAHXZ|
	DCD	|?SDHCCardDetectIstThreadImpl@CSDIOController@@MAAKXZ|
	DCD	|?TurnCardPowerOn@CSDIOController@@MAAXXZ|
	DCD	|?TurnCardPowerOff@CSDIOController@@MAAXXZ|
	DCD	|?GetRegistrySettings@CSDIOController@@MAAHPAVCReg@@@Z|
	DCD	|?InterpretCapabilities@CSDIOControllerBase@@UAAHXZ|
; Function compile flags: /Odtp

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |??0CSDIOController@@QAA@XZ| PROC	; CSDIOController::CSDIOController

; 31   : {

  00000		 |$LN7@CSDIOContr|
  00000	e1a0c00d	 mov         r12, sp
  00004	e92d0001	 stmdb       sp!, {r0}
  00008	e92d5000	 stmdb       sp!, {r12, lr}
  0000c	e24dd018	 sub         sp, sp, #0x18
  00010		 |$M41026|
  00010	e59d0020	 ldr         r0, [sp, #0x20]
  00014	eb000000	 bl          |??0CSDIOControllerBase@@QAA@XZ|
  00018	e58d0008	 str         r0, [sp, #8]
  0001c	e59f209c	 ldr         r2, [pc, #0x9C]
  00020	e59d3020	 ldr         r3, [sp, #0x20]
  00024	e5832000	 str         r2, [r3]
  00028	e59d3020	 ldr         r3, [sp, #0x20]
  0002c	e28320a8	 add         r2, r3, #0xA8
  00030	e3a03000	 mov         r3, #0
  00034	e5823000	 str         r3, [r2]
  00038	e59d3020	 ldr         r3, [sp, #0x20]
  0003c	e28320ac	 add         r2, r3, #0xAC
  00040	e3a03000	 mov         r3, #0
  00044	e5823000	 str         r3, [r2]
  00048	e3a00018	 mov         r0, #0x18
  0004c	eb000000	 bl          |??2@YAPAXI@Z|
  00050	e58d000c	 str         r0, [sp, #0xC]
  00054	e59d300c	 ldr         r3, [sp, #0xC]
  00058	e58d3000	 str         r3, [sp]
  0005c	e59d3000	 ldr         r3, [sp]
  00060	e3530000	 cmp         r3, #0
  00064	0a000008	 beq         |$LN3@CSDIOContr|
  00068	e3a03007	 mov         r3, #7
  0006c	e3a02072	 mov         r2, #0x72
  00070	e59f1044	 ldr         r1, [pc, #0x44]
  00074	e59d0000	 ldr         r0, [sp]
  00078	eb000000	 bl          |??0CMenelaus@@QAA@PBGKK@Z|
  0007c	e58d0010	 str         r0, [sp, #0x10]
  00080	e59d3010	 ldr         r3, [sp, #0x10]
  00084	e58d3014	 str         r3, [sp, #0x14]
  00088	ea000001	 b           |$LN4@CSDIOContr|
  0008c		 |$LN3@CSDIOContr|
  0008c	e3a03000	 mov         r3, #0
  00090	e58d3014	 str         r3, [sp, #0x14]
  00094		 |$LN4@CSDIOContr|
  00094	e59d3020	 ldr         r3, [sp, #0x20]
  00098	e28320b0	 add         r2, r3, #0xB0
  0009c	e59d3014	 ldr         r3, [sp, #0x14]
  000a0	e5823000	 str         r3, [r2]

; 32   : }

  000a4	e59d3020	 ldr         r3, [sp, #0x20]
  000a8	e58d3004	 str         r3, [sp, #4]
  000ac	e59d0004	 ldr         r0, [sp, #4]
  000b0	e28dd018	 add         sp, sp, #0x18
  000b4	e89d6000	 ldmia       sp, {sp, lr}
  000b8	e12fff1e	 bx          lr
  000bc		 |$LN8@CSDIOContr|
  000bc		 |$LN9@CSDIOContr|
  000bc	00000000	 DCD         |??_C@_1M@LCEEOPDH@?$AAI?$AA2?$AAC?$AA1?$AA?3?$AA?$AA@|
  000c0		 |$LN10@CSDIOContr|
  000c0	00000000	 DCD         |??_7CSDIOController@@6B@|
  000c4		 |$M41027|

			 ENDP  ; |??0CSDIOController@@QAA@XZ|, CSDIOController::CSDIOController

	EXPORT	|??1CSDIOController@@UAA@XZ|		; CSDIOController::~CSDIOController
	IMPORT	|??3@YAXPAX@Z|				; operator delete

  00000			 AREA	 |.pdata|, PDATA
|$T41038| DCD	|$LN6@scalar|
	DCD	0x40001104
; Function compile flags: /Odtp

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |??_GCSDIOController@@UAAPAXI@Z| PROC	; CSDIOController::`scalar deleting destructor'
  00000		 |$LN6@scalar|
  00000	e1a0c00d	 mov         r12, sp
  00004	e92d0003	 stmdb       sp!, {r0, r1}
  00008	e92d5000	 stmdb       sp!, {r12, lr}
  0000c	e24dd004	 sub         sp, sp, #4
  00010		 |$M41035|
  00010	e59d000c	 ldr         r0, [sp, #0xC]
  00014	eb000000	 bl          |??1CSDIOController@@UAA@XZ|
  00018	e59d3010	 ldr         r3, [sp, #0x10]
  0001c	e3130001	 tst         r3, #1
  00020	0a000001	 beq         |$LN1@scalar|
  00024	e59d000c	 ldr         r0, [sp, #0xC]
  00028	eb000000	 bl          |??3@YAXPAX@Z|
  0002c		 |$LN1@scalar|
  0002c	e59d300c	 ldr         r3, [sp, #0xC]
  00030	e58d3000	 str         r3, [sp]
  00034	e59d0000	 ldr         r0, [sp]
  00038	e28dd004	 add         sp, sp, #4
  0003c	e89d6000	 ldmia       sp, {sp, lr}
  00040	e12fff1e	 bx          lr
  00044		 |$M41036|

			 ENDP  ; |??_GCSDIOController@@UAAPAXI@Z|, CSDIOController::`scalar deleting destructor'

	EXPORT	|??_GCMenelaus@@QAAPAXI@Z|		; CMenelaus::`scalar deleting destructor'
	IMPORT	|??1CSDIOControllerBase@@UAA@XZ|	; CSDIOControllerBase::~CSDIOControllerBase

  00008			 AREA	 |.pdata|, PDATA
|$T41049| DCD	|$LN7@CSDIOContr@2|
	DCD	0x40001f04
; Function compile flags: /Odtp

  000c4			 AREA	 |.text|, CODE, ARM

  000c4		 |??1CSDIOController@@UAA@XZ| PROC	; CSDIOController::~CSDIOController

; 35   : {

  000c4		 |$LN7@CSDIOContr@2|
  000c4	e1a0c00d	 mov         r12, sp
  000c8	e92d0001	 stmdb       sp!, {r0}
  000cc	e92d5000	 stmdb       sp!, {r12, lr}
  000d0	e24dd010	 sub         sp, sp, #0x10
  000d4		 |$M41046|
  000d4	e59f2060	 ldr         r2, [pc, #0x60]
  000d8	e59d3018	 ldr         r3, [sp, #0x18]
  000dc	e5832000	 str         r2, [r3]

; 36   :     delete &m_Menelaus;

  000e0	e59d3018	 ldr         r3, [sp, #0x18]
  000e4	e28330b0	 add         r3, r3, #0xB0
  000e8	e5933000	 ldr         r3, [r3]
  000ec	e58d3004	 str         r3, [sp, #4]
  000f0	e59d3004	 ldr         r3, [sp, #4]
  000f4	e58d3000	 str         r3, [sp]
  000f8	e59d3000	 ldr         r3, [sp]
  000fc	e3530000	 cmp         r3, #0
  00100	0a000006	 beq         |$LN3@CSDIOContr@2|
  00104	e3a01001	 mov         r1, #1
  00108	e59d0000	 ldr         r0, [sp]
  0010c	eb000000	 bl          |??_GCMenelaus@@QAAPAXI@Z|
  00110	e58d0008	 str         r0, [sp, #8]
  00114	e59d3008	 ldr         r3, [sp, #8]
  00118	e58d300c	 str         r3, [sp, #0xC]
  0011c	ea000001	 b           |$LN4@CSDIOContr@2|
  00120		 |$LN3@CSDIOContr@2|
  00120	e3a03000	 mov         r3, #0
  00124	e58d300c	 str         r3, [sp, #0xC]
  00128		 |$LN4@CSDIOContr@2|

; 37   : }

  00128	e59d0018	 ldr         r0, [sp, #0x18]
  0012c	eb000000	 bl          |??1CSDIOControllerBase@@UAA@XZ|
  00130	e28dd010	 add         sp, sp, #0x10
  00134	e89d6000	 ldmia       sp, {sp, lr}
  00138	e12fff1e	 bx          lr
  0013c		 |$LN8@CSDIOContr@2|
  0013c		 |$LN9@CSDIOContr@2|
  0013c	00000000	 DCD         |??_7CSDIOController@@6B@|
  00140		 |$M41047|

			 ENDP  ; |??1CSDIOController@@UAA@XZ|, CSDIOController::~CSDIOController

	IMPORT	|??1CMenelaus@@QAA@XZ|			; CMenelaus::~CMenelaus

  00000			 AREA	 |.pdata|, PDATA
|$T41057| DCD	|$LN6@scalar@2|
	DCD	0x40001104
; Function compile flags: /Odtp

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |??_GCMenelaus@@QAAPAXI@Z| PROC	; CMenelaus::`scalar deleting destructor'
  00000		 |$LN6@scalar@2|
  00000	e1a0c00d	 mov         r12, sp
  00004	e92d0003	 stmdb       sp!, {r0, r1}
  00008	e92d5000	 stmdb       sp!, {r12, lr}
  0000c	e24dd004	 sub         sp, sp, #4
  00010		 |$M41054|
  00010	e59d000c	 ldr         r0, [sp, #0xC]
  00014	eb000000	 bl          |??1CMenelaus@@QAA@XZ|
  00018	e59d3010	 ldr         r3, [sp, #0x10]
  0001c	e3130001	 tst         r3, #1
  00020	0a000001	 beq         |$LN1@scalar@2|
  00024	e59d000c	 ldr         r0, [sp, #0xC]
  00028	eb000000	 bl          |??3@YAXPAX@Z|
  0002c		 |$LN1@scalar@2|
  0002c	e59d300c	 ldr         r3, [sp, #0xC]
  00030	e58d3000	 str         r3, [sp]
  00034	e59d0000	 ldr         r0, [sp]
  00038	e28dd004	 add         sp, sp, #4
  0003c	e89d6000	 ldmia       sp, {sp, lr}
  00040	e12fff1e	 bx          lr
  00044		 |$M41055|

			 ENDP  ; |??_GCMenelaus@@QAAPAXI@Z|, CMenelaus::`scalar deleting destructor'

	EXPORT	|??_C@_1IC@NFFAHKF@?$AAC?$AAS?$AAD?$AAI?$AAO?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAl?$AAe?$AAr?$AA?3?$AA?3?$AAI?$AAs?$AAW?$AAr?$AAi?$AAt?$AAe?$AAP?$AAr?$AAo?$AAt?$AAe?$AAc?$AAt?$AAe@| [ DATA ] ; `string'
	EXPORT	|?get_Slot2State@CMenelaus@@QBAHXZ|	; CMenelaus::get_Slot2State
	EXPORT	|??_C@_1IC@HBDECCHO@?$AAC?$AAS?$AAD?$AAI?$AAO?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAl?$AAe?$AAr?$AA?3?$AA?3?$AAI?$AAs?$AAW?$AAr?$AAi?$AAt?$AAe?$AAP?$AAr?$AAo?$AAt?$AAe?$AAc?$AAt?$AAe@| [ DATA ] ; `string'
	EXPORT	|?get_Slot1State@CMenelaus@@QBAHXZ|	; CMenelaus::get_Slot1State
	IMPORT	|NKDbgPrintfW|
	IMPORT	|dpCurSettings|
	IMPORT	|__rt_udiv|

  00010			 AREA	 |.pdata|, PDATA
|$T41074| DCD	|$LN17@IsWritePro|
	DCD	0x40007104

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1IC@NFFAHKF@?$AAC?$AAS?$AAD?$AAI?$AAO?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAl?$AAe?$AAr?$AA?3?$AA?3?$AAI?$AAs?$AAW?$AAr?$AAi?$AAt?$AAe?$AAP?$AAr?$AAo?$AAt?$AAe?$AAc?$AAt?$AAe@| DCB "C"
	DCB	0x0, "S", 0x0, "D", 0x0, "I", 0x0, "O", 0x0, "C", 0x0, "o"
	DCB	0x0, "n", 0x0, "t", 0x0, "r", 0x0, "o", 0x0, "l", 0x0, "l"
	DCB	0x0, "e", 0x0, "r", 0x0, ":", 0x0, ":", 0x0, "I", 0x0, "s"
	DCB	0x0, "W", 0x0, "r", 0x0, "i", 0x0, "t", 0x0, "e", 0x0, "P"
	DCB	0x0, "r", 0x0, "o", 0x0, "t", 0x0, "e", 0x0, "c", 0x0, "t"
	DCB	0x0, "e", 0x0, "d", 0x0, ":", 0x0, " ", 0x0, "W", 0x0, "r"
	DCB	0x0, "i", 0x0, "t", 0x0, "e", 0x0, "P", 0x0, "r", 0x0, "o"
	DCB	0x0, "t", 0x0, "e", 0x0, "c", 0x0, "t", 0x0, " ", 0x0, "S"
	DCB	0x0, "t", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, " ", 0x0, "S"
	DCB	0x0, "l", 0x0, "o", 0x0, "t", 0x0, "2", 0x0, " ", 0x0, "%"
	DCB	0x0, "d", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1IC@HBDECCHO@?$AAC?$AAS?$AAD?$AAI?$AAO?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAl?$AAe?$AAr?$AA?3?$AA?3?$AAI?$AAs?$AAW?$AAr?$AAi?$AAt?$AAe?$AAP?$AAr?$AAo?$AAt?$AAe?$AAc?$AAt?$AAe@| DCB "C"
	DCB	0x0, "S", 0x0, "D", 0x0, "I", 0x0, "O", 0x0, "C", 0x0, "o"
	DCB	0x0, "n", 0x0, "t", 0x0, "r", 0x0, "o", 0x0, "l", 0x0, "l"
	DCB	0x0, "e", 0x0, "r", 0x0, ":", 0x0, ":", 0x0, "I", 0x0, "s"
	DCB	0x0, "W", 0x0, "r", 0x0, "i", 0x0, "t", 0x0, "e", 0x0, "P"
	DCB	0x0, "r", 0x0, "o", 0x0, "t", 0x0, "e", 0x0, "c", 0x0, "t"
	DCB	0x0, "e", 0x0, "d", 0x0, ":", 0x0, " ", 0x0, "W", 0x0, "r"
	DCB	0x0, "i", 0x0, "t", 0x0, "e", 0x0, "P", 0x0, "r", 0x0, "o"
	DCB	0x0, "t", 0x0, "e", 0x0, "c", 0x0, "t", 0x0, " ", 0x0, "S"
	DCB	0x0, "t", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, " ", 0x0, "S"
	DCB	0x0, "l", 0x0, "o", 0x0, "t", 0x0, "1", 0x0, " ", 0x0, "%"
	DCB	0x0, "d", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Odtp

  00140			 AREA	 |.text|, CODE, ARM

  00140		 |?IsWriteProtected@CSDIOController@@MAAHXZ| PROC ; CSDIOController::IsWriteProtected

; 41   : {

  00140		 |$LN17@IsWritePro|
  00140	e1a0c00d	 mov         r12, sp
  00144	e92d0001	 stmdb       sp!, {r0}
  00148	e92d5010	 stmdb       sp!, {r4, r12, lr}
  0014c	e24dd024	 sub         sp, sp, #0x24
  00150		 |$M41071|

; 42   :     if (m_Menelaus.get_Slot1State())

  00150	e59d3030	 ldr         r3, [sp, #0x30]
  00154	e28330b0	 add         r3, r3, #0xB0
  00158	e5930000	 ldr         r0, [r3]
  0015c	eb000000	 bl          |?get_Slot1State@CMenelaus@@QBAHXZ|
  00160	e58d000c	 str         r0, [sp, #0xC]
  00164	e59d300c	 ldr         r3, [sp, #0xC]
  00168	e3530000	 cmp         r3, #0
  0016c	0a000029	 beq         |$LN4@IsWritePro|

; 43   :     {
; 44   :         BOOL state = (INREG32(&m_pGPIO1Regs->ulGPIO_DATAIN) & 
; 45   :                      (1 << m_dwCardReadWriteSlot1GPIO % sizeof(UINT32)))
; 46   :                      && m_dwCardWriteProtectedState ? TRUE : FALSE;

  00170	e59d3030	 ldr         r3, [sp, #0x30]
  00174	e28330a8	 add         r3, r3, #0xA8
  00178	e5933000	 ldr         r3, [r3]
  0017c	e2834038	 add         r4, r3, #0x38
  00180	e59d3030	 ldr         r3, [sp, #0x30]
  00184	e283309c	 add         r3, r3, #0x9C
  00188	e5931000	 ldr         r1, [r3]
  0018c	e3a00004	 mov         r0, #4
  00190	eb000000	 bl          __rt_udiv
  00194	e3a03001	 mov         r3, #1
  00198	e1a02113	 mov         r2, r3, lsl r1
  0019c	e5943000	 ldr         r3, [r4]
  001a0	e1130002	 tst         r3, r2
  001a4	0a000007	 beq         |$LN7@IsWritePro|
  001a8	e59d3030	 ldr         r3, [sp, #0x30]
  001ac	e28330a4	 add         r3, r3, #0xA4
  001b0	e5933000	 ldr         r3, [r3]
  001b4	e3530000	 cmp         r3, #0
  001b8	0a000002	 beq         |$LN7@IsWritePro|
  001bc	e3a03001	 mov         r3, #1
  001c0	e58d3010	 str         r3, [sp, #0x10]
  001c4	ea000001	 b           |$LN8@IsWritePro|
  001c8		 |$LN7@IsWritePro|
  001c8	e3a03000	 mov         r3, #0
  001cc	e58d3010	 str         r3, [sp, #0x10]
  001d0		 |$LN8@IsWritePro|
  001d0	e59d3010	 ldr         r3, [sp, #0x10]
  001d4	e58d3000	 str         r3, [sp]

; 47   :         DEBUGMSG(SDCARD_ZONE_ERROR, (L"CSDIOController::IsWriteProtected: "
; 48   :             L"WriteProtect State Slot1 %d\r\n", state
; 49   :         ));

  001d8	e59f311c	 ldr         r3, [pc, #0x11C]
  001dc	e5933440	 ldr         r3, [r3, #0x440]
  001e0	e3130902	 tst         r3, #2, 18
  001e4	0a000005	 beq         |$LN9@IsWritePro|
  001e8	e59d1000	 ldr         r1, [sp]
  001ec	e59f010c	 ldr         r0, [pc, #0x10C]
  001f0	eb000000	 bl          NKDbgPrintfW
  001f4	e3a03001	 mov         r3, #1
  001f8	e58d3014	 str         r3, [sp, #0x14]
  001fc	ea000001	 b           |$LN10@IsWritePro|
  00200		 |$LN9@IsWritePro|
  00200	e3a03000	 mov         r3, #0
  00204	e58d3014	 str         r3, [sp, #0x14]
  00208		 |$LN10@IsWritePro|

; 50   :         return state;

  00208	e59d3000	 ldr         r3, [sp]
  0020c	e58d3008	 str         r3, [sp, #8]
  00210	ea000034	 b           |$LN5@IsWritePro|
  00214	ea000033	 b           |$LN3@IsWritePro|
  00218		 |$LN4@IsWritePro|

; 51   :     } 
; 52   :     else if (m_Menelaus.get_Slot2State())

  00218	e59d3030	 ldr         r3, [sp, #0x30]
  0021c	e28330b0	 add         r3, r3, #0xB0
  00220	e5930000	 ldr         r0, [r3]
  00224	eb000000	 bl          |?get_Slot2State@CMenelaus@@QBAHXZ|
  00228	e58d0018	 str         r0, [sp, #0x18]
  0022c	e59d3018	 ldr         r3, [sp, #0x18]
  00230	e3530000	 cmp         r3, #0
  00234	0a000029	 beq         |$LN2@IsWritePro|

; 53   :     {
; 54   :         BOOL state = (INREG32(&m_pGPIO4Regs->ulGPIO_DATAIN) & 
; 55   :                      (1 << m_dwCardReadWriteSlot2GPIO % sizeof(UINT32)))
; 56   :                      && m_dwCardWriteProtectedState ? TRUE : FALSE;

  00238	e59d3030	 ldr         r3, [sp, #0x30]
  0023c	e28330ac	 add         r3, r3, #0xAC
  00240	e5933000	 ldr         r3, [r3]
  00244	e2834038	 add         r4, r3, #0x38
  00248	e59d3030	 ldr         r3, [sp, #0x30]
  0024c	e28330a0	 add         r3, r3, #0xA0
  00250	e5931000	 ldr         r1, [r3]
  00254	e3a00004	 mov         r0, #4
  00258	eb000000	 bl          __rt_udiv
  0025c	e3a03001	 mov         r3, #1
  00260	e1a02113	 mov         r2, r3, lsl r1
  00264	e5943000	 ldr         r3, [r4]
  00268	e1130002	 tst         r3, r2
  0026c	0a000007	 beq         |$LN11@IsWritePro|
  00270	e59d3030	 ldr         r3, [sp, #0x30]
  00274	e28330a4	 add         r3, r3, #0xA4
  00278	e5933000	 ldr         r3, [r3]
  0027c	e3530000	 cmp         r3, #0
  00280	0a000002	 beq         |$LN11@IsWritePro|
  00284	e3a03001	 mov         r3, #1
  00288	e58d301c	 str         r3, [sp, #0x1C]
  0028c	ea000001	 b           |$LN12@IsWritePro|
  00290		 |$LN11@IsWritePro|
  00290	e3a03000	 mov         r3, #0
  00294	e58d301c	 str         r3, [sp, #0x1C]
  00298		 |$LN12@IsWritePro|
  00298	e59d301c	 ldr         r3, [sp, #0x1C]
  0029c	e58d3004	 str         r3, [sp, #4]

; 57   :         DEBUGMSG(SDCARD_ZONE_ERROR, (L"CSDIOController::IsWriteProtected: "
; 58   :             L"WriteProtect State Slot2 %d\r\n", state
; 59   :         ));

  002a0	e59f3054	 ldr         r3, [pc, #0x54]
  002a4	e5933440	 ldr         r3, [r3, #0x440]
  002a8	e3130902	 tst         r3, #2, 18
  002ac	0a000005	 beq         |$LN13@IsWritePro|
  002b0	e59d1004	 ldr         r1, [sp, #4]
  002b4	e59f003c	 ldr         r0, [pc, #0x3C]
  002b8	eb000000	 bl          NKDbgPrintfW
  002bc	e3a03001	 mov         r3, #1
  002c0	e58d3020	 str         r3, [sp, #0x20]
  002c4	ea000001	 b           |$LN14@IsWritePro|
  002c8		 |$LN13@IsWritePro|
  002c8	e3a03000	 mov         r3, #0
  002cc	e58d3020	 str         r3, [sp, #0x20]
  002d0		 |$LN14@IsWritePro|

; 60   :         return state;

  002d0	e59d3004	 ldr         r3, [sp, #4]
  002d4	e58d3008	 str         r3, [sp, #8]
  002d8	ea000002	 b           |$LN5@IsWritePro|

; 61   :     }
; 62   :     else

  002dc	ea000001	 b           |$LN1@IsWritePro|
  002e0		 |$LN2@IsWritePro|

; 63   :         return FALSE;

  002e0	e3a03000	 mov         r3, #0
  002e4	e58d3008	 str         r3, [sp, #8]
  002e8		 |$LN1@IsWritePro|
  002e8		 |$LN3@IsWritePro|
  002e8		 |$LN5@IsWritePro|

; 64   : }

  002e8	e59d0008	 ldr         r0, [sp, #8]
  002ec	e28dd024	 add         sp, sp, #0x24
  002f0	e89d6010	 ldmia       sp, {r4, sp, lr}
  002f4	e12fff1e	 bx          lr
  002f8		 |$LN18@IsWritePro|
  002f8		 |$LN19@IsWritePro|
  002f8	00000000	 DCD         |??_C@_1IC@NFFAHKF@?$AAC?$AAS?$AAD?$AAI?$AAO?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAl?$AAe?$AAr?$AA?3?$AA?3?$AAI?$AAs?$AAW?$AAr?$AAi?$AAt?$AAe?$AAP?$AAr?$AAo?$AAt?$AAe?$AAc?$AAt?$AAe@|
  002fc		 |$LN20@IsWritePro|
  002fc	00000000	 DCD         |dpCurSettings|
  00300		 |$LN21@IsWritePro|
  00300	00000000	 DCD         |??_C@_1IC@HBDECCHO@?$AAC?$AAS?$AAD?$AAI?$AAO?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAl?$AAe?$AAr?$AA?3?$AA?3?$AAI?$AAs?$AAW?$AAr?$AAi?$AAt?$AAe?$AAP?$AAr?$AAo?$AAt?$AAe?$AAc?$AAt?$AAe@|
  00304		 |$M41072|

			 ENDP  ; |?IsWriteProtected@CSDIOController@@MAAHXZ|, CSDIOController::IsWriteProtected

; File c:\wince600\platform\common\src\soc\omap2420_ms_v1\sdhc\impl\menelaus.h

  00000			 AREA	 |.pdata|, PDATA
|$T41084| DCD	|$LN5@get_Slot1S|
	DCD	0x40000c04
; Function compile flags: /Odtp

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?get_Slot1State@CMenelaus@@QBAHXZ| PROC ; CMenelaus::get_Slot1State

; 35   : 	BOOL get_Slot1State() const {return m_bSlot1;}

  00000		 |$LN5@get_Slot1S|
  00000	e1a0c00d	 mov         r12, sp
  00004	e92d0001	 stmdb       sp!, {r0}
  00008	e92d5000	 stmdb       sp!, {r12, lr}
  0000c	e24dd004	 sub         sp, sp, #4
  00010		 |$M41081|
  00010	e59d300c	 ldr         r3, [sp, #0xC]
  00014	e2833010	 add         r3, r3, #0x10
  00018	e5933000	 ldr         r3, [r3]
  0001c	e58d3000	 str         r3, [sp]
  00020	e59d0000	 ldr         r0, [sp]
  00024	e28dd004	 add         sp, sp, #4
  00028	e89d6000	 ldmia       sp, {sp, lr}
  0002c	e12fff1e	 bx          lr
  00030		 |$M41082|

			 ENDP  ; |?get_Slot1State@CMenelaus@@QBAHXZ|, CMenelaus::get_Slot1State


  00000			 AREA	 |.pdata|, PDATA
|$T41092| DCD	|$LN5@get_Slot2S|
	DCD	0x40000c04
; Function compile flags: /Odtp

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?get_Slot2State@CMenelaus@@QBAHXZ| PROC ; CMenelaus::get_Slot2State

; 36   : 	BOOL get_Slot2State() const {return m_bSlot2;}

  00000		 |$LN5@get_Slot2S|
  00000	e1a0c00d	 mov         r12, sp
  00004	e92d0001	 stmdb       sp!, {r0}
  00008	e92d5000	 stmdb       sp!, {r12, lr}
  0000c	e24dd004	 sub         sp, sp, #4
  00010		 |$M41089|
  00010	e59d300c	 ldr         r3, [sp, #0xC]
  00014	e2833014	 add         r3, r3, #0x14
  00018	e5933000	 ldr         r3, [r3]
  0001c	e58d3000	 str         r3, [sp]
  00020	e59d0000	 ldr         r0, [sp]
  00024	e28dd004	 add         sp, sp, #4
  00028	e89d6000	 ldmia       sp, {sp, lr}
  0002c	e12fff1e	 bx          lr
  00030		 |$M41090|

			 ENDP  ; |?get_Slot2State@CMenelaus@@QBAHXZ|, CMenelaus::get_Slot2State


  00018			 AREA	 |.pdata|, PDATA
|$T41100| DCD	|$LN8@SDCardDete|
	DCD	0x40001e04
; Function compile flags: /Odtp
; File c:\wince600\platform\common\src\soc\omap2420_ms_v1\sdhc\impl\sdcontroller.cpp

  00304			 AREA	 |.text|, CODE, ARM

  00304		 |?SDCardDetect@CSDIOController@@MAAHXZ| PROC ; CSDIOController::SDCardDetect

; 68   : {

  00304		 |$LN8@SDCardDete|
  00304	e1a0c00d	 mov         r12, sp
  00308	e92d0001	 stmdb       sp!, {r0}
  0030c	e92d5000	 stmdb       sp!, {r12, lr}
  00310	e24dd00c	 sub         sp, sp, #0xC
  00314		 |$M41097|

; 69   :     
; 70   :     if (m_Menelaus.get_Slot1State() || m_Menelaus.get_Slot2State())

  00314	e59d3014	 ldr         r3, [sp, #0x14]
  00318	e28330b0	 add         r3, r3, #0xB0
  0031c	e5930000	 ldr         r0, [r3]
  00320	eb000000	 bl          |?get_Slot1State@CMenelaus@@QBAHXZ|
  00324	e58d0004	 str         r0, [sp, #4]
  00328	e59d3004	 ldr         r3, [sp, #4]
  0032c	e3530000	 cmp         r3, #0
  00330	1a000007	 bne         |$LN2@SDCardDete|
  00334	e59d3014	 ldr         r3, [sp, #0x14]
  00338	e28330b0	 add         r3, r3, #0xB0
  0033c	e5930000	 ldr         r0, [r3]
  00340	eb000000	 bl          |?get_Slot2State@CMenelaus@@QBAHXZ|
  00344	e58d0008	 str         r0, [sp, #8]
  00348	e59d3008	 ldr         r3, [sp, #8]
  0034c	e3530000	 cmp         r3, #0
  00350	0a000003	 beq         |$LN3@SDCardDete|
  00354		 |$LN2@SDCardDete|

; 71   :     {
; 72   :         return TRUE;                            // card inserted into Slot1 or Slot2

  00354	e3a03001	 mov         r3, #1
  00358	e58d3000	 str         r3, [sp]
  0035c	ea000002	 b           |$LN4@SDCardDete|

; 73   :     }
; 74   :     else

  00360	ea000001	 b           |$LN1@SDCardDete|
  00364		 |$LN3@SDCardDete|

; 75   :     {
; 76   :         return FALSE;                           // card not inserted into either slot

  00364	e3a03000	 mov         r3, #0
  00368	e58d3000	 str         r3, [sp]
  0036c		 |$LN1@SDCardDete|
  0036c		 |$LN4@SDCardDete|

; 77   :     }
; 78   : }

  0036c	e59d0000	 ldr         r0, [sp]
  00370	e28dd00c	 add         sp, sp, #0xC
  00374	e89d6000	 ldmia       sp, {sp, lr}
  00378	e12fff1e	 bx          lr
  0037c		 |$M41098|

			 ENDP  ; |?SDCardDetect@CSDIOController@@MAAHXZ|, CSDIOController::SDCardDetect

	EXPORT	|??_C@_1HM@CKHILJLA@?$AAC?$AAS?$AAD?$AAI?$AAO?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAl?$AAe?$AAr?$AA?3?$AA?3?$AAT?$AAu?$AAr?$AAn?$AAC?$AAa?$AAr?$AAd?$AAP?$AAo?$AAw?$AAe?$AAr?$AAO?$AAn@| [ DATA ] ; `string'
	EXPORT	|??_C@_1GG@JGNEEKOA@?$AAC?$AAS?$AAD?$AAI?$AAO?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAl?$AAe?$AAr?$AA?3?$AA?3?$AAT?$AAu?$AAr?$AAn?$AAC?$AAa?$AAr?$AAd?$AAP?$AAo?$AAw?$AAe?$AAr?$AAO?$AAn@| [ DATA ] ; `string'
	EXPORT	|??_C@_1II@FNIPDNLC@?$AAC?$AAS?$AAD?$AAI?$AAO?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAl?$AAe?$AAr?$AA?3?$AA?3?$AAT?$AAu?$AAr?$AAn?$AAC?$AAa?$AAr?$AAd?$AAP?$AAo?$AAw?$AAe?$AAr?$AAO?$AAn@| [ DATA ] ; `string'
	IMPORT	|?HandleSlot2Insert@CMenelaus@@QAAHXZ|	; CMenelaus::HandleSlot2Insert
	IMPORT	|?HandleSlot1Insert@CMenelaus@@QAAHXZ|	; CMenelaus::HandleSlot1Insert

  00020			 AREA	 |.pdata|, PDATA
|$T41111| DCD	|$LN15@TurnCardPo|
	DCD	0x40004604

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1HM@CKHILJLA@?$AAC?$AAS?$AAD?$AAI?$AAO?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAl?$AAe?$AAr?$AA?3?$AA?3?$AAT?$AAu?$AAr?$AAn?$AAC?$AAa?$AAr?$AAd?$AAP?$AAo?$AAw?$AAe?$AAr?$AAO?$AAn@| DCB "C"
	DCB	0x0, "S", 0x0, "D", 0x0, "I", 0x0, "O", 0x0, "C", 0x0, "o"
	DCB	0x0, "n", 0x0, "t", 0x0, "r", 0x0, "o", 0x0, "l", 0x0, "l"
	DCB	0x0, "e", 0x0, "r", 0x0, ":", 0x0, ":", 0x0, "T", 0x0, "u"
	DCB	0x0, "r", 0x0, "n", 0x0, "C", 0x0, "a", 0x0, "r", 0x0, "d"
	DCB	0x0, "P", 0x0, "o", 0x0, "w", 0x0, "e", 0x0, "r", 0x0, "O"
	DCB	0x0, "n", 0x0, ":", 0x0, " ", 0x0, "T", 0x0, "u", 0x0, "r"
	DCB	0x0, "n", 0x0, "C", 0x0, "a", 0x0, "r", 0x0, "d", 0x0, "P"
	DCB	0x0, "o", 0x0, "w", 0x0, "e", 0x0, "r", 0x0, "O", 0x0, "n"
	DCB	0x0, " ", 0x0, "-", 0x0, " ", 0x0, "S", 0x0, "l", 0x0, "o"
	DCB	0x0, "t", 0x0, " ", 0x0, "?", 0x0, " ", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1GG@JGNEEKOA@?$AAC?$AAS?$AAD?$AAI?$AAO?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAl?$AAe?$AAr?$AA?3?$AA?3?$AAT?$AAu?$AAr?$AAn?$AAC?$AAa?$AAr?$AAd?$AAP?$AAo?$AAw?$AAe?$AAr?$AAO?$AAn@| DCB "C"
	DCB	0x0, "S", 0x0, "D", 0x0, "I", 0x0, "O", 0x0, "C", 0x0, "o"
	DCB	0x0, "n", 0x0, "t", 0x0, "r", 0x0, "o", 0x0, "l", 0x0, "l"
	DCB	0x0, "e", 0x0, "r", 0x0, ":", 0x0, ":", 0x0, "T", 0x0, "u"
	DCB	0x0, "r", 0x0, "n", 0x0, "C", 0x0, "a", 0x0, "r", 0x0, "d"
	DCB	0x0, "P", 0x0, "o", 0x0, "w", 0x0, "e", 0x0, "r", 0x0, "O"
	DCB	0x0, "n", 0x0, ":", 0x0, " ", 0x0, "S", 0x0, "e", 0x0, "l"
	DCB	0x0, "e", 0x0, "c", 0x0, "t", 0x0, " ", 0x0, "-", 0x0, " "
	DCB	0x0, "S", 0x0, "l", 0x0, "o", 0x0, "t", 0x0, "2", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1II@FNIPDNLC@?$AAC?$AAS?$AAD?$AAI?$AAO?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAl?$AAe?$AAr?$AA?3?$AA?3?$AAT?$AAu?$AAr?$AAn?$AAC?$AAa?$AAr?$AAd?$AAP?$AAo?$AAw?$AAe?$AAr?$AAO?$AAn@| DCB "C"
	DCB	0x0, "S", 0x0, "D", 0x0, "I", 0x0, "O", 0x0, "C", 0x0, "o"
	DCB	0x0, "n", 0x0, "t", 0x0, "r", 0x0, "o", 0x0, "l", 0x0, "l"
	DCB	0x0, "e", 0x0, "r", 0x0, ":", 0x0, ":", 0x0, "T", 0x0, "u"
	DCB	0x0, "r", 0x0, "n", 0x0, "C", 0x0, "a", 0x0, "r", 0x0, "d"
	DCB	0x0, "P", 0x0, "o", 0x0, "w", 0x0, "e", 0x0, "r", 0x0, "O"
	DCB	0x0, "n", 0x0, ":", 0x0, " ", 0x0, "T", 0x0, "u", 0x0, "r"
	DCB	0x0, "n", 0x0, "C", 0x0, "a", 0x0, "r", 0x0, "d", 0x0, "P"
	DCB	0x0, "o", 0x0, "w", 0x0, "e", 0x0, "r", 0x0, "O", 0x0, "n"
	DCB	0x0, " ", 0x0, "&", 0x0, " ", 0x0, "S", 0x0, "e", 0x0, "l"
	DCB	0x0, "e", 0x0, "c", 0x0, "t", 0x0, "-", 0x0, " ", 0x0, "S"
	DCB	0x0, "l", 0x0, "o", 0x0, "t", 0x0, "1", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'
; Function compile flags: /Odtp

  0037c			 AREA	 |.text|, CODE, ARM

  0037c		 |?TurnCardPowerOn@CSDIOController@@MAAXXZ| PROC ; CSDIOController::TurnCardPowerOn

; 81   : {

  0037c		 |$LN15@TurnCardPo|
  0037c	e1a0c00d	 mov         r12, sp
  00380	e92d0001	 stmdb       sp!, {r0}
  00384	e92d5000	 stmdb       sp!, {r12, lr}
  00388	e24dd014	 sub         sp, sp, #0x14
  0038c		 |$M41108|

; 82   :     if (m_Menelaus.get_Slot1State())

  0038c	e59d301c	 ldr         r3, [sp, #0x1C]
  00390	e28330b0	 add         r3, r3, #0xB0
  00394	e5930000	 ldr         r0, [r3]
  00398	eb000000	 bl          |?get_Slot1State@CMenelaus@@QBAHXZ|
  0039c	e58d0000	 str         r0, [sp]
  003a0	e59d3000	 ldr         r3, [sp]
  003a4	e3530000	 cmp         r3, #0
  003a8	0a00000f	 beq         |$LN4@TurnCardPo|

; 83   :     {
; 84   :         DEBUGMSG(SDCARD_ZONE_INFO, (L"CSDIOController::TurnCardPowerOn: "
; 85   :             L"TurnCardPowerOn & Select- Slot1\r\n"));

  003ac	e59f30d4	 ldr         r3, [pc, #0xD4]
  003b0	e5933440	 ldr         r3, [r3, #0x440]
  003b4	e3130a01	 tst         r3, #1, 20
  003b8	0a000004	 beq         |$LN7@TurnCardPo|
  003bc	e59f00cc	 ldr         r0, [pc, #0xCC]
  003c0	eb000000	 bl          NKDbgPrintfW
  003c4	e3a03001	 mov         r3, #1
  003c8	e58d3004	 str         r3, [sp, #4]
  003cc	ea000001	 b           |$LN8@TurnCardPo|
  003d0		 |$LN7@TurnCardPo|
  003d0	e3a03000	 mov         r3, #0
  003d4	e58d3004	 str         r3, [sp, #4]
  003d8		 |$LN8@TurnCardPo|

; 86   :         m_Menelaus.HandleSlot1Insert();

  003d8	e59d301c	 ldr         r3, [sp, #0x1C]
  003dc	e28330b0	 add         r3, r3, #0xB0
  003e0	e5930000	 ldr         r0, [r3]
  003e4	eb000000	 bl          |?HandleSlot1Insert@CMenelaus@@QAAHXZ|
  003e8	ea000022	 b           |$LN3@TurnCardPo|
  003ec		 |$LN4@TurnCardPo|

; 87   :     } 
; 88   :     else if (m_Menelaus.get_Slot2State())

  003ec	e59d301c	 ldr         r3, [sp, #0x1C]
  003f0	e28330b0	 add         r3, r3, #0xB0
  003f4	e5930000	 ldr         r0, [r3]
  003f8	eb000000	 bl          |?get_Slot2State@CMenelaus@@QBAHXZ|
  003fc	e58d0008	 str         r0, [sp, #8]
  00400	e59d3008	 ldr         r3, [sp, #8]
  00404	e3530000	 cmp         r3, #0
  00408	0a00000f	 beq         |$LN2@TurnCardPo|

; 89   :     {
; 90   :         DEBUGMSG(SDCARD_ZONE_INFO, (L"CSDIOController::TurnCardPowerOn: "
; 91   :             L"Select - Slot2\r\n"));

  0040c	e59f3074	 ldr         r3, [pc, #0x74]
  00410	e5933440	 ldr         r3, [r3, #0x440]
  00414	e3130a01	 tst         r3, #1, 20
  00418	0a000004	 beq         |$LN9@TurnCardPo|
  0041c	e59f0068	 ldr         r0, [pc, #0x68]
  00420	eb000000	 bl          NKDbgPrintfW
  00424	e3a03001	 mov         r3, #1
  00428	e58d300c	 str         r3, [sp, #0xC]
  0042c	ea000001	 b           |$LN10@TurnCardPo|
  00430		 |$LN9@TurnCardPo|
  00430	e3a03000	 mov         r3, #0
  00434	e58d300c	 str         r3, [sp, #0xC]
  00438		 |$LN10@TurnCardPo|

; 92   :         m_Menelaus.HandleSlot2Insert();

  00438	e59d301c	 ldr         r3, [sp, #0x1C]
  0043c	e28330b0	 add         r3, r3, #0xB0
  00440	e5930000	 ldr         r0, [r3]
  00444	eb000000	 bl          |?HandleSlot2Insert@CMenelaus@@QAAHXZ|

; 93   :     }
; 94   :     else

  00448	ea00000a	 b           |$LN1@TurnCardPo|
  0044c		 |$LN2@TurnCardPo|

; 95   :     {
; 96   :         DEBUGMSG(SDCARD_ZONE_INFO, (L"CSDIOController::TurnCardPowerOn: "
; 97   :             L"TurnCardPowerOn - Slot ? \r\n"));

  0044c	e59f3034	 ldr         r3, [pc, #0x34]
  00450	e5933440	 ldr         r3, [r3, #0x440]
  00454	e3130a01	 tst         r3, #1, 20
  00458	0a000004	 beq         |$LN11@TurnCardPo|
  0045c	e59f0020	 ldr         r0, [pc, #0x20]
  00460	eb000000	 bl          NKDbgPrintfW
  00464	e3a03001	 mov         r3, #1
  00468	e58d3010	 str         r3, [sp, #0x10]
  0046c	ea000001	 b           |$LN12@TurnCardPo|
  00470		 |$LN11@TurnCardPo|
  00470	e3a03000	 mov         r3, #0
  00474	e58d3010	 str         r3, [sp, #0x10]
  00478		 |$LN12@TurnCardPo|
  00478		 |$LN1@TurnCardPo|
  00478		 |$LN3@TurnCardPo|

; 98   :     }
; 99   :         
; 100  : 
; 101  : }

  00478	e28dd014	 add         sp, sp, #0x14
  0047c	e89d6000	 ldmia       sp, {sp, lr}
  00480	e12fff1e	 bx          lr
  00484		 |$LN16@TurnCardPo|
  00484		 |$LN17@TurnCardPo|
  00484	00000000	 DCD         |??_C@_1HM@CKHILJLA@?$AAC?$AAS?$AAD?$AAI?$AAO?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAl?$AAe?$AAr?$AA?3?$AA?3?$AAT?$AAu?$AAr?$AAn?$AAC?$AAa?$AAr?$AAd?$AAP?$AAo?$AAw?$AAe?$AAr?$AAO?$AAn@|
  00488		 |$LN18@TurnCardPo|
  00488	00000000	 DCD         |dpCurSettings|
  0048c		 |$LN19@TurnCardPo|
  0048c	00000000	 DCD         |??_C@_1GG@JGNEEKOA@?$AAC?$AAS?$AAD?$AAI?$AAO?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAl?$AAe?$AAr?$AA?3?$AA?3?$AAT?$AAu?$AAr?$AAn?$AAC?$AAa?$AAr?$AAd?$AAP?$AAo?$AAw?$AAe?$AAr?$AAO?$AAn@|
  00490		 |$LN20@TurnCardPo|
  00490	00000000	 DCD         |??_C@_1II@FNIPDNLC@?$AAC?$AAS?$AAD?$AAI?$AAO?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAl?$AAe?$AAr?$AA?3?$AA?3?$AAT?$AAu?$AAr?$AAn?$AAC?$AAa?$AAr?$AAd?$AAP?$AAo?$AAw?$AAe?$AAr?$AAO?$AAn@|
  00494		 |$M41109|

			 ENDP  ; |?TurnCardPowerOn@CSDIOController@@MAAXXZ|, CSDIOController::TurnCardPowerOn

	EXPORT	|??_C@_1EK@GMAPOGAC@?$AA?$CL?$AAC?$AAS?$AAD?$AAI?$AAO?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAl?$AAe?$AAr?$AA?3?$AA?3?$AAT?$AAu?$AAr?$AAn?$AAC?$AAa?$AAr?$AAd?$AAP?$AAo?$AAw?$AAe?$AAr?$AAO@| [ DATA ] ; `string'
	IMPORT	|?SlotsEnabled@CMenelaus@@QAAHXZ|	; CMenelaus::SlotsEnabled

  00028			 AREA	 |.pdata|, PDATA
|$T41123| DCD	|$LN7@TurnCardPo@2|
	DCD	0x40001804

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EK@GMAPOGAC@?$AA?$CL?$AAC?$AAS?$AAD?$AAI?$AAO?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAl?$AAe?$AAr?$AA?3?$AA?3?$AAT?$AAu?$AAr?$AAn?$AAC?$AAa?$AAr?$AAd?$AAP?$AAo?$AAw?$AAe?$AAr?$AAO@| DCB "+"
	DCB	0x0, "C", 0x0, "S", 0x0, "D", 0x0, "I", 0x0, "O", 0x0, "C"
	DCB	0x0, "o", 0x0, "n", 0x0, "t", 0x0, "r", 0x0, "o", 0x0, "l"
	DCB	0x0, "l", 0x0, "e", 0x0, "r", 0x0, ":", 0x0, ":", 0x0, "T"
	DCB	0x0, "u", 0x0, "r", 0x0, "n", 0x0, "C", 0x0, "a", 0x0, "r"
	DCB	0x0, "d", 0x0, "P", 0x0, "o", 0x0, "w", 0x0, "e", 0x0, "r"
	DCB	0x0, "O", 0x0, "f", 0x0, "f", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'
; Function compile flags: /Odtp

  00494			 AREA	 |.text|, CODE, ARM

  00494		 |?TurnCardPowerOff@CSDIOController@@MAAXXZ| PROC ; CSDIOController::TurnCardPowerOff

; 104  : {

  00494		 |$LN7@TurnCardPo@2|
  00494	e1a0c00d	 mov         r12, sp
  00498	e92d0001	 stmdb       sp!, {r0}
  0049c	e92d5000	 stmdb       sp!, {r12, lr}
  004a0	e24dd004	 sub         sp, sp, #4
  004a4		 |$M41120|

; 105  :     DEBUGMSG(SDCARD_ZONE_FUNC, (L"+CSDIOController::TurnCardPowerOff\r\n"));

  004a4	e59f3044	 ldr         r3, [pc, #0x44]
  004a8	e5933440	 ldr         r3, [r3, #0x440]
  004ac	e3130b02	 tst         r3, #2, 22
  004b0	0a000004	 beq         |$LN3@TurnCardPo@2|
  004b4	e59f0030	 ldr         r0, [pc, #0x30]
  004b8	eb000000	 bl          NKDbgPrintfW
  004bc	e3a03001	 mov         r3, #1
  004c0	e58d3000	 str         r3, [sp]
  004c4	ea000001	 b           |$LN4@TurnCardPo@2|
  004c8		 |$LN3@TurnCardPo@2|
  004c8	e3a03000	 mov         r3, #0
  004cc	e58d3000	 str         r3, [sp]
  004d0		 |$LN4@TurnCardPo@2|

; 106  :     m_Menelaus.SlotsEnabled();      

  004d0	e59d300c	 ldr         r3, [sp, #0xC]
  004d4	e28330b0	 add         r3, r3, #0xB0
  004d8	e5930000	 ldr         r0, [r3]
  004dc	eb000000	 bl          |?SlotsEnabled@CMenelaus@@QAAHXZ|

; 107  : }

  004e0	e28dd004	 add         sp, sp, #4
  004e4	e89d6000	 ldmia       sp, {sp, lr}
  004e8	e12fff1e	 bx          lr
  004ec		 |$LN8@TurnCardPo@2|
  004ec		 |$LN9@TurnCardPo@2|
  004ec	00000000	 DCD         |??_C@_1EK@GMAPOGAC@?$AA?$CL?$AAC?$AAS?$AAD?$AAI?$AAO?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAl?$AAe?$AAr?$AA?3?$AA?3?$AAT?$AAu?$AAr?$AAn?$AAC?$AAa?$AAr?$AAd?$AAP?$AAo?$AAw?$AAe?$AAr?$AAO@|
  004f0		 |$LN10@TurnCardPo@2|
  004f0	00000000	 DCD         |dpCurSettings|
  004f4		 |$M41121|

			 ENDP  ; |?TurnCardPowerOff@CSDIOController@@MAAXXZ|, CSDIOController::TurnCardPowerOff

	EXPORT	|??_C@_1IK@HKAEBEGF@?$AAC?$AAS?$AAD?$AAI?$AAO?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAl?$AAe?$AAr?$AA?3?$AA?3?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AAH?$AAa?$AAr?$AAd?$AAw@| [ DATA ] ; `string'
	EXPORT	|??_C@_1IK@HNGGBNAM@?$AAC?$AAS?$AAD?$AAI?$AAO?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAl?$AAe?$AAr?$AA?3?$AA?3?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AAH?$AAa?$AAr?$AAd?$AAw@| [ DATA ] ; `string'
	IMPORT	|Sleep|
	IMPORT	|MmMapIoSpace|
	IMPORT	|?MenelausInit@CMenelaus@@QAAHXZ|	; CMenelaus::MenelausInit

  00030			 AREA	 |.pdata|, PDATA
|$T41136| DCD	|$LN11@Initialize|
	DCD	0x40005704

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1IK@HKAEBEGF@?$AAC?$AAS?$AAD?$AAI?$AAO?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAl?$AAe?$AAr?$AA?3?$AA?3?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AAH?$AAa?$AAr?$AAd?$AAw@| DCB "C"
	DCB	0x0, "S", 0x0, "D", 0x0, "I", 0x0, "O", 0x0, "C", 0x0, "o"
	DCB	0x0, "n", 0x0, "t", 0x0, "r", 0x0, "o", 0x0, "l", 0x0, "l"
	DCB	0x0, "e", 0x0, "r", 0x0, ":", 0x0, ":", 0x0, "I", 0x0, "n"
	DCB	0x0, "i", 0x0, "t", 0x0, "i", 0x0, "a", 0x0, "l", 0x0, "i"
	DCB	0x0, "z", 0x0, "e", 0x0, "H", 0x0, "a", 0x0, "r", 0x0, "d"
	DCB	0x0, "w", 0x0, "a", 0x0, "r", 0x0, "e", 0x0, ":", 0x0, " "
	DCB	0x0, "F", 0x0, "a", 0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d"
	DCB	0x0, " ", 0x0, "t", 0x0, "o", 0x0, " ", 0x0, "m", 0x0, "a"
	DCB	0x0, "p", 0x0, " ", 0x0, "G", 0x0, "P", 0x0, "I", 0x0, "O"
	DCB	0x0, "4", 0x0, " ", 0x0, "r", 0x0, "e", 0x0, "g", 0x0, "i"
	DCB	0x0, "s", 0x0, "t", 0x0, "e", 0x0, "r", 0x0, "s", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1IK@HNGGBNAM@?$AAC?$AAS?$AAD?$AAI?$AAO?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAl?$AAe?$AAr?$AA?3?$AA?3?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AAH?$AAa?$AAr?$AAd?$AAw@| DCB "C"
	DCB	0x0, "S", 0x0, "D", 0x0, "I", 0x0, "O", 0x0, "C", 0x0, "o"
	DCB	0x0, "n", 0x0, "t", 0x0, "r", 0x0, "o", 0x0, "l", 0x0, "l"
	DCB	0x0, "e", 0x0, "r", 0x0, ":", 0x0, ":", 0x0, "I", 0x0, "n"
	DCB	0x0, "i", 0x0, "t", 0x0, "i", 0x0, "a", 0x0, "l", 0x0, "i"
	DCB	0x0, "z", 0x0, "e", 0x0, "H", 0x0, "a", 0x0, "r", 0x0, "d"
	DCB	0x0, "w", 0x0, "a", 0x0, "r", 0x0, "e", 0x0, ":", 0x0, " "
	DCB	0x0, "F", 0x0, "a", 0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d"
	DCB	0x0, " ", 0x0, "t", 0x0, "o", 0x0, " ", 0x0, "m", 0x0, "a"
	DCB	0x0, "p", 0x0, " ", 0x0, "G", 0x0, "P", 0x0, "I", 0x0, "O"
	DCB	0x0, "1", 0x0, " ", 0x0, "r", 0x0, "e", 0x0, "g", 0x0, "i"
	DCB	0x0, "s", 0x0, "t", 0x0, "e", 0x0, "r", 0x0, "s", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'
; Function compile flags: /Odtp

  004f4			 AREA	 |.text|, CODE, ARM

  004f4		 |?InitializeHardware@CSDIOController@@MAAHXZ| PROC ; CSDIOController::InitializeHardware

; 110  : {

  004f4		 |$LN11@Initialize|
  004f4	e1a0c00d	 mov         r12, sp
  004f8	e92d0001	 stmdb       sp!, {r0}
  004fc	e92d5000	 stmdb       sp!, {r12, lr}
  00500	e24dd01c	 sub         sp, sp, #0x1C
  00504		 |$M41133|

; 111  :     PHYSICAL_ADDRESS pa;
; 112  : 
; 113  :     m_Menelaus.MenelausInit();

  00504	e59d3024	 ldr         r3, [sp, #0x24]
  00508	e28330b0	 add         r3, r3, #0xB0
  0050c	e5930000	 ldr         r0, [r3]
  00510	eb000000	 bl          |?MenelausInit@CMenelaus@@QAAHXZ|

; 114  : 
; 115  : 
; 116  :     // map gpio memory space
; 117  :     pa.QuadPart = OMAP2420_GPIO1_REGS_PA;

  00514	e3a03312	 mov         r3, #0x12, 6
  00518	e3833906	 orr         r3, r3, #6, 18
  0051c	e58d3000	 str         r3, [sp]
  00520	e3a03000	 mov         r3, #0
  00524	e58d3004	 str         r3, [sp, #4]

; 118  :     m_pGPIO1Regs = (OMAP2420_GPIO_REGS *) MmMapIoSpace(pa, sizeof(OMAP2420_GPIO_REGS), FALSE);

  00528	e3a03000	 mov         r3, #0
  0052c	e3a02098	 mov         r2, #0x98
  00530	e59d0000	 ldr         r0, [sp]
  00534	e59d1004	 ldr         r1, [sp, #4]
  00538	eb000000	 bl          MmMapIoSpace
  0053c	e58d000c	 str         r0, [sp, #0xC]
  00540	e59d3024	 ldr         r3, [sp, #0x24]
  00544	e28320a8	 add         r2, r3, #0xA8
  00548	e59d300c	 ldr         r3, [sp, #0xC]
  0054c	e5823000	 str         r3, [r2]

; 119  :     if (m_pGPIO1Regs == NULL)

  00550	e59d3024	 ldr         r3, [sp, #0x24]
  00554	e28330a8	 add         r3, r3, #0xA8
  00558	e5933000	 ldr         r3, [r3]
  0055c	e3530000	 cmp         r3, #0
  00560	1a00000d	 bne         |$LN2@Initialize|

; 120  :     {
; 121  :         DEBUGMSG(SDCARD_ZONE_ERROR, (L"CSDIOController::InitializeHardware: "
; 122  :             L"Failed to map GPIO1 registers\r\n"
; 123  :         ));

  00564	e59f30dc	 ldr         r3, [pc, #0xDC]
  00568	e5933440	 ldr         r3, [r3, #0x440]
  0056c	e3130902	 tst         r3, #2, 18
  00570	0a000004	 beq         |$LN5@Initialize|
  00574	e59f00d0	 ldr         r0, [pc, #0xD0]
  00578	eb000000	 bl          NKDbgPrintfW
  0057c	e3a03001	 mov         r3, #1
  00580	e58d3010	 str         r3, [sp, #0x10]
  00584	ea000001	 b           |$LN6@Initialize|
  00588		 |$LN5@Initialize|
  00588	e3a03000	 mov         r3, #0
  0058c	e58d3010	 str         r3, [sp, #0x10]
  00590		 |$LN6@Initialize|

; 124  :         return FALSE;

  00590	e3a03000	 mov         r3, #0
  00594	e58d3008	 str         r3, [sp, #8]
  00598	ea000025	 b           |$LN3@Initialize|
  0059c		 |$LN2@Initialize|

; 125  :     }
; 126  : 
; 127  :     pa.QuadPart = OMAP2420_GPIO4_REGS_PA;

  0059c	e3a03312	 mov         r3, #0x12, 6
  005a0	e3833a1e	 orr         r3, r3, #0x1E, 20
  005a4	e58d3000	 str         r3, [sp]
  005a8	e3a03000	 mov         r3, #0
  005ac	e58d3004	 str         r3, [sp, #4]

; 128  :     m_pGPIO4Regs = (OMAP2420_GPIO_REGS *) MmMapIoSpace(pa, sizeof(OMAP2420_GPIO_REGS), FALSE);

  005b0	e3a03000	 mov         r3, #0
  005b4	e3a02098	 mov         r2, #0x98
  005b8	e59d0000	 ldr         r0, [sp]
  005bc	e59d1004	 ldr         r1, [sp, #4]
  005c0	eb000000	 bl          MmMapIoSpace
  005c4	e58d0014	 str         r0, [sp, #0x14]
  005c8	e59d3024	 ldr         r3, [sp, #0x24]
  005cc	e28320ac	 add         r2, r3, #0xAC
  005d0	e59d3014	 ldr         r3, [sp, #0x14]
  005d4	e5823000	 str         r3, [r2]

; 129  :     if (m_pGPIO4Regs == NULL)

  005d8	e59d3024	 ldr         r3, [sp, #0x24]
  005dc	e28330ac	 add         r3, r3, #0xAC
  005e0	e5933000	 ldr         r3, [r3]
  005e4	e3530000	 cmp         r3, #0
  005e8	1a00000d	 bne         |$LN1@Initialize|

; 130  :     {
; 131  :         DEBUGMSG(SDCARD_ZONE_ERROR, (L"CSDIOController::InitializeHardware: "
; 132  :             L"Failed to map GPIO4 registers\r\n"
; 133  :         ));

  005ec	e59f3054	 ldr         r3, [pc, #0x54]
  005f0	e5933440	 ldr         r3, [r3, #0x440]
  005f4	e3130902	 tst         r3, #2, 18
  005f8	0a000004	 beq         |$LN7@Initialize|
  005fc	e59f0040	 ldr         r0, [pc, #0x40]
  00600	eb000000	 bl          NKDbgPrintfW
  00604	e3a03001	 mov         r3, #1
  00608	e58d3018	 str         r3, [sp, #0x18]
  0060c	ea000001	 b           |$LN8@Initialize|
  00610		 |$LN7@Initialize|
  00610	e3a03000	 mov         r3, #0
  00614	e58d3018	 str         r3, [sp, #0x18]
  00618		 |$LN8@Initialize|

; 134  :         return FALSE;

  00618	e3a03000	 mov         r3, #0
  0061c	e58d3008	 str         r3, [sp, #8]
  00620	ea000003	 b           |$LN3@Initialize|
  00624		 |$LN1@Initialize|

; 135  :     }
; 136  : 
; 137  : 
; 138  :     Sleep(1000);

  00624	e3a00ffa	 mov         r0, #0xFA, 30
  00628	eb000000	 bl          Sleep

; 139  :     return TRUE;

  0062c	e3a03001	 mov         r3, #1
  00630	e58d3008	 str         r3, [sp, #8]
  00634		 |$LN3@Initialize|

; 140  : }

  00634	e59d0008	 ldr         r0, [sp, #8]
  00638	e28dd01c	 add         sp, sp, #0x1C
  0063c	e89d6000	 ldmia       sp, {sp, lr}
  00640	e12fff1e	 bx          lr
  00644		 |$LN12@Initialize|
  00644		 |$LN13@Initialize|
  00644	00000000	 DCD         |??_C@_1IK@HKAEBEGF@?$AAC?$AAS?$AAD?$AAI?$AAO?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAl?$AAe?$AAr?$AA?3?$AA?3?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AAH?$AAa?$AAr?$AAd?$AAw@|
  00648		 |$LN14@Initialize|
  00648	00000000	 DCD         |dpCurSettings|
  0064c		 |$LN15@Initialize|
  0064c	00000000	 DCD         |??_C@_1IK@HNGGBNAM@?$AAC?$AAS?$AAD?$AAI?$AAO?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AAl?$AAe?$AAr?$AA?3?$AA?3?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AAH?$AAa?$AAr?$AAd?$AAw@|
  00650		 |$M41134|

			 ENDP  ; |?InitializeHardware@CSDIOController@@MAAHXZ|, CSDIOController::InitializeHardware

	IMPORT	|MmUnmapIoSpace|
	IMPORT	|?MenelausDeinit@CMenelaus@@QAAHXZ|	; CMenelaus::MenelausDeinit

  00038			 AREA	 |.pdata|, PDATA
|$T41145| DCD	|$LN5@Deinitiali|
	DCD	0x40001303
; Function compile flags: /Odtp

  00650			 AREA	 |.text|, CODE, ARM

  00650		 |?DeinitializeHardware@CSDIOController@@MAAXXZ| PROC ; CSDIOController::DeinitializeHardware

; 143  : {

  00650		 |$LN5@Deinitiali|
  00650	e1a0c00d	 mov         r12, sp
  00654	e92d0001	 stmdb       sp!, {r0}
  00658	e92d5000	 stmdb       sp!, {r12, lr}
  0065c		 |$M41142|

; 144  :     m_Menelaus.MenelausDeinit();

  0065c	e59d3008	 ldr         r3, [sp, #8]
  00660	e28330b0	 add         r3, r3, #0xB0
  00664	e5930000	 ldr         r0, [r3]
  00668	eb000000	 bl          |?MenelausDeinit@CMenelaus@@QAAHXZ|

; 145  : 
; 146  :     MmUnmapIoSpace((VOID*)m_pGPIO1Regs, sizeof(OMAP2420_GPIO_REGS));

  0066c	e3a01098	 mov         r1, #0x98
  00670	e59d3008	 ldr         r3, [sp, #8]
  00674	e28330a8	 add         r3, r3, #0xA8
  00678	e5930000	 ldr         r0, [r3]
  0067c	eb000000	 bl          MmUnmapIoSpace

; 147  :     MmUnmapIoSpace((VOID*)m_pGPIO4Regs, sizeof(OMAP2420_GPIO_REGS));

  00680	e3a01098	 mov         r1, #0x98
  00684	e59d3008	 ldr         r3, [sp, #8]
  00688	e28330ac	 add         r3, r3, #0xAC
  0068c	e5930000	 ldr         r0, [r3]
  00690	eb000000	 bl          MmUnmapIoSpace

; 148  : }

  00694	e89d6000	 ldmia       sp, {sp, lr}
  00698	e12fff1e	 bx          lr
  0069c		 |$M41143|

			 ENDP  ; |?DeinitializeHardware@CSDIOController@@MAAXXZ|, CSDIOController::DeinitializeHardware

	EXPORT	|??_C@_1FE@LIEKDEAC@?$AAS?$AAD?$AAH?$AAC?$AAC?$AAa?$AAr?$AAd?$AAD?$AAe?$AAt?$AAe?$AAc?$AAt?$AAI?$AAs?$AAt?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?3?$AA?5?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?5@| [ DATA ] ; `string'
	EXPORT	|??_C@_1IO@KMEAPGKD@?$AAS?$AAD?$AAH?$AAC?$AAa?$AAr?$AAd?$AAD?$AAe?$AAt?$AAe?$AAc?$AAt?$AAI?$AAs?$AAt?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?3?$AA?5?$AAc?$AAa?$AAl?$AAl?$AAi?$AAn?$AAg?$AA?5@| [ DATA ] ; `string'
	EXPORT	|SetEvent|
	EXPORT	|??_C@_1IG@EMLIONGD@?$AAS?$AAD?$AAH?$AAC?$AAC?$AAa?$AAr?$AAd?$AAD?$AAe?$AAt?$AAe?$AAc?$AAt?$AAI?$AAs?$AAt?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?3?$AA?5?$AAw?$AAa?$AAr?$AAn?$AAi?$AAn?$AAg@| [ DATA ] ; `string'
	EXPORT	|GetCurrentThread|
	IMPORT	|?AckInterrupts@CMenelaus@@QAAHXZ|	; CMenelaus::AckInterrupts
	IMPORT	|?HandleCardDetectInterrupt@CSDIOControllerBase@@QAAXXZ| ; CSDIOControllerBase::HandleCardDetectInterrupt
	IMPORT	|?UpdateSlotsState@CMenelaus@@QAAHXZ|	; CMenelaus::UpdateSlotsState
	IMPORT	|WaitForSingleObject|
	IMPORT	|CeSetThreadPriority|

  00040			 AREA	 |.pdata|, PDATA
|$T41158| DCD	|$LN17@SDHCCardDe|
	DCD	0x40006504

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FE@LIEKDEAC@?$AAS?$AAD?$AAH?$AAC?$AAC?$AAa?$AAr?$AAd?$AAD?$AAe?$AAt?$AAe?$AAc?$AAt?$AAI?$AAs?$AAt?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?3?$AA?5?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?5@| DCB "S"
	DCB	0x0, "D", 0x0, "H", 0x0, "C", 0x0, "C", 0x0, "a", 0x0, "r"
	DCB	0x0, "d", 0x0, "D", 0x0, "e", 0x0, "t", 0x0, "e", 0x0, "c"
	DCB	0x0, "t", 0x0, "I", 0x0, "s", 0x0, "t", 0x0, "T", 0x0, "h"
	DCB	0x0, "r", 0x0, "e", 0x0, "a", 0x0, "d", 0x0, ":", 0x0, " "
	DCB	0x0, "T", 0x0, "h", 0x0, "r", 0x0, "e", 0x0, "a", 0x0, "d"
	DCB	0x0, " ", 0x0, "E", 0x0, "x", 0x0, "i", 0x0, "t", 0x0, "i"
	DCB	0x0, "n", 0x0, "g", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1IO@KMEAPGKD@?$AAS?$AAD?$AAH?$AAC?$AAa?$AAr?$AAd?$AAD?$AAe?$AAt?$AAe?$AAc?$AAt?$AAI?$AAs?$AAt?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?3?$AA?5?$AAc?$AAa?$AAl?$AAl?$AAi?$AAn?$AAg?$AA?5@| DCB "S"
	DCB	0x0, "D", 0x0, "H", 0x0, "C", 0x0, "a", 0x0, "r", 0x0, "d"
	DCB	0x0, "D", 0x0, "e", 0x0, "t", 0x0, "e", 0x0, "c", 0x0, "t"
	DCB	0x0, "I", 0x0, "s", 0x0, "t", 0x0, "T", 0x0, "h", 0x0, "r"
	DCB	0x0, "e", 0x0, "a", 0x0, "d", 0x0, ":", 0x0, " ", 0x0, "c"
	DCB	0x0, "a", 0x0, "l", 0x0, "l", 0x0, "i", 0x0, "n", 0x0, "g"
	DCB	0x0, " ", 0x0, "C", 0x0, "S", 0x0, "D", 0x0, "H", 0x0, "C"
	DCB	0x0, "S", 0x0, "l", 0x0, "o", 0x0, "t", 0x0, ":", 0x0, ":"
	DCB	0x0, "H", 0x0, "a", 0x0, "n", 0x0, "d", 0x0, "l", 0x0, "e"
	DCB	0x0, "C", 0x0, "a", 0x0, "r", 0x0, "d", 0x0, "D", 0x0, "e"
	DCB	0x0, "t", 0x0, "e", 0x0, "c", 0x0, "t", 0x0, "I", 0x0, "n"
	DCB	0x0, "t", 0x0, "e", 0x0, "r", 0x0, "r", 0x0, "u", 0x0, "p"
	DCB	0x0, "t", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1IG@EMLIONGD@?$AAS?$AAD?$AAH?$AAC?$AAC?$AAa?$AAr?$AAd?$AAD?$AAe?$AAt?$AAe?$AAc?$AAt?$AAI?$AAs?$AAt?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?3?$AA?5?$AAw?$AAa?$AAr?$AAn?$AAi?$AAn?$AAg@| DCB "S"
	DCB	0x0, "D", 0x0, "H", 0x0, "C", 0x0, "C", 0x0, "a", 0x0, "r"
	DCB	0x0, "d", 0x0, "D", 0x0, "e", 0x0, "t", 0x0, "e", 0x0, "c"
	DCB	0x0, "t", 0x0, "I", 0x0, "s", 0x0, "t", 0x0, "T", 0x0, "h"
	DCB	0x0, "r", 0x0, "e", 0x0, "a", 0x0, "d", 0x0, ":", 0x0, " "
	DCB	0x0, "w", 0x0, "a", 0x0, "r", 0x0, "n", 0x0, "i", 0x0, "n"
	DCB	0x0, "g", 0x0, ",", 0x0, " ", 0x0, "f", 0x0, "a", 0x0, "i"
	DCB	0x0, "l", 0x0, "e", 0x0, "d", 0x0, " ", 0x0, "t", 0x0, "o"
	DCB	0x0, " ", 0x0, "s", 0x0, "e", 0x0, "t", 0x0, " ", 0x0, "C"
	DCB	0x0, "E", 0x0, "T", 0x0, "h", 0x0, "r", 0x0, "e", 0x0, "a"
	DCB	0x0, "d", 0x0, "P", 0x0, "r", 0x0, "i", 0x0, "o", 0x0, "r"
	DCB	0x0, "i", 0x0, "t", 0x0, "y", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'
; Function compile flags: /Odtp

  0069c			 AREA	 |.text|, CODE, ARM

  0069c		 |?SDHCCardDetectIstThreadImpl@CSDIOController@@MAAKXZ| PROC ; CSDIOController::SDHCCardDetectIstThreadImpl

; 164  : {

  0069c		 |$LN17@SDHCCardDe|
  0069c	e1a0c00d	 mov         r12, sp
  006a0	e92d0001	 stmdb       sp!, {r0}
  006a4	e92d5000	 stmdb       sp!, {r12, lr}
  006a8	e24dd024	 sub         sp, sp, #0x24
  006ac		 |$M41155|

; 165  :     DWORD  dwWaitStatus = WAIT_TIMEOUT;     // wait status

  006ac	e3a03c01	 mov         r3, #1, 24
  006b0	e3833002	 orr         r3, r3, #2
  006b4	e58d3000	 str         r3, [sp]

; 166  :     DWORD dwWaitTime    = 10000;            // INFINITE;

  006b8	e3a03c27	 mov         r3, #0x27, 24
  006bc	e3833010	 orr         r3, r3, #0x10
  006c0	e58d3004	 str         r3, [sp, #4]

; 167  : 
; 168  :     if (!CeSetThreadPriority(GetCurrentThread(), m_dwCDPriority )) {

  006c4	eb000000	 bl          GetCurrentThread
  006c8	e58d000c	 str         r0, [sp, #0xC]
  006cc	e59d302c	 ldr         r3, [sp, #0x2C]
  006d0	e283305c	 add         r3, r3, #0x5C
  006d4	e5931000	 ldr         r1, [r3]
  006d8	e59d000c	 ldr         r0, [sp, #0xC]
  006dc	eb000000	 bl          CeSetThreadPriority
  006e0	e58d0010	 str         r0, [sp, #0x10]
  006e4	e59d3010	 ldr         r3, [sp, #0x10]
  006e8	e3530000	 cmp         r3, #0
  006ec	1a00000a	 bne         |$LN5@SDHCCardDe|

; 169  :         DEBUGMSG(SDCARD_ZONE_WARN, (L"SDHCCardDetectIstThread: warning, failed to set CEThreadPriority\r\n"));

  006f0	e59f312c	 ldr         r3, [pc, #0x12C]
  006f4	e5933440	 ldr         r3, [r3, #0x440]
  006f8	e3130901	 tst         r3, #1, 18
  006fc	0a000004	 beq         |$LN8@SDHCCardDe|
  00700	e59f0124	 ldr         r0, [pc, #0x124]
  00704	eb000000	 bl          NKDbgPrintfW
  00708	e3a03001	 mov         r3, #1
  0070c	e58d3014	 str         r3, [sp, #0x14]
  00710	ea000001	 b           |$LN9@SDHCCardDe|
  00714		 |$LN8@SDHCCardDe|
  00714	e3a03000	 mov         r3, #0
  00718	e58d3014	 str         r3, [sp, #0x14]
  0071c		 |$LN9@SDHCCardDe|
  0071c		 |$LN5@SDHCCardDe|

; 170  :     }
; 171  : 
; 172  :     // check for the card already inserted when the driver is loaded
; 173  :     SetEvent( m_hCardDetectEvent );

  0071c	e59d302c	 ldr         r3, [sp, #0x2C]
  00720	e2833050	 add         r3, r3, #0x50
  00724	e5930000	 ldr         r0, [r3]
  00728	eb000000	 bl          SetEvent
  0072c		 |$LN14@SDHCCardDe|
  0072c		 |$LN4@SDHCCardDe|

; 174  :     
; 175  :     while (TRUE) {
; 176  :         dwWaitStatus = WaitForSingleObject(m_hCardDetectEvent, dwWaitTime);

  0072c	e59d1004	 ldr         r1, [sp, #4]
  00730	e59d302c	 ldr         r3, [sp, #0x2C]
  00734	e2833050	 add         r3, r3, #0x50
  00738	e5930000	 ldr         r0, [r3]
  0073c	eb000000	 bl          WaitForSingleObject
  00740	e58d0018	 str         r0, [sp, #0x18]
  00744	e59d3018	 ldr         r3, [sp, #0x18]
  00748	e58d3000	 str         r3, [sp]

; 177  :     
; 178  :         if (m_fDriverShutdown) {

  0074c	e59d302c	 ldr         r3, [sp, #0x2C]
  00750	e2833060	 add         r3, r3, #0x60
  00754	e5933000	 ldr         r3, [r3]
  00758	e3530000	 cmp         r3, #0
  0075c	0a000000	 beq         |$LN2@SDHCCardDe|

; 179  :             break;

  00760	ea00001d	 b           |$LN3@SDHCCardDe|
  00764		 |$LN2@SDHCCardDe|

; 180  :         }
; 181  : 
; 182  :         if( WAIT_TIMEOUT == dwWaitStatus )

  00764	e59d2000	 ldr         r2, [sp]
  00768	e3a03c01	 mov         r3, #1, 24
  0076c	e3833002	 orr         r3, r3, #2
  00770	e1520003	 cmp         r2, r3
  00774	1a000000	 bne         |$LN1@SDHCCardDe|

; 183  :         {
; 184  :             continue;

  00778	eaffffeb	 b           |$LN4@SDHCCardDe|
  0077c		 |$LN1@SDHCCardDe|

; 185  :         }
; 186  : 
; 187  :         // Delay to ensure the spurrious interrupts are done. 
; 188  :         Sleep( 250 );

  0077c	e3a000fa	 mov         r0, #0xFA
  00780	eb000000	 bl          Sleep

; 189  : 
; 190  :         DEBUGMSG(SDCARD_ZONE_INIT, (L"SDHCardDetectIstThread: calling CSDHCSlot::HandleCardDetectInterrupt\r\n"));

  00784	e59f3098	 ldr         r3, [pc, #0x98]
  00788	e5933440	 ldr         r3, [r3, #0x440]
  0078c	e3130a02	 tst         r3, #2, 20
  00790	0a000004	 beq         |$LN10@SDHCCardDe|
  00794	e59f008c	 ldr         r0, [pc, #0x8C]
  00798	eb000000	 bl          NKDbgPrintfW
  0079c	e3a03001	 mov         r3, #1
  007a0	e58d301c	 str         r3, [sp, #0x1C]
  007a4	ea000001	 b           |$LN11@SDHCCardDe|
  007a8		 |$LN10@SDHCCardDe|
  007a8	e3a03000	 mov         r3, #0
  007ac	e58d301c	 str         r3, [sp, #0x1C]
  007b0		 |$LN11@SDHCCardDe|

; 191  : 
; 192  :         m_Menelaus.UpdateSlotsState();

  007b0	e59d302c	 ldr         r3, [sp, #0x2C]
  007b4	e28330b0	 add         r3, r3, #0xB0
  007b8	e5930000	 ldr         r0, [r3]
  007bc	eb000000	 bl          |?UpdateSlotsState@CMenelaus@@QAAHXZ|

; 193  :     
; 194  :         HandleCardDetectInterrupt();

  007c0	e59d002c	 ldr         r0, [sp, #0x2C]
  007c4	eb000000	 bl          |?HandleCardDetectInterrupt@CSDIOControllerBase@@QAAXXZ|

; 195  : 
; 196  :         m_Menelaus.AckInterrupts();

  007c8	e59d302c	 ldr         r3, [sp, #0x2C]
  007cc	e28330b0	 add         r3, r3, #0xB0
  007d0	e5930000	 ldr         r0, [r3]
  007d4	eb000000	 bl          |?AckInterrupts@CMenelaus@@QAAHXZ|

; 197  : 
; 198  :     }

  007d8	eaffffd3	 b           |$LN14@SDHCCardDe|
  007dc		 |$LN3@SDHCCardDe|

; 199  : 
; 200  :     DEBUGMSG(SDCARD_ZONE_INIT, (L"SDHCCardDetectIstThread: Thread Exiting\r\n"));

  007dc	e59f3040	 ldr         r3, [pc, #0x40]
  007e0	e5933440	 ldr         r3, [r3, #0x440]
  007e4	e3130a02	 tst         r3, #2, 20
  007e8	0a000004	 beq         |$LN12@SDHCCardDe|
  007ec	e59f002c	 ldr         r0, [pc, #0x2C]
  007f0	eb000000	 bl          NKDbgPrintfW
  007f4	e3a03001	 mov         r3, #1
  007f8	e58d3020	 str         r3, [sp, #0x20]
  007fc	ea000001	 b           |$LN13@SDHCCardDe|
  00800		 |$LN12@SDHCCardDe|
  00800	e3a03000	 mov         r3, #0
  00804	e58d3020	 str         r3, [sp, #0x20]
  00808		 |$LN13@SDHCCardDe|

; 201  : 
; 202  :     return 0;

  00808	e3a03000	 mov         r3, #0
  0080c	e58d3008	 str         r3, [sp, #8]

; 203  : }

  00810	e59d0008	 ldr         r0, [sp, #8]
  00814	e28dd024	 add         sp, sp, #0x24
  00818	e89d6000	 ldmia       sp, {sp, lr}
  0081c	e12fff1e	 bx          lr
  00820		 |$LN18@SDHCCardDe|
  00820		 |$LN19@SDHCCardDe|
  00820	00000000	 DCD         |??_C@_1FE@LIEKDEAC@?$AAS?$AAD?$AAH?$AAC?$AAC?$AAa?$AAr?$AAd?$AAD?$AAe?$AAt?$AAe?$AAc?$AAt?$AAI?$AAs?$AAt?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?3?$AA?5?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?5@|
  00824		 |$LN20@SDHCCardDe|
  00824	00000000	 DCD         |dpCurSettings|
  00828		 |$LN21@SDHCCardDe|
  00828	00000000	 DCD         |??_C@_1IO@KMEAPGKD@?$AAS?$AAD?$AAH?$AAC?$AAa?$AAr?$AAd?$AAD?$AAe?$AAt?$AAe?$AAc?$AAt?$AAI?$AAs?$AAt?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?3?$AA?5?$AAc?$AAa?$AAl?$AAl?$AAi?$AAn?$AAg?$AA?5@|
  0082c		 |$LN22@SDHCCardDe|
  0082c	00000000	 DCD         |??_C@_1IG@EMLIONGD@?$AAS?$AAD?$AAH?$AAC?$AAC?$AAa?$AAr?$AAd?$AAD?$AAe?$AAt?$AAe?$AAc?$AAt?$AAI?$AAs?$AAt?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?3?$AA?5?$AAw?$AAa?$AAr?$AAn?$AAi?$AAn?$AAg@|
  00830		 |$M41156|

			 ENDP  ; |?SDHCCardDetectIstThreadImpl@CSDIOController@@MAAKXZ|, CSDIOController::SDHCCardDetectIstThreadImpl

	IMPORT	|EventModify|
; File c:\wince600\public\common\sdk\inc\kfuncs.h

  00000			 AREA	 |.pdata|, PDATA
|$T41169| DCD	|$LN5@SetEvent|
	DCD	0x40000e04
; Function compile flags: /Odtp

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |SetEvent| PROC

; 235  : _inline BOOL SetEvent(HANDLE h) {

  00000		 |$LN5@SetEvent|
  00000	e1a0c00d	 mov         r12, sp
  00004	e92d0001	 stmdb       sp!, {r0}
  00008	e92d5000	 stmdb       sp!, {r12, lr}
  0000c	e24dd008	 sub         sp, sp, #8
  00010		 |$M41166|

; 236  : 	return EventModify(h,EVENT_SET);

  00010	e3a01003	 mov         r1, #3
  00014	e59d0010	 ldr         r0, [sp, #0x10]
  00018	eb000000	 bl          EventModify
  0001c	e58d0004	 str         r0, [sp, #4]
  00020	e59d3004	 ldr         r3, [sp, #4]
  00024	e58d3000	 str         r3, [sp]

; 237  : }

  00028	e59d0000	 ldr         r0, [sp]
  0002c	e28dd008	 add         sp, sp, #8
  00030	e89d6000	 ldmia       sp, {sp, lr}
  00034	e12fff1e	 bx          lr
  00038		 |$M41167|

			 ENDP  ; |SetEvent|


  00000			 AREA	 |.pdata|, PDATA
|$T41177| DCD	|$LN5@GetCurrent|
	DCD	0x40000601
; Function compile flags: /Odtp

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |GetCurrentThread| PROC

; 351  : _inline HANDLE GetCurrentThread(void) {

  00000		 |$LN5@GetCurrent|
  00000	e24dd004	 sub         sp, sp, #4
  00004		 |$M41174|

; 352  : 	return ((HANDLE)(SH_CURTHREAD+SYS_HANDLE_BASE));

  00004	e3a03041	 mov         r3, #0x41
  00008	e58d3000	 str         r3, [sp]

; 353  : }

  0000c	e59d0000	 ldr         r0, [sp]
  00010	e28dd004	 add         sp, sp, #4
  00014	e12fff1e	 bx          lr
  00018		 |$M41175|

			 ENDP  ; |GetCurrentThread|

	EXPORT	|??_C@_1DA@KLIJNKLI@?$AAC?$AAa?$AAr?$AAd?$AAW?$AAr?$AAi?$AAt?$AAe?$AAP?$AAr?$AAo?$AAt?$AAe?$AAc?$AAt?$AAe?$AAd?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CO@HLDMFEC@?$AAC?$AAa?$AAr?$AAd?$AAR?$AAe?$AAa?$AAd?$AAW?$AAr?$AAi?$AAt?$AAe?$AAS?$AAl?$AAo?$AAt?$AA2?$AAG?$AAP?$AAI?$AAO?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|?ValueDW@CReg@@QAAKPBGK@Z|		; CReg::ValueDW
	EXPORT	|??_C@_1CO@HACNBHLC@?$AAC?$AAa?$AAr?$AAd?$AAR?$AAe?$AAa?$AAd?$AAW?$AAr?$AAi?$AAt?$AAe?$AAS?$AAl?$AAo?$AAt?$AA1?$AAG?$AAP?$AAI?$AAO?$AA?$AA@| [ DATA ] ; `string'
	IMPORT	|?GetRegistrySettings@CSDIOControllerBase@@UAAHPAVCReg@@@Z| ; CSDIOControllerBase::GetRegistrySettings

  00048			 AREA	 |.pdata|, PDATA
|$T41185| DCD	|$LN6@GetRegistr|
	DCD	0x40003204
; File c:\wince600\platform\common\src\soc\omap2420_ms_v1\sdhc\impl\sdcontroller.cpp

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DA@KLIJNKLI@?$AAC?$AAa?$AAr?$AAd?$AAW?$AAr?$AAi?$AAt?$AAe?$AAP?$AAr?$AAo?$AAt?$AAe?$AAc?$AAt?$AAe?$AAd?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?$AA@| DCB "C"
	DCB	0x0, "a", 0x0, "r", 0x0, "d", 0x0, "W", 0x0, "r", 0x0, "i"
	DCB	0x0, "t", 0x0, "e", 0x0, "P", 0x0, "r", 0x0, "o", 0x0, "t"
	DCB	0x0, "e", 0x0, "c", 0x0, "t", 0x0, "e", 0x0, "d", 0x0, "S"
	DCB	0x0, "t", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CO@HLDMFEC@?$AAC?$AAa?$AAr?$AAd?$AAR?$AAe?$AAa?$AAd?$AAW?$AAr?$AAi?$AAt?$AAe?$AAS?$AAl?$AAo?$AAt?$AA2?$AAG?$AAP?$AAI?$AAO?$AA?$AA@| DCB "C"
	DCB	0x0, "a", 0x0, "r", 0x0, "d", 0x0, "R", 0x0, "e", 0x0, "a"
	DCB	0x0, "d", 0x0, "W", 0x0, "r", 0x0, "i", 0x0, "t", 0x0, "e"
	DCB	0x0, "S", 0x0, "l", 0x0, "o", 0x0, "t", 0x0, "2", 0x0, "G"
	DCB	0x0, "P", 0x0, "I", 0x0, "O", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CO@HACNBHLC@?$AAC?$AAa?$AAr?$AAd?$AAR?$AAe?$AAa?$AAd?$AAW?$AAr?$AAi?$AAt?$AAe?$AAS?$AAl?$AAo?$AAt?$AA1?$AAG?$AAP?$AAI?$AAO?$AA?$AA@| DCB "C"
	DCB	0x0, "a", 0x0, "r", 0x0, "d", 0x0, "R", 0x0, "e", 0x0, "a"
	DCB	0x0, "d", 0x0, "W", 0x0, "r", 0x0, "i", 0x0, "t", 0x0, "e"
	DCB	0x0, "S", 0x0, "l", 0x0, "o", 0x0, "t", 0x0, "1", 0x0, "G"
	DCB	0x0, "P", 0x0, "I", 0x0, "O", 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Odtp

  00830			 AREA	 |.text|, CODE, ARM

  00830		 |?GetRegistrySettings@CSDIOController@@MAAHPAVCReg@@@Z| PROC ; CSDIOController::GetRegistrySettings

; 207  : {

  00830		 |$LN6@GetRegistr|
  00830	e1a0c00d	 mov         r12, sp
  00834	e92d0003	 stmdb       sp!, {r0, r1}
  00838	e92d5000	 stmdb       sp!, {r12, lr}
  0083c	e24dd014	 sub         sp, sp, #0x14
  00840		 |$M41182|

; 208  :     if( !CSDIOControllerBase::GetRegistrySettings( pReg ) )

  00840	e59d1020	 ldr         r1, [sp, #0x20]
  00844	e59d001c	 ldr         r0, [sp, #0x1C]
  00848	eb000000	 bl          |?GetRegistrySettings@CSDIOControllerBase@@UAAHPAVCReg@@@Z|
  0084c	e58d0004	 str         r0, [sp, #4]
  00850	e59d3004	 ldr         r3, [sp, #4]
  00854	e3530000	 cmp         r3, #0
  00858	1a000002	 bne         |$LN1@GetRegistr|

; 209  :     {
; 210  :         return FALSE;

  0085c	e3a03000	 mov         r3, #0
  00860	e58d3000	 str         r3, [sp]
  00864	ea00001c	 b           |$LN2@GetRegistr|
  00868		 |$LN1@GetRegistr|

; 211  :     }
; 212  :     
; 213  :     m_dwCardReadWriteSlot1GPIO = pReg->ValueDW(SHC_SLOT1_WRITEPROTECT_KEY, 1);

  00868	e3a02001	 mov         r2, #1
  0086c	e59f1080	 ldr         r1, [pc, #0x80]
  00870	e59d0020	 ldr         r0, [sp, #0x20]
  00874	eb000000	 bl          |?ValueDW@CReg@@QAAKPBGK@Z|
  00878	e58d0008	 str         r0, [sp, #8]
  0087c	e59d301c	 ldr         r3, [sp, #0x1C]
  00880	e283209c	 add         r2, r3, #0x9C
  00884	e59d3008	 ldr         r3, [sp, #8]
  00888	e5823000	 str         r3, [r2]

; 214  :     m_dwCardReadWriteSlot2GPIO = pReg->ValueDW(SHC_SLOT2_WRITEPROTECT_KEY, 96);

  0088c	e3a02060	 mov         r2, #0x60
  00890	e59f1058	 ldr         r1, [pc, #0x58]
  00894	e59d0020	 ldr         r0, [sp, #0x20]
  00898	eb000000	 bl          |?ValueDW@CReg@@QAAKPBGK@Z|
  0089c	e58d000c	 str         r0, [sp, #0xC]
  008a0	e59d301c	 ldr         r3, [sp, #0x1C]
  008a4	e28320a0	 add         r2, r3, #0xA0
  008a8	e59d300c	 ldr         r3, [sp, #0xC]
  008ac	e5823000	 str         r3, [r2]

; 215  :     m_dwCardWriteProtectedState = pReg->ValueDW(SHC_CARD_WRITE_PROTECTED_STATE_KEY, 1);

  008b0	e3a02001	 mov         r2, #1
  008b4	e59f1030	 ldr         r1, [pc, #0x30]
  008b8	e59d0020	 ldr         r0, [sp, #0x20]
  008bc	eb000000	 bl          |?ValueDW@CReg@@QAAKPBGK@Z|
  008c0	e58d0010	 str         r0, [sp, #0x10]
  008c4	e59d301c	 ldr         r3, [sp, #0x1C]
  008c8	e28320a4	 add         r2, r3, #0xA4
  008cc	e59d3010	 ldr         r3, [sp, #0x10]
  008d0	e5823000	 str         r3, [r2]

; 216  :     return TRUE;

  008d4	e3a03001	 mov         r3, #1
  008d8	e58d3000	 str         r3, [sp]
  008dc		 |$LN2@GetRegistr|

; 217  : }

  008dc	e59d0000	 ldr         r0, [sp]
  008e0	e28dd014	 add         sp, sp, #0x14
  008e4	e89d6000	 ldmia       sp, {sp, lr}
  008e8	e12fff1e	 bx          lr
  008ec		 |$LN7@GetRegistr|
  008ec		 |$LN8@GetRegistr|
  008ec	00000000	 DCD         |??_C@_1DA@KLIJNKLI@?$AAC?$AAa?$AAr?$AAd?$AAW?$AAr?$AAi?$AAt?$AAe?$AAP?$AAr?$AAo?$AAt?$AAe?$AAc?$AAt?$AAe?$AAd?$AAS?$AAt?$AAa?$AAt?$AAe?$AA?$AA@|
  008f0		 |$LN9@GetRegistr|
  008f0	00000000	 DCD         |??_C@_1CO@HLDMFEC@?$AAC?$AAa?$AAr?$AAd?$AAR?$AAe?$AAa?$AAd?$AAW?$AAr?$AAi?$AAt?$AAe?$AAS?$AAl?$AAo?$AAt?$AA2?$AAG?$AAP?$AAI?$AAO?$AA?$AA@|
  008f4		 |$LN10@GetRegistr|
  008f4	00000000	 DCD         |??_C@_1CO@HACNBHLC@?$AAC?$AAa?$AAr?$AAd?$AAR?$AAe?$AAa?$AAd?$AAW?$AAr?$AAi?$AAt?$AAe?$AAS?$AAl?$AAo?$AAt?$AA1?$AAG?$AAP?$AAI?$AAO?$AA?$AA@|
  008f8		 |$M41183|

			 ENDP  ; |?GetRegistrySettings@CSDIOController@@MAAHPAVCReg@@@Z|, CSDIOController::GetRegistrySettings

	IMPORT	|RegQueryValueExW|
; File c:\wince600\public\common\sdk\inc\creg.hxx

  00000			 AREA	 |.pdata|, PDATA
|$T41197| DCD	|$LN6@ValueDW|
	DCD	0x40001c04
; Function compile flags: /Odtp

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?ValueDW@CReg@@QAAKPBGK@Z| PROC	; CReg::ValueDW

; 197  : 	DWORD ValueDW(LPCTSTR szName, DWORD dwDefault=0) {

  00000		 |$LN6@ValueDW|
  00000	e1a0c00d	 mov         r12, sp
  00004	e92d0007	 stmdb       sp!, {r0 - r2}
  00008	e92d5000	 stmdb       sp!, {r12, lr}
  0000c	e24dd01c	 sub         sp, sp, #0x1C
  00010		 |$M41194|

; 198  : 		DWORD dwValue = dwDefault;

  00010	e59d302c	 ldr         r3, [sp, #0x2C]
  00014	e58d3008	 str         r3, [sp, #8]

; 199  : 		if(m_hKey) 

  00018	e59d3024	 ldr         r3, [sp, #0x24]
  0001c	e5933000	 ldr         r3, [r3]
  00020	e3530000	 cmp         r3, #0
  00024	0a00000b	 beq         |$LN1@ValueDW|

; 200  : 		{
; 201  : 			DWORD dwLen = sizeof(DWORD);

  00028	e3a03004	 mov         r3, #4
  0002c	e58d300c	 str         r3, [sp, #0xC]

; 202  : 			RegQueryValueEx(m_hKey, szName, NULL, NULL, (LPBYTE)&dwValue, &dwLen);

  00030	e28d300c	 add         r3, sp, #0xC
  00034	e58d3004	 str         r3, [sp, #4]
  00038	e28d3008	 add         r3, sp, #8
  0003c	e58d3000	 str         r3, [sp]
  00040	e3a03000	 mov         r3, #0
  00044	e3a02000	 mov         r2, #0
  00048	e59d1028	 ldr         r1, [sp, #0x28]
  0004c	e59d0024	 ldr         r0, [sp, #0x24]
  00050	e5900000	 ldr         r0, [r0]
  00054	eb000000	 bl          RegQueryValueExW
  00058		 |$LN1@ValueDW|

; 203  : 		}
; 204  : 		return dwValue;

  00058	e59d3008	 ldr         r3, [sp, #8]
  0005c	e58d3018	 str         r3, [sp, #0x18]

; 205  : 	}

  00060	e59d0018	 ldr         r0, [sp, #0x18]
  00064	e28dd01c	 add         sp, sp, #0x1C
  00068	e89d6000	 ldmia       sp, {sp, lr}
  0006c	e12fff1e	 bx          lr
  00070		 |$M41195|

			 ENDP  ; |?ValueDW@CReg@@QAAKPBGK@Z|, CReg::ValueDW

	EXPORT	|?CreateSDIOController@@YAPAVCSDIOControllerBase@@XZ| ; CreateSDIOController

  00050			 AREA	 |.pdata|, PDATA
|$T41208| DCD	|$LN7@CreateSDIO|
	DCD	0x40001802
; Function compile flags: /Odtp
; File c:\wince600\platform\common\src\soc\omap2420_ms_v1\sdhc\impl\sdcontroller.cpp

  008f8			 AREA	 |.text|, CODE, ARM

  008f8		 |?CreateSDIOController@@YAPAVCSDIOControllerBase@@XZ| PROC ; CreateSDIOController

; 221  : {

  008f8		 |$LN7@CreateSDIO|
  008f8	e52de004	 str         lr, [sp, #-4]!
  008fc	e24dd014	 sub         sp, sp, #0x14
  00900		 |$M41205|

; 222  :     return new CSDIOController();

  00900	e3a000b4	 mov         r0, #0xB4
  00904	eb000000	 bl          |??2@YAPAXI@Z|
  00908	e58d0008	 str         r0, [sp, #8]
  0090c	e59d3008	 ldr         r3, [sp, #8]
  00910	e58d3000	 str         r3, [sp]
  00914	e59d3000	 ldr         r3, [sp]
  00918	e3530000	 cmp         r3, #0
  0091c	0a000005	 beq         |$LN3@CreateSDIO|
  00920	e59d0000	 ldr         r0, [sp]
  00924	eb000000	 bl          |??0CSDIOController@@QAA@XZ|
  00928	e58d000c	 str         r0, [sp, #0xC]
  0092c	e59d300c	 ldr         r3, [sp, #0xC]
  00930	e58d3010	 str         r3, [sp, #0x10]
  00934	ea000001	 b           |$LN4@CreateSDIO|
  00938		 |$LN3@CreateSDIO|
  00938	e3a03000	 mov         r3, #0
  0093c	e58d3010	 str         r3, [sp, #0x10]
  00940		 |$LN4@CreateSDIO|
  00940	e59d3010	 ldr         r3, [sp, #0x10]
  00944	e58d3004	 str         r3, [sp, #4]

; 223  : }

  00948	e59d0004	 ldr         r0, [sp, #4]
  0094c	e28dd014	 add         sp, sp, #0x14
  00950	e49de004	 ldr         lr, [sp], #4
  00954	e12fff1e	 bx          lr
  00958		 |$M41206|

			 ENDP  ; |?CreateSDIOController@@YAPAVCSDIOControllerBase@@XZ|, CreateSDIOController

	END
