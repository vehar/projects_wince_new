; Listing generated by Microsoft (R) Optimizing Compiler Version 14.01.60511.01 

	TTL	C:\WINCE600\PLATFORM\COMMON\SRC\SOC\COMMON_TI_V1\COMMON_TI\HECC\omap_hecc.cpp
	CODE32

  00000			 AREA	 |.drectve|, DRECTVE
	DCB	"-defaultlib:LIBCMT "
	DCB	"-defaultlib:OLDNAMES "

	EXPORT	|??_C@_1CE@JCFLMDCM@?$AAT?$AAx?$AAC?$AAr?$AAi?$AAt?$AAi?$AAc?$AAa?$AAl?$AAM?$AAa?$AAx?$AAE?$AAl?$AAe?$AAm?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CA@HIGIIIHI@?$AAT?$AAx?$AAM?$AAe?$AAd?$AAi?$AAu?$AAm?$AAM?$AAa?$AAx?$AAE?$AAl?$AAe?$AAm?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BK@EPBAMBAC@?$AAT?$AAx?$AAL?$AAo?$AAw?$AAM?$AAa?$AAx?$AAE?$AAl?$AAe?$AAm?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BC@GOJKOAHK@?$AAm?$AAa?$AAx?$AAR?$AAx?$AAM?$AAs?$AAg?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BC@JHNNEHFE@?$AAP?$AAr?$AAi?$AAo?$AAr?$AAi?$AAt?$AAy?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CE@IHBIGHFA@?$AAS?$AAt?$AAr?$AAo?$AAb?$AAe?$AAP?$AAi?$AAn?$AAP?$AAo?$AAl?$AAa?$AAr?$AAi?$AAt?$AAy?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BE@JIHBNMKH@?$AAS?$AAt?$AAr?$AAo?$AAb?$AAe?$AAP?$AAi?$AAn?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BC@MIOHADKO@?$AAB?$AAa?$AAu?$AAd?$AAR?$AAa?$AAt?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BK@NAFKEAOP@?$AAC?$AAa?$AAn?$AAC?$AAt?$AAr?$AAl?$AAI?$AAn?$AAd?$AAe?$AAx?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|dpCurSettings| [ DATA ]

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CE@JCFLMDCM@?$AAT?$AAx?$AAC?$AAr?$AAi?$AAt?$AAi?$AAc?$AAa?$AAl?$AAM?$AAa?$AAx?$AAE?$AAl?$AAe?$AAm?$AA?$AA@| DCB "T"
	DCB	0x0, "x", 0x0, "C", 0x0, "r", 0x0, "i", 0x0, "t", 0x0, "i"
	DCB	0x0, "c", 0x0, "a", 0x0, "l", 0x0, "M", 0x0, "a", 0x0, "x"
	DCB	0x0, "E", 0x0, "l", 0x0, "e", 0x0, "m", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CA@HIGIIIHI@?$AAT?$AAx?$AAM?$AAe?$AAd?$AAi?$AAu?$AAm?$AAM?$AAa?$AAx?$AAE?$AAl?$AAe?$AAm?$AA?$AA@| DCB "T"
	DCB	0x0, "x", 0x0, "M", 0x0, "e", 0x0, "d", 0x0, "i", 0x0, "u"
	DCB	0x0, "m", 0x0, "M", 0x0, "a", 0x0, "x", 0x0, "E", 0x0, "l"
	DCB	0x0, "e", 0x0, "m", 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BK@EPBAMBAC@?$AAT?$AAx?$AAL?$AAo?$AAw?$AAM?$AAa?$AAx?$AAE?$AAl?$AAe?$AAm?$AA?$AA@| DCB "T"
	DCB	0x0, "x", 0x0, "L", 0x0, "o", 0x0, "w", 0x0, "M", 0x0, "a"
	DCB	0x0, "x", 0x0, "E", 0x0, "l", 0x0, "e", 0x0, "m", 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BC@GOJKOAHK@?$AAm?$AAa?$AAx?$AAR?$AAx?$AAM?$AAs?$AAg?$AA?$AA@| DCB "m"
	DCB	0x0, "a", 0x0, "x", 0x0, "R", 0x0, "x", 0x0, "M", 0x0, "s"
	DCB	0x0, "g", 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BC@JHNNEHFE@?$AAP?$AAr?$AAi?$AAo?$AAr?$AAi?$AAt?$AAy?$AA?$AA@| DCB "P"
	DCB	0x0, "r", 0x0, "i", 0x0, "o", 0x0, "r", 0x0, "i", 0x0, "t"
	DCB	0x0, "y", 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CE@IHBIGHFA@?$AAS?$AAt?$AAr?$AAo?$AAb?$AAe?$AAP?$AAi?$AAn?$AAP?$AAo?$AAl?$AAa?$AAr?$AAi?$AAt?$AAy?$AA?$AA@| DCB "S"
	DCB	0x0, "t", 0x0, "r", 0x0, "o", 0x0, "b", 0x0, "e", 0x0, "P"
	DCB	0x0, "i", 0x0, "n", 0x0, "P", 0x0, "o", 0x0, "l", 0x0, "a"
	DCB	0x0, "r", 0x0, "i", 0x0, "t", 0x0, "y", 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BE@JIHBNMKH@?$AAS?$AAt?$AAr?$AAo?$AAb?$AAe?$AAP?$AAi?$AAn?$AA?$AA@| DCB "S"
	DCB	0x0, "t", 0x0, "r", 0x0, "o", 0x0, "b", 0x0, "e", 0x0, "P"
	DCB	0x0, "i", 0x0, "n", 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BC@MIOHADKO@?$AAB?$AAa?$AAu?$AAd?$AAR?$AAa?$AAt?$AAe?$AA?$AA@| DCB "B"
	DCB	0x0, "a", 0x0, "u", 0x0, "d", 0x0, "R", 0x0, "a", 0x0, "t"
	DCB	0x0, "e", 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BK@NAFKEAOP@?$AAC?$AAa?$AAn?$AAC?$AAt?$AAr?$AAl?$AAI?$AAn?$AAd?$AAe?$AAx?$AA?$AA@| DCB "C"
	DCB	0x0, "a", 0x0, "n", 0x0, "C", 0x0, "t", 0x0, "r", 0x0, "l"
	DCB	0x0, "I", 0x0, "n", 0x0, "d", 0x0, "e", 0x0, "x", 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|RxPriorityMlbxCount| DCD 0x3
	DCD	0x2
	DCD	0x1
	%	4
|s_deviceRegParams| DCD |??_C@_1BK@NAFKEAOP@?$AAC?$AAa?$AAn?$AAC?$AAt?$AAr?$AAl?$AAI?$AAn?$AAd?$AAe?$AAx?$AA?$AA@|
	DCD	0x1
	DCD	0x1
	DCD	0x14
	DCD	0x4
	DCD	0x0
	DCD	|??_C@_1BC@MIOHADKO@?$AAB?$AAa?$AAu?$AAd?$AAR?$AAa?$AAt?$AAe?$AA?$AA@|
	DCD	0x1
	DCD	0x1
	DCD	0x20
	DCD	0x4
	DCD	0xffffffff
	DCD	|??_C@_1BE@JIHBNMKH@?$AAS?$AAt?$AAr?$AAo?$AAb?$AAe?$AAP?$AAi?$AAn?$AA?$AA@|
	DCD	0x1
	DCD	0x0
	DCD	0x18
	DCD	0x4
	DCD	0xffffffff
	DCD	|??_C@_1CE@IHBIGHFA@?$AAS?$AAt?$AAr?$AAo?$AAb?$AAe?$AAP?$AAi?$AAn?$AAP?$AAo?$AAl?$AAa?$AAr?$AAi?$AAt?$AAy?$AA?$AA@|
	DCD	0x1
	DCD	0x0
	DCD	0x1c
	DCD	0x4
	DCD	0xffffffff
	DCD	|??_C@_1BC@JHNNEHFE@?$AAP?$AAr?$AAi?$AAo?$AAr?$AAi?$AAt?$AAy?$AA?$AA@|
	DCD	0x1
	DCD	0x0
	DCD	0x10
	DCD	0x4
	DCD	0xfa
	DCD	|??_C@_1BC@GOJKOAHK@?$AAm?$AAa?$AAx?$AAR?$AAx?$AAM?$AAs?$AAg?$AA?$AA@|
	DCD	0x1
	DCD	0x0
	DCD	0x7c
	DCD	0x4
	DCD	0x100
	DCD	|??_C@_1BK@EPBAMBAC@?$AAT?$AAx?$AAL?$AAo?$AAw?$AAM?$AAa?$AAx?$AAE?$AAl?$AAe?$AAm?$AA?$AA@|
	DCD	0x1
	DCD	0x0
	DCD	0x94
	DCD	0x4
	DCD	0x20
	DCD	|??_C@_1CA@HIGIIIHI@?$AAT?$AAx?$AAM?$AAe?$AAd?$AAi?$AAu?$AAm?$AAM?$AAa?$AAx?$AAE?$AAl?$AAe?$AAm?$AA?$AA@|
	DCD	0x1
	DCD	0x0
	DCD	0x90
	DCD	0x4
	DCD	0x20
	DCD	|??_C@_1CE@JCFLMDCM@?$AAT?$AAx?$AAC?$AAr?$AAi?$AAt?$AAi?$AAc?$AAa?$AAl?$AAM?$AAa?$AAx?$AAE?$AAl?$AAe?$AAm?$AA?$AA@|
	DCD	0x1
	DCD	0x0
	DCD	0x8c
	DCD	0x4
	DCD	0x20

  00000			 AREA	 |.data|, DATA
|PriorityMapping| DCB 0x3
	DCB	0x2
	DCB	0x1
	%	5
|dpCurSettings| DCB "C", 0x0, "A", 0x0, "N", 0x0, 0x0, 0x0
	%	56
	DCB	"E", 0x0, "r", 0x0, "r", 0x0, "o", 0x0, "r", 0x0, "s", 0x0
	DCB	0x0, 0x0
	%	50
	DCB	"W", 0x0, "a", 0x0, "r", 0x0, "n", 0x0, "i", 0x0, "n", 0x0
	DCB	"g", 0x0, "s", 0x0, 0x0, 0x0
	%	46
	DCB	"F", 0x0, "u", 0x0, "n", 0x0, "c", 0x0, "t", 0x0, "i", 0x0
	DCB	"o", 0x0, "n", 0x0, 0x0, 0x0
	%	46
	DCB	"I", 0x0, "n", 0x0, "f", 0x0, "o", 0x0, 0x0, 0x0
	%	54
	DCB	"I", 0x0, "S", 0x0, "T", 0x0, 0x0, 0x0
	%	56
	DCB	"U", 0x0, "n", 0x0, "d", 0x0, "e", 0x0, "f", 0x0, "i", 0x0
	DCB	"n", 0x0, "e", 0x0, "d", 0x0, 0x0, 0x0
	%	44
	DCB	"U", 0x0, "n", 0x0, "d", 0x0, "e", 0x0, "f", 0x0, "i", 0x0
	DCB	"n", 0x0, "e", 0x0, "d", 0x0, 0x0, 0x0
	%	44
	DCB	"U", 0x0, "n", 0x0, "d", 0x0, "e", 0x0, "f", 0x0, "i", 0x0
	DCB	"n", 0x0, "e", 0x0, "d", 0x0, 0x0, 0x0
	%	44
	DCB	"U", 0x0, "n", 0x0, "d", 0x0, "e", 0x0, "f", 0x0, "i", 0x0
	DCB	"n", 0x0, "e", 0x0, "d", 0x0, 0x0, 0x0
	%	44
	DCB	"U", 0x0, "n", 0x0, "d", 0x0, "e", 0x0, "f", 0x0, "i", 0x0
	DCB	"n", 0x0, "e", 0x0, "d", 0x0, 0x0, 0x0
	%	44
	DCB	"U", 0x0, "n", 0x0, "d", 0x0, "e", 0x0, "f", 0x0, "i", 0x0
	DCB	"n", 0x0, "e", 0x0, "d", 0x0, 0x0, 0x0
	%	44
	DCB	"U", 0x0, "n", 0x0, "d", 0x0, "e", 0x0, "f", 0x0, "i", 0x0
	DCB	"n", 0x0, "e", 0x0, "d", 0x0, 0x0, 0x0
	%	44
	DCB	"U", 0x0, "n", 0x0, "d", 0x0, "e", 0x0, "f", 0x0, "i", 0x0
	DCB	"n", 0x0, "e", 0x0, "d", 0x0, 0x0, 0x0
	%	44
	DCB	"U", 0x0, "n", 0x0, "d", 0x0, "e", 0x0, "f", 0x0, "i", 0x0
	DCB	"n", 0x0, "e", 0x0, "d", 0x0, 0x0, 0x0
	%	44
	DCB	"U", 0x0, "n", 0x0, "d", 0x0, "e", 0x0, "f", 0x0, "i", 0x0
	DCB	"n", 0x0, "e", 0x0, "d", 0x0, 0x0, 0x0
	%	44
	DCB	"U", 0x0, "n", 0x0, "d", 0x0, "e", 0x0, "f", 0x0, "i", 0x0
	DCB	"n", 0x0, "e", 0x0, "d", 0x0, 0x0, 0x0
	%	44
	DCD	0x3
	EXPORT	|?IDtoCANMID@@YAITCAN_ID@@@Z|		; IDtoCANMID

  00000			 AREA	 |.pdata|, PDATA
|$T37711| DCD	|$LN7@IDtoCANMID|
	DCD	0x40001a04
; Function compile flags: /Odtp
; File c:\wince600\platform\common\src\soc\common_ti_v1\common_ti\hecc\omap_hecc.cpp

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?IDtoCANMID@@YAITCAN_ID@@@Z| PROC	; IDtoCANMID

; 297  : {

  00000		 |$LN7@IDtoCANMID|
  00000	e1a0c00d	 mov         r12, sp
  00004	e92d0001	 stmdb       sp!, {r0}
  00008	e92d5000	 stmdb       sp!, {r12, lr}
  0000c	e24dd004	 sub         sp, sp, #4
  00010		 |$M37708|

; 298  :     if (id.s_extended.extended)

  00010	e59d300c	 ldr         r3, [sp, #0xC]
  00014	e3130102	 tst         r3, #2, 2
  00018	0a000006	 beq         |$LN2@IDtoCANMID|

; 299  :     {
; 300  :         return CANMID_EXTENDED | id.s_extended.id;

  0001c	e59d200c	 ldr         r2, [sp, #0xC]
  00020	e3e0320e	 mvn         r3, #0xE, 4
  00024	e0023003	 and         r3, r2, r3
  00028	e3833102	 orr         r3, r3, #2, 2
  0002c	e58d3000	 str         r3, [sp]
  00030	ea000008	 b           |$LN3@IDtoCANMID|

; 301  :     }
; 302  :     else

  00034	ea000007	 b           |$LN1@IDtoCANMID|
  00038		 |$LN2@IDtoCANMID|

; 303  :     {
; 304  :         return (id.s_standard.id & 0x7FF) << 18;

  00038	e59d300c	 ldr         r3, [sp, #0xC]
  0003c	e1a03183	 mov         r3, r3, lsl #3
  00040	e1a02aa3	 mov         r2, r3, lsr #21
  00044	e3a03c07	 mov         r3, #7, 24
  00048	e38330ff	 orr         r3, r3, #0xFF
  0004c	e0023003	 and         r3, r2, r3
  00050	e1a03903	 mov         r3, r3, lsl #18
  00054	e58d3000	 str         r3, [sp]
  00058		 |$LN1@IDtoCANMID|
  00058		 |$LN3@IDtoCANMID|

; 305  :     }
; 306  : }

  00058	e59d0000	 ldr         r0, [sp]
  0005c	e28dd004	 add         sp, sp, #4
  00060	e89d6000	 ldmia       sp, {sp, lr}
  00064	e12fff1e	 bx          lr
  00068		 |$M37709|

			 ENDP  ; |?IDtoCANMID@@YAITCAN_ID@@@Z|, IDtoCANMID

	EXPORT	|?CANMIDtoCANID@@YAXIPATCAN_ID@@@Z|	; CANMIDtoCANID

  00008			 AREA	 |.pdata|, PDATA
|$T37716| DCD	|$LN7@CANMIDtoCA|
	DCD	0x40002e03
; Function compile flags: /Odtp

  00068			 AREA	 |.text|, CODE, ARM

  00068		 |?CANMIDtoCANID@@YAXIPATCAN_ID@@@Z| PROC ; CANMIDtoCANID

; 309  : {

  00068		 |$LN7@CANMIDtoCA|
  00068	e1a0c00d	 mov         r12, sp
  0006c	e92d0003	 stmdb       sp!, {r0, r1}
  00070	e92d5000	 stmdb       sp!, {r12, lr}
  00074		 |$M37713|

; 310  :     if (canmid & CANMID_EXTENDED)

  00074	e59d3008	 ldr         r3, [sp, #8]
  00078	e3130102	 tst         r3, #2, 2
  0007c	0a000010	 beq         |$LN2@CANMIDtoCA|

; 311  :     {
; 312  :         pId->s_extended.extended = 1;

  00080	e59d300c	 ldr         r3, [sp, #0xC]
  00084	e5933000	 ldr         r3, [r3]
  00088	e3832102	 orr         r2, r3, #2, 2
  0008c	e59d300c	 ldr         r3, [sp, #0xC]
  00090	e5832000	 str         r2, [r3]

; 313  :         pId->s_extended.id = canmid & CANMID_IDMASK;

  00094	e59d2008	 ldr         r2, [sp, #8]
  00098	e3e0320e	 mvn         r3, #0xE, 4
  0009c	e0021003	 and         r1, r2, r3
  000a0	e59d300c	 ldr         r3, [sp, #0xC]
  000a4	e5933000	 ldr         r3, [r3]
  000a8	e203220e	 and         r2, r3, #0xE, 4
  000ac	e3e0320e	 mvn         r3, #0xE, 4
  000b0	e0013003	 and         r3, r1, r3
  000b4	e1822003	 orr         r2, r2, r3
  000b8	e59d300c	 ldr         r3, [sp, #0xC]
  000bc	e5832000	 str         r2, [r3]

; 314  :     }
; 315  :     else

  000c0	ea000014	 b           |$LN1@CANMIDtoCA|
  000c4		 |$LN2@CANMIDtoCA|

; 316  :     {
; 317  :         pId->s_standard.extended = 0;

  000c4	e59d300c	 ldr         r3, [sp, #0xC]
  000c8	e5932000	 ldr         r2, [r3]
  000cc	e3e03102	 mvn         r3, #2, 2
  000d0	e0022003	 and         r2, r2, r3
  000d4	e59d300c	 ldr         r3, [sp, #0xC]
  000d8	e5832000	 str         r2, [r3]

; 318  :         pId->s_standard.id = (canmid >> 18) & 0x7FF;

  000dc	e59d3008	 ldr         r3, [sp, #8]
  000e0	e1a03183	 mov         r3, r3, lsl #3
  000e4	e1a01aa3	 mov         r1, r3, lsr #21
  000e8	e59d300c	 ldr         r3, [sp, #0xC]
  000ec	e5932000	 ldr         r2, [r3]
  000f0	e3e0357f	 mvn         r3, #0x7F, 10
  000f4	e223370f	 eor         r3, r3, #0xF, 14
  000f8	e0022003	 and         r2, r2, r3
  000fc	e3a03c07	 mov         r3, #7, 24
  00100	e38330ff	 orr         r3, r3, #0xFF
  00104	e0013003	 and         r3, r1, r3
  00108	e1a03903	 mov         r3, r3, lsl #18
  0010c	e1822003	 orr         r2, r2, r3
  00110	e59d300c	 ldr         r3, [sp, #0xC]
  00114	e5832000	 str         r2, [r3]
  00118		 |$LN1@CANMIDtoCA|

; 319  :     }
; 320  : }

  00118	e89d6000	 ldmia       sp, {sp, lr}
  0011c	e12fff1e	 bx          lr
  00120		 |$M37714|

			 ENDP  ; |?CANMIDtoCANID@@YAXIPATCAN_ID@@@Z|, CANMIDtoCANID

	EXPORT	|?MaskToCANLAM@@YAITCAN_ID@@@Z|		; MaskToCANLAM

  00010			 AREA	 |.pdata|, PDATA
|$T37722| DCD	|$LN7@MaskToCANL|
	DCD	0x40001e04
; Function compile flags: /Odtp

  00120			 AREA	 |.text|, CODE, ARM

  00120		 |?MaskToCANLAM@@YAITCAN_ID@@@Z| PROC	; MaskToCANLAM

; 324  : {

  00120		 |$LN7@MaskToCANL|
  00120	e1a0c00d	 mov         r12, sp
  00124	e92d0001	 stmdb       sp!, {r0}
  00128	e92d5000	 stmdb       sp!, {r12, lr}
  0012c	e24dd004	 sub         sp, sp, #4
  00130		 |$M37719|

; 325  :     if (id.s_extended.extended)

  00130	e59d300c	 ldr         r3, [sp, #0xC]
  00134	e3130102	 tst         r3, #2, 2
  00138	0a000008	 beq         |$LN2@MaskToCANL|

; 326  :     {
; 327  :         return (~id.s_extended.id) & CANMID_IDMASK;

  0013c	e59d200c	 ldr         r2, [sp, #0xC]
  00140	e3e0320e	 mvn         r3, #0xE, 4
  00144	e0023003	 and         r3, r2, r3
  00148	e1e02003	 mvn         r2, r3
  0014c	e3e0320e	 mvn         r3, #0xE, 4
  00150	e0023003	 and         r3, r2, r3
  00154	e58d3000	 str         r3, [sp]
  00158	ea00000a	 b           |$LN3@MaskToCANL|

; 328  :     }
; 329  :     else

  0015c	ea000009	 b           |$LN1@MaskToCANL|
  00160		 |$LN2@MaskToCANL|

; 330  :     {
; 331  :         return CANLAM_LAMI | (((~id.s_standard.id) & 0x7FF) << 18);

  00160	e59d300c	 ldr         r3, [sp, #0xC]
  00164	e1a03183	 mov         r3, r3, lsl #3
  00168	e1a03aa3	 mov         r3, r3, lsr #21
  0016c	e1e02003	 mvn         r2, r3
  00170	e3a03c07	 mov         r3, #7, 24
  00174	e38330ff	 orr         r3, r3, #0xFF
  00178	e0023003	 and         r3, r2, r3
  0017c	e1a03903	 mov         r3, r3, lsl #18
  00180	e3833102	 orr         r3, r3, #2, 2
  00184	e58d3000	 str         r3, [sp]
  00188		 |$LN1@MaskToCANL|
  00188		 |$LN3@MaskToCANL|

; 332  :     }
; 333  : }

  00188	e59d0000	 ldr         r0, [sp]
  0018c	e28dd004	 add         sp, sp, #4
  00190	e89d6000	 ldmia       sp, {sp, lr}
  00194	e12fff1e	 bx          lr
  00198		 |$M37720|

			 ENDP  ; |?MaskToCANLAM@@YAITCAN_ID@@@Z|, MaskToCANLAM

	EXPORT	|?StrobeActive@@YAXPAUT_CAN_DEVICE@@H@Z| ; StrobeActive
	IMPORT	|GPIOSetBit|
	IMPORT	|GPIOClrBit|

  00018			 AREA	 |.pdata|, PDATA
|$T37729| DCD	|$LN9@StrobeActi|
	DCD	0x40002404
; Function compile flags: /Odtp

  00198			 AREA	 |.text|, CODE, ARM

  00198		 |?StrobeActive@@YAXPAUT_CAN_DEVICE@@H@Z| PROC ; StrobeActive

; 336  : {

  00198		 |$LN9@StrobeActi|
  00198	e1a0c00d	 mov         r12, sp
  0019c	e92d0003	 stmdb       sp!, {r0, r1}
  001a0	e92d5000	 stmdb       sp!, {r12, lr}
  001a4	e24dd004	 sub         sp, sp, #4
  001a8		 |$M37726|

; 337  :     if (fActive ^ (pDevice->StrobePinPolarity != ACTIVE_LOW))

  001a8	e59d300c	 ldr         r3, [sp, #0xC]
  001ac	e283301c	 add         r3, r3, #0x1C
  001b0	e5933000	 ldr         r3, [r3]
  001b4	e3530000	 cmp         r3, #0
  001b8	0a000002	 beq         |$LN5@StrobeActi|
  001bc	e3a03001	 mov         r3, #1
  001c0	e58d3000	 str         r3, [sp]
  001c4	ea000001	 b           |$LN6@StrobeActi|
  001c8		 |$LN5@StrobeActi|
  001c8	e3a03000	 mov         r3, #0
  001cc	e58d3000	 str         r3, [sp]
  001d0		 |$LN6@StrobeActi|
  001d0	e59d2010	 ldr         r2, [sp, #0x10]
  001d4	e59d3000	 ldr         r3, [sp]
  001d8	e1320003	 teq         r2, r3
  001dc	0a000007	 beq         |$LN2@StrobeActi|

; 338  :     {
; 339  :         GPIOClrBit(pDevice->hGpio,pDevice->StrobePin);

  001e0	e59d300c	 ldr         r3, [sp, #0xC]
  001e4	e2833018	 add         r3, r3, #0x18
  001e8	e5931000	 ldr         r1, [r3]
  001ec	e59d300c	 ldr         r3, [sp, #0xC]
  001f0	e2833024	 add         r3, r3, #0x24
  001f4	e5930000	 ldr         r0, [r3]
  001f8	eb000000	 bl          GPIOClrBit

; 340  :     }
; 341  :     else

  001fc	ea000006	 b           |$LN1@StrobeActi|
  00200		 |$LN2@StrobeActi|

; 342  :     {
; 343  :         GPIOSetBit(pDevice->hGpio,pDevice->StrobePin);

  00200	e59d300c	 ldr         r3, [sp, #0xC]
  00204	e2833018	 add         r3, r3, #0x18
  00208	e5931000	 ldr         r1, [r3]
  0020c	e59d300c	 ldr         r3, [sp, #0xC]
  00210	e2833024	 add         r3, r3, #0x24
  00214	e5930000	 ldr         r0, [r3]
  00218	eb000000	 bl          GPIOSetBit
  0021c		 |$LN1@StrobeActi|

; 344  :     }
; 345  : }

  0021c	e28dd004	 add         sp, sp, #4
  00220	e89d6000	 ldmia       sp, {sp, lr}
  00224	e12fff1e	 bx          lr
  00228		 |$M37727|

			 ENDP  ; |?StrobeActive@@YAXPAUT_CAN_DEVICE@@H@Z|, StrobeActive

	EXPORT	|GetCurrentProcess|
	EXPORT	|?CreateMsgQueuePair@@YAHPAGPAPAX1KKK@Z| ; CreateMsgQueuePair
	IMPORT	|CloseHandle|
	IMPORT	|OpenMsgQueue|
	IMPORT	|CreateMsgQueue|

  00020			 AREA	 |.pdata|, PDATA
|$T37735| DCD	|$LN10@CreateMsgQ|
	DCD	0x40004004
; Function compile flags: /Odtp

  00228			 AREA	 |.text|, CODE, ARM

  00228		 |?CreateMsgQueuePair@@YAHPAGPAPAX1KKK@Z| PROC ; CreateMsgQueuePair

; 347  : {

  00228		 |$LN10@CreateMsgQ|
  00228	e1a0c00d	 mov         r12, sp
  0022c	e92d000f	 stmdb       sp!, {r0 - r3}
  00230	e92d5000	 stmdb       sp!, {r12, lr}
  00234	e24dd024	 sub         sp, sp, #0x24
  00238		 |$M37732|

; 348  :     MSGQUEUEOPTIONS msqQueueOptions;
; 349  : 
; 350  :     if ((pReader == NULL) || (pWriter==NULL))

  00238	e59d3030	 ldr         r3, [sp, #0x30]
  0023c	e3530000	 cmp         r3, #0
  00240	0a000002	 beq         |$LN4@CreateMsgQ|
  00244	e59d3034	 ldr         r3, [sp, #0x34]
  00248	e3530000	 cmp         r3, #0
  0024c	1a000002	 bne         |$LN5@CreateMsgQ|
  00250		 |$LN4@CreateMsgQ|

; 351  :     {
; 352  :         return FALSE;

  00250	e3a03000	 mov         r3, #0
  00254	e58d3014	 str         r3, [sp, #0x14]
  00258	ea00002e	 b           |$LN6@CreateMsgQ|
  0025c		 |$LN5@CreateMsgQ|

; 353  :     }
; 354  : 
; 355  :     msqQueueOptions.bReadAccess = TRUE;

  0025c	e3a03001	 mov         r3, #1
  00260	e58d3010	 str         r3, [sp, #0x10]

; 356  :     msqQueueOptions.dwMaxMessages = MaxElem;

  00264	e59d3038	 ldr         r3, [sp, #0x38]
  00268	e58d3008	 str         r3, [sp, #8]

; 357  :     msqQueueOptions.cbMaxMessage = ElemSize;

  0026c	e59d303c	 ldr         r3, [sp, #0x3C]
  00270	e58d300c	 str         r3, [sp, #0xC]

; 358  :     msqQueueOptions.dwFlags = flags;

  00274	e59d3040	 ldr         r3, [sp, #0x40]
  00278	e58d3004	 str         r3, [sp, #4]

; 359  :     msqQueueOptions.dwSize = sizeof(msqQueueOptions);

  0027c	e3a03014	 mov         r3, #0x14
  00280	e58d3000	 str         r3, [sp]

; 360  : 
; 361  :     *pReader = CreateMsgQueue(name,&msqQueueOptions);

  00284	e28d1000	 add         r1, sp, #0
  00288	e59d002c	 ldr         r0, [sp, #0x2C]
  0028c	eb000000	 bl          CreateMsgQueue
  00290	e58d0018	 str         r0, [sp, #0x18]
  00294	e59d2018	 ldr         r2, [sp, #0x18]
  00298	e59d3030	 ldr         r3, [sp, #0x30]
  0029c	e5832000	 str         r2, [r3]

; 362  :     if (*pReader != INVALID_HANDLE_VALUE)

  002a0	e59d3030	 ldr         r3, [sp, #0x30]
  002a4	e5933000	 ldr         r3, [r3]
  002a8	e3730001	 cmn         r3, #1
  002ac	0a000017	 beq         |$LN3@CreateMsgQ|

; 363  :     {
; 364  :         msqQueueOptions.bReadAccess = FALSE;

  002b0	e3a03000	 mov         r3, #0
  002b4	e58d3010	 str         r3, [sp, #0x10]

; 365  :         *pWriter = OpenMsgQueue(GetCurrentProcess(),*pReader,&msqQueueOptions);

  002b8	eb000000	 bl          GetCurrentProcess
  002bc	e58d001c	 str         r0, [sp, #0x1C]
  002c0	e28d2000	 add         r2, sp, #0
  002c4	e59d3030	 ldr         r3, [sp, #0x30]
  002c8	e5931000	 ldr         r1, [r3]
  002cc	e59d001c	 ldr         r0, [sp, #0x1C]
  002d0	eb000000	 bl          OpenMsgQueue
  002d4	e58d0020	 str         r0, [sp, #0x20]
  002d8	e59d2020	 ldr         r2, [sp, #0x20]
  002dc	e59d3034	 ldr         r3, [sp, #0x34]
  002e0	e5832000	 str         r2, [r3]

; 366  :         if (*pWriter != INVALID_HANDLE_VALUE)

  002e4	e59d3034	 ldr         r3, [sp, #0x34]
  002e8	e5933000	 ldr         r3, [r3]
  002ec	e3730001	 cmn         r3, #1
  002f0	0a000003	 beq         |$LN2@CreateMsgQ|

; 367  :         {
; 368  :             return TRUE;

  002f4	e3a03001	 mov         r3, #1
  002f8	e58d3014	 str         r3, [sp, #0x14]
  002fc	ea000005	 b           |$LN6@CreateMsgQ|

; 369  :         }
; 370  :         else

  00300	ea000002	 b           |$LN1@CreateMsgQ|
  00304		 |$LN2@CreateMsgQ|

; 371  :         {
; 372  :             CloseHandle(*pReader);

  00304	e59d3030	 ldr         r3, [sp, #0x30]
  00308	e5930000	 ldr         r0, [r3]
  0030c	eb000000	 bl          CloseHandle
  00310		 |$LN1@CreateMsgQ|
  00310		 |$LN3@CreateMsgQ|

; 373  :         }
; 374  :     }
; 375  :     return FALSE;

  00310	e3a03000	 mov         r3, #0
  00314	e58d3014	 str         r3, [sp, #0x14]
  00318		 |$LN6@CreateMsgQ|

; 376  : }

  00318	e59d0014	 ldr         r0, [sp, #0x14]
  0031c	e28dd024	 add         sp, sp, #0x24
  00320	e89d6000	 ldmia       sp, {sp, lr}
  00324	e12fff1e	 bx          lr
  00328		 |$M37733|

			 ENDP  ; |?CreateMsgQueuePair@@YAHPAGPAPAX1KKK@Z|, CreateMsgQueuePair

; File c:\wince600\public\common\sdk\inc\kfuncs.h

  00000			 AREA	 |.pdata|, PDATA
|$T37741| DCD	|$LN5@GetCurrent|
	DCD	0x40000601
; Function compile flags: /Odtp

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |GetCurrentProcess| PROC

; 361  : _inline HANDLE GetCurrentProcess(void) {

  00000		 |$LN5@GetCurrent|
  00000	e24dd004	 sub         sp, sp, #4
  00004		 |$M37738|

; 362  : 	return ((HANDLE)(SH_CURPROC+SYS_HANDLE_BASE));

  00004	e3a03042	 mov         r3, #0x42
  00008	e58d3000	 str         r3, [sp]

; 363  : }

  0000c	e59d0000	 ldr         r0, [sp]
  00010	e28dd004	 add         sp, sp, #4
  00014	e12fff1e	 bx          lr
  00018		 |$M37739|

			 ENDP  ; |GetCurrentProcess|

	EXPORT	|?CAN_Deinit@@YAHK@Z|			; CAN_Deinit
	EXPORT	|?CANInitHardware@@YAHPAX@Z|		; CANInitHardware
	EXPORT	|??_C@_1FI@FHGBJJHN@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAA?$AAN?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAR?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAP?$AAa@| [ DATA ] ; `string'
	EXPORT	|??_C@_1GE@HGJANIOP@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAA?$AAN?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAF?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?5?$AAi@| [ DATA ] ; `string'
	EXPORT	|?CANIntrThread@@YAKPAX@Z|		; CANIntrThread
	EXPORT	|??_C@_1GM@FKPCJNFC@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAA?$AAN?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAu?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AAi?$AAn?$AAi?$AAt?$AAi@| [ DATA ] ; `string'
	EXPORT	|??_C@_1FO@KICAGEOD@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAA?$AAN?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAu?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AAr?$AAe?$AAq?$AAu?$AAe@| [ DATA ] ; `string'
	EXPORT	|??_C@_1GC@OJPBJGKI@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAA?$AAN?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAF?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?5?$AAi@| [ DATA ] ; `string'
	EXPORT	|??_C@_1GM@NMDNLKNL@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAA?$AAN?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAF?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?5?$AAR@| [ DATA ] ; `string'
	EXPORT	|??_C@_1GC@KCHCGKNI@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAA?$AAN?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAu?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AAr?$AAe?$AAm?$AAa?$AAp@| [ DATA ] ; `string'
	EXPORT	|??_C@_1GA@NACPLDE@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAA?$AAN?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAu?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AAg?$AAe?$AAt?$AA?5?$AAt@| [ DATA ] ; `string'
	EXPORT	|??_C@_19JNEFLOBJ@?$AAI?$AAN?$AAT?$AA1?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_19CFPJNJHM@?$AAI?$AAN?$AAT?$AA0?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1FM@NBFADEJA@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAA?$AAN?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAu?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AAg?$AAe?$AAt?$AA?5?$AAb@| [ DATA ] ; `string'
	EXPORT	|??_C@_1JM@LAAPPLJP@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAA?$AAN?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAu?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AAg?$AAe?$AAt?$AA?5?$AAa@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EO@EAOCFHGI@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAA?$AAN?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAu?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AAo?$AAp?$AAe?$AAn?$AA?5@| [ DATA ] ; `string'
	EXPORT	|??_C@_1FG@CBCHDLAK@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAA?$AAN?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAs?$AAt?$AAr?$AAo?$AAb?$AAe?$AA?5?$AAw?$AAi?$AAt?$AAh?$AAo?$AAu?$AAt?$AA?5@| [ DATA ] ; `string'
	EXPORT	|??_C@_1GA@IJPAJNG@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAA?$AAN?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAE?$AAr?$AAr?$AAo?$AAr?$AA?5?$AAr?$AAe?$AAa?$AAd?$AAi?$AAn?$AAg?$AA?5?$AAf@| [ DATA ] ; `string'
	EXPORT	|?CAN_Init@@YAKPBGPBX@Z|		; CAN_Init
	IMPORT	|ResumeThread|
	IMPORT	|EnableDeviceClocks|
	IMPORT	|RequestDevicePads|
	IMPORT	|CeSetThreadPriority|
	IMPORT	|CreateThread|
	IMPORT	|InterruptInitialize|
	IMPORT	|KernelIoControl|
	IMPORT	|CreateEventW|
	IMPORT	|MmMapIoSpace|
	IMPORT	|InitializeCriticalSection|
	IMPORT	|GetIrqByDevice|
	IMPORT	|GetAddressByDevice|
	IMPORT	|SOCGetCANDevice|
	IMPORT	|GPIOSetMode|
	IMPORT	|GPIOOpen|
	IMPORT	|NKDbgPrintfW|
	IMPORT	|GetDeviceRegistryParams|
	IMPORT	|malloc|
	IMPORT	|memset|

  00028			 AREA	 |.pdata|, PDATA
|$T37784| DCD	|$LN71@CAN_Init|
	DCD	0x40023f04
; File c:\wince600\platform\common\src\soc\common_ti_v1\common_ti\hecc\omap_hecc.cpp

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FI@FHGBJJHN@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAA?$AAN?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAR?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAP?$AAa@| DCB "E"
	DCB	0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, ":", 0x0, " "
	DCB	0x0, "C", 0x0, "A", 0x0, "N", 0x0, "_", 0x0, "I", 0x0, "n"
	DCB	0x0, "i", 0x0, "t", 0x0, ":", 0x0, " ", 0x0, "R", 0x0, "e"
	DCB	0x0, "q", 0x0, "u", 0x0, "e", 0x0, "s", 0x0, "t", 0x0, "D"
	DCB	0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0, "P"
	DCB	0x0, "a", 0x0, "d", 0x0, "s", 0x0, " ", 0x0, "f", 0x0, "a"
	DCB	0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1GE@HGJANIOP@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAA?$AAN?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAF?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?5?$AAi@| DCB "E"
	DCB	0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, ":", 0x0, " "
	DCB	0x0, "C", 0x0, "A", 0x0, "N", 0x0, "_", 0x0, "I", 0x0, "n"
	DCB	0x0, "i", 0x0, "t", 0x0, ":", 0x0, " ", 0x0, "F", 0x0, "a"
	DCB	0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d", 0x0, " ", 0x0, "c"
	DCB	0x0, "r", 0x0, "e", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, " "
	DCB	0x0, "i", 0x0, "n", 0x0, "t", 0x0, "e", 0x0, "r", 0x0, "r"
	DCB	0x0, "u", 0x0, "p", 0x0, "t", 0x0, " ", 0x0, "t", 0x0, "h"
	DCB	0x0, "r", 0x0, "e", 0x0, "a", 0x0, "d", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1GM@FKPCJNFC@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAA?$AAN?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAu?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AAi?$AAn?$AAi?$AAt?$AAi@| DCB "E"
	DCB	0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, ":", 0x0, " "
	DCB	0x0, "C", 0x0, "A", 0x0, "N", 0x0, "_", 0x0, "I", 0x0, "n"
	DCB	0x0, "i", 0x0, "t", 0x0, ":", 0x0, " ", 0x0, "u", 0x0, "n"
	DCB	0x0, "a", 0x0, "b", 0x0, "l", 0x0, "e", 0x0, " ", 0x0, "t"
	DCB	0x0, "o", 0x0, " ", 0x0, "i", 0x0, "n", 0x0, "i", 0x0, "t"
	DCB	0x0, "i", 0x0, "a", 0x0, "l", 0x0, "i", 0x0, "z", 0x0, "e"
	DCB	0x0, " ", 0x0, "t", 0x0, "h", 0x0, "e", 0x0, " ", 0x0, "i"
	DCB	0x0, "n", 0x0, "t", 0x0, "e", 0x0, "r", 0x0, "r", 0x0, "u"
	DCB	0x0, "p", 0x0, "t", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FO@KICAGEOD@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAA?$AAN?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAu?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AAr?$AAe?$AAq?$AAu?$AAe@| DCB "E"
	DCB	0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, ":", 0x0, " "
	DCB	0x0, "C", 0x0, "A", 0x0, "N", 0x0, "_", 0x0, "I", 0x0, "n"
	DCB	0x0, "i", 0x0, "t", 0x0, ":", 0x0, " ", 0x0, "u", 0x0, "n"
	DCB	0x0, "a", 0x0, "b", 0x0, "l", 0x0, "e", 0x0, " ", 0x0, "t"
	DCB	0x0, "o", 0x0, " ", 0x0, "r", 0x0, "e", 0x0, "q", 0x0, "u"
	DCB	0x0, "e", 0x0, "s", 0x0, "t", 0x0, " ", 0x0, "a", 0x0, " "
	DCB	0x0, "S", 0x0, "Y", 0x0, "S", 0x0, "I", 0x0, "N", 0x0, "T"
	DCB	0x0, "R", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1GC@OJPBJGKI@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAA?$AAN?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAF?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?5?$AAi@| DCB "E"
	DCB	0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, ":", 0x0, " "
	DCB	0x0, "C", 0x0, "A", 0x0, "N", 0x0, "_", 0x0, "I", 0x0, "n"
	DCB	0x0, "i", 0x0, "t", 0x0, ":", 0x0, " ", 0x0, "F", 0x0, "a"
	DCB	0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d", 0x0, " ", 0x0, "c"
	DCB	0x0, "r", 0x0, "e", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, " "
	DCB	0x0, "i", 0x0, "n", 0x0, "t", 0x0, "e", 0x0, "r", 0x0, "r"
	DCB	0x0, "u", 0x0, "p", 0x0, "t", 0x0, " ", 0x0, "e", 0x0, "v"
	DCB	0x0, "e", 0x0, "n", 0x0, "t", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1GM@NMDNLKNL@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAA?$AAN?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAF?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?5?$AAR@| DCB "E"
	DCB	0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, ":", 0x0, " "
	DCB	0x0, "C", 0x0, "A", 0x0, "N", 0x0, "_", 0x0, "I", 0x0, "n"
	DCB	0x0, "i", 0x0, "t", 0x0, ":", 0x0, " ", 0x0, "F", 0x0, "a"
	DCB	0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d", 0x0, " ", 0x0, "c"
	DCB	0x0, "r", 0x0, "e", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, " "
	DCB	0x0, "R", 0x0, "e", 0x0, "m", 0x0, "o", 0x0, "t", 0x0, "e"
	DCB	0x0, " ", 0x0, "R", 0x0, "e", 0x0, "q", 0x0, "u", 0x0, "e"
	DCB	0x0, "s", 0x0, "t", 0x0, " ", 0x0, "e", 0x0, "v", 0x0, "e"
	DCB	0x0, "n", 0x0, "t", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1GC@KCHCGKNI@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAA?$AAN?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAu?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AAr?$AAe?$AAm?$AAa?$AAp@| DCB "E"
	DCB	0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, ":", 0x0, " "
	DCB	0x0, "C", 0x0, "A", 0x0, "N", 0x0, "_", 0x0, "I", 0x0, "n"
	DCB	0x0, "i", 0x0, "t", 0x0, ":", 0x0, " ", 0x0, "u", 0x0, "n"
	DCB	0x0, "a", 0x0, "b", 0x0, "l", 0x0, "e", 0x0, " ", 0x0, "t"
	DCB	0x0, "o", 0x0, " ", 0x0, "r", 0x0, "e", 0x0, "m", 0x0, "a"
	DCB	0x0, "p", 0x0, " ", 0x0, "t", 0x0, "h", 0x0, "e", 0x0, " "
	DCB	0x0, "r", 0x0, "e", 0x0, "g", 0x0, "i", 0x0, "s", 0x0, "t"
	DCB	0x0, "e", 0x0, "r", 0x0, "s", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1GA@NACPLDE@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAA?$AAN?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAu?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AAg?$AAe?$AAt?$AA?5?$AAt@| DCB "E"
	DCB	0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, ":", 0x0, " "
	DCB	0x0, "C", 0x0, "A", 0x0, "N", 0x0, "_", 0x0, "I", 0x0, "n"
	DCB	0x0, "i", 0x0, "t", 0x0, ":", 0x0, " ", 0x0, "u", 0x0, "n"
	DCB	0x0, "a", 0x0, "b", 0x0, "l", 0x0, "e", 0x0, " ", 0x0, "t"
	DCB	0x0, "o", 0x0, " ", 0x0, "g", 0x0, "e", 0x0, "t", 0x0, " "
	DCB	0x0, "t", 0x0, "h", 0x0, "e", 0x0, " ", 0x0, "i", 0x0, "n"
	DCB	0x0, "t", 0x0, "e", 0x0, "r", 0x0, "r", 0x0, "u", 0x0, "p"
	DCB	0x0, "t", 0x0, "s", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_19JNEFLOBJ@?$AAI?$AAN?$AAT?$AA1?$AA?$AA@| DCB "I", 0x0, "N", 0x0, "T"
	DCB	0x0, "1", 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_19CFPJNJHM@?$AAI?$AAN?$AAT?$AA0?$AA?$AA@| DCB "I", 0x0, "N", 0x0, "T"
	DCB	0x0, "0", 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FM@NBFADEJA@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAA?$AAN?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAu?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AAg?$AAe?$AAt?$AA?5?$AAb@| DCB "E"
	DCB	0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, ":", 0x0, " "
	DCB	0x0, "C", 0x0, "A", 0x0, "N", 0x0, "_", 0x0, "I", 0x0, "n"
	DCB	0x0, "i", 0x0, "t", 0x0, ":", 0x0, " ", 0x0, "u", 0x0, "n"
	DCB	0x0, "a", 0x0, "b", 0x0, "l", 0x0, "e", 0x0, " ", 0x0, "t"
	DCB	0x0, "o", 0x0, " ", 0x0, "g", 0x0, "e", 0x0, "t", 0x0, " "
	DCB	0x0, "b", 0x0, "a", 0x0, "s", 0x0, "e", 0x0, " ", 0x0, "a"
	DCB	0x0, "d", 0x0, "d", 0x0, "r", 0x0, "e", 0x0, "s", 0x0, "s"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1JM@LAAPPLJP@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAA?$AAN?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAu?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AAg?$AAe?$AAt?$AA?5?$AAa@| DCB "E"
	DCB	0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, ":", 0x0, " "
	DCB	0x0, "C", 0x0, "A", 0x0, "N", 0x0, "_", 0x0, "I", 0x0, "n"
	DCB	0x0, "i", 0x0, "t", 0x0, ":", 0x0, " ", 0x0, "u", 0x0, "n"
	DCB	0x0, "a", 0x0, "b", 0x0, "l", 0x0, "e", 0x0, " ", 0x0, "t"
	DCB	0x0, "o", 0x0, " ", 0x0, "g", 0x0, "e", 0x0, "t", 0x0, " "
	DCB	0x0, "a", 0x0, "s", 0x0, "s", 0x0, "o", 0x0, "c", 0x0, "i"
	DCB	0x0, "a", 0x0, "t", 0x0, "e", 0x0, "d", 0x0, " ", 0x0, "D"
	DCB	0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0, " "
	DCB	0x0, "(", 0x0, "c", 0x0, "h", 0x0, "e", 0x0, "c", 0x0, "k"
	DCB	0x0, " ", 0x0, "t", 0x0, "h", 0x0, "e", 0x0, " ", 0x0, "C"
	DCB	0x0, "A", 0x0, "N", 0x0, " ", 0x0, "C", 0x0, "T", 0x0, "R"
	DCB	0x0, "L", 0x0, " ", 0x0, "i", 0x0, "n", 0x0, "d", 0x0, "e"
	DCB	0x0, "x", 0x0, ")", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EO@EAOCFHGI@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAA?$AAN?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAu?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AAo?$AAp?$AAe?$AAn?$AA?5@| DCB "E"
	DCB	0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, ":", 0x0, " "
	DCB	0x0, "C", 0x0, "A", 0x0, "N", 0x0, "_", 0x0, "I", 0x0, "n"
	DCB	0x0, "i", 0x0, "t", 0x0, ":", 0x0, " ", 0x0, "u", 0x0, "n"
	DCB	0x0, "a", 0x0, "b", 0x0, "l", 0x0, "e", 0x0, " ", 0x0, "t"
	DCB	0x0, "o", 0x0, " ", 0x0, "o", 0x0, "p", 0x0, "e", 0x0, "n"
	DCB	0x0, " ", 0x0, "G", 0x0, "P", 0x0, "I", 0x0, "O", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FG@CBCHDLAK@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAA?$AAN?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAs?$AAt?$AAr?$AAo?$AAb?$AAe?$AA?5?$AAw?$AAi?$AAt?$AAh?$AAo?$AAu?$AAt?$AA?5@| DCB "E"
	DCB	0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, ":", 0x0, " "
	DCB	0x0, "C", 0x0, "A", 0x0, "N", 0x0, "_", 0x0, "I", 0x0, "n"
	DCB	0x0, "i", 0x0, "t", 0x0, ":", 0x0, " ", 0x0, "s", 0x0, "t"
	DCB	0x0, "r", 0x0, "o", 0x0, "b", 0x0, "e", 0x0, " ", 0x0, "w"
	DCB	0x0, "i", 0x0, "t", 0x0, "h", 0x0, "o", 0x0, "u", 0x0, "t"
	DCB	0x0, " ", 0x0, "p", 0x0, "o", 0x0, "l", 0x0, "a", 0x0, "r"
	DCB	0x0, "i", 0x0, "t", 0x0, "y", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1GA@IJPAJNG@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAA?$AAN?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAE?$AAr?$AAr?$AAo?$AAr?$AA?5?$AAr?$AAe?$AAa?$AAd?$AAi?$AAn?$AAg?$AA?5?$AAf@| DCB "E"
	DCB	0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, ":", 0x0, " "
	DCB	0x0, "C", 0x0, "A", 0x0, "N", 0x0, "_", 0x0, "I", 0x0, "n"
	DCB	0x0, "i", 0x0, "t", 0x0, ":", 0x0, " ", 0x0, "E", 0x0, "r"
	DCB	0x0, "r", 0x0, "o", 0x0, "r", 0x0, " ", 0x0, "r", 0x0, "e"
	DCB	0x0, "a", 0x0, "d", 0x0, "i", 0x0, "n", 0x0, "g", 0x0, " "
	DCB	0x0, "f", 0x0, "r", 0x0, "o", 0x0, "m", 0x0, " ", 0x0, "R"
	DCB	0x0, "e", 0x0, "g", 0x0, "i", 0x0, "s", 0x0, "t", 0x0, "r"
	DCB	0x0, "y", 0x0, ".", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Odtp

  00328			 AREA	 |.text|, CODE, ARM

  00328		 |?CAN_Init@@YAKPBGPBX@Z| PROC		; CAN_Init

; 388  : {

  00328		 |$LN71@CAN_Init|
  00328	e1a0c00d	 mov         r12, sp
  0032c	e92d0003	 stmdb       sp!, {r0, r1}
  00330	e92d5000	 stmdb       sp!, {r12, lr}
  00334	e24dd0d0	 sub         sp, sp, #0xD0
  00338		 |$M37781|

; 389  :     DWORD rc = (DWORD)NULL;    

  00338	e3a03000	 mov         r3, #0
  0033c	e58d300c	 str         r3, [sp, #0xC]

; 390  :     DWORD irq[4];
; 391  :     PHYSICAL_ADDRESS pa;    
; 392  :     T_CAN_DEVICE* pDevice = (T_CAN_DEVICE*) malloc(sizeof(T_CAN_DEVICE));

  00340	e3a000e0	 mov         r0, #0xE0
  00344	eb000000	 bl          malloc
  00348	e58d0054	 str         r0, [sp, #0x54]
  0034c	e59d3054	 ldr         r3, [sp, #0x54]
  00350	e58d3008	 str         r3, [sp, #8]

; 393  : 
; 394  :     UNREFERENCED_PARAMETER(pBusContext);
; 395  : 
; 396  :     irq[0] = (DWORD) -1;

  00354	e3e03000	 mvn         r3, #0
  00358	e58d3010	 str         r3, [sp, #0x10]

; 397  :     irq[1] = OAL_INTR_STATIC;

  0035c	e3a03002	 mov         r3, #2
  00360	e58d3014	 str         r3, [sp, #0x14]

; 398  : 
; 399  :     if (pDevice==NULL) return 0;

  00364	e59d3008	 ldr         r3, [sp, #8]
  00368	e3530000	 cmp         r3, #0
  0036c	1a000002	 bne         |$LN40@CAN_Init|
  00370	e3a03000	 mov         r3, #0
  00374	e58d3030	 str         r3, [sp, #0x30]
  00378	ea000212	 b           |$LN41@CAN_Init|
  0037c		 |$LN40@CAN_Init|

; 400  :     memset(pDevice,0,sizeof(T_CAN_DEVICE));

  0037c	e3a020e0	 mov         r2, #0xE0
  00380	e3a01000	 mov         r1, #0
  00384	e59d0008	 ldr         r0, [sp, #8]
  00388	eb000000	 bl          memset

; 401  :     pDevice->dwSysintr = (DWORD) SYSINTR_UNDEFINED;

  0038c	e59d2008	 ldr         r2, [sp, #8]
  00390	e3e03000	 mvn         r3, #0
  00394	e5823000	 str         r3, [r2]

; 402  :     
; 403  :     
; 404  : 
; 405  :     // Read parameters from registry
; 406  :     if (GetDeviceRegistryParams(
; 407  :         szContext, 
; 408  :         pDevice, 
; 409  :         dimof(s_deviceRegParams), 
; 410  :         s_deviceRegParams) != ERROR_SUCCESS)

  00398	e59f3880	 ldr         r3, [pc, #0x880]
  0039c	e3a02009	 mov         r2, #9
  003a0	e59d1008	 ldr         r1, [sp, #8]
  003a4	e59d00d8	 ldr         r0, [sp, #0xD8]
  003a8	eb000000	 bl          GetDeviceRegistryParams
  003ac	e58d0058	 str         r0, [sp, #0x58]
  003b0	e59d3058	 ldr         r3, [sp, #0x58]
  003b4	e3530000	 cmp         r3, #0
  003b8	0a00000c	 beq         |$LN39@CAN_Init|

; 411  :     {
; 412  :         DEBUGMSG(ZONE_ERROR, (TEXT("ERROR: CAN_Init: Error reading from Registry.\r\n")));

  003bc	e59f3818	 ldr         r3, [pc, #0x818]
  003c0	e5933440	 ldr         r3, [r3, #0x440]
  003c4	e3130001	 tst         r3, #1
  003c8	0a000004	 beq         |$LN43@CAN_Init|
  003cc	e59f0848	 ldr         r0, [pc, #0x848]
  003d0	eb000000	 bl          NKDbgPrintfW
  003d4	e3a03001	 mov         r3, #1
  003d8	e58d305c	 str         r3, [sp, #0x5C]
  003dc	ea000001	 b           |$LN44@CAN_Init|
  003e0		 |$LN43@CAN_Init|
  003e0	e3a03000	 mov         r3, #0
  003e4	e58d305c	 str         r3, [sp, #0x5C]
  003e8		 |$LN44@CAN_Init|

; 413  :         goto cleanUp;

  003e8	ea0001ef	 b           |$LN38@CAN_Init|
  003ec	ea0001ee	 b           |$cleanUp$36785|
  003f0		 |$LN39@CAN_Init|

; 414  :     }
; 415  : 
; 416  :     if (pDevice->StrobePin != (DWORD) -1)

  003f0	e59d3008	 ldr         r3, [sp, #8]
  003f4	e2833018	 add         r3, r3, #0x18
  003f8	e5933000	 ldr         r3, [r3]
  003fc	e3730001	 cmn         r3, #1
  00400	0a000034	 beq         |$LN37@CAN_Init|

; 417  :     {
; 418  :         if (pDevice->StrobePinPolarity == (DWORD) -1)

  00404	e59d3008	 ldr         r3, [sp, #8]
  00408	e283301c	 add         r3, r3, #0x1C
  0040c	e5933000	 ldr         r3, [r3]
  00410	e3730001	 cmn         r3, #1
  00414	1a00000c	 bne         |$LN36@CAN_Init|

; 419  :         {
; 420  :             DEBUGMSG(ZONE_ERROR, (L"ERROR: CAN_Init: strobe without polarity\r\n"));

  00418	e59f37bc	 ldr         r3, [pc, #0x7BC]
  0041c	e5933440	 ldr         r3, [r3, #0x440]
  00420	e3130001	 tst         r3, #1
  00424	0a000004	 beq         |$LN45@CAN_Init|
  00428	e59f07e8	 ldr         r0, [pc, #0x7E8]
  0042c	eb000000	 bl          NKDbgPrintfW
  00430	e3a03001	 mov         r3, #1
  00434	e58d3060	 str         r3, [sp, #0x60]
  00438	ea000001	 b           |$LN46@CAN_Init|
  0043c		 |$LN45@CAN_Init|
  0043c	e3a03000	 mov         r3, #0
  00440	e58d3060	 str         r3, [sp, #0x60]
  00444		 |$LN46@CAN_Init|

; 421  :             goto cleanUp;

  00444	ea0001d8	 b           |$LN35@CAN_Init|
  00448	ea0001d7	 b           |$cleanUp$36785|
  0044c		 |$LN36@CAN_Init|

; 422  :         }
; 423  :         pDevice->hGpio = GPIOOpen();

  0044c	eb000000	 bl          GPIOOpen
  00450	e58d0064	 str         r0, [sp, #0x64]
  00454	e59d3008	 ldr         r3, [sp, #8]
  00458	e2832024	 add         r2, r3, #0x24
  0045c	e59d3064	 ldr         r3, [sp, #0x64]
  00460	e5823000	 str         r3, [r2]

; 424  :         if (pDevice->hGpio == NULL)

  00464	e59d3008	 ldr         r3, [sp, #8]
  00468	e2833024	 add         r3, r3, #0x24
  0046c	e5933000	 ldr         r3, [r3]
  00470	e3530000	 cmp         r3, #0
  00474	1a00000c	 bne         |$LN34@CAN_Init|

; 425  :         {
; 426  :             DEBUGMSG(ZONE_ERROR, (L"ERROR: CAN_Init: unable to open GPIO\r\n"));

  00478	e59f375c	 ldr         r3, [pc, #0x75C]
  0047c	e5933440	 ldr         r3, [r3, #0x440]
  00480	e3130001	 tst         r3, #1
  00484	0a000004	 beq         |$LN47@CAN_Init|
  00488	e59f0784	 ldr         r0, [pc, #0x784]
  0048c	eb000000	 bl          NKDbgPrintfW
  00490	e3a03001	 mov         r3, #1
  00494	e58d3068	 str         r3, [sp, #0x68]
  00498	ea000001	 b           |$LN48@CAN_Init|
  0049c		 |$LN47@CAN_Init|
  0049c	e3a03000	 mov         r3, #0
  004a0	e58d3068	 str         r3, [sp, #0x68]
  004a4		 |$LN48@CAN_Init|

; 427  :             goto cleanUp;

  004a4	ea0001c0	 b           |$LN33@CAN_Init|
  004a8	ea0001bf	 b           |$cleanUp$36785|
  004ac		 |$LN34@CAN_Init|

; 428  :         }
; 429  :         StrobeActive(pDevice,FALSE);

  004ac	e3a01000	 mov         r1, #0
  004b0	e59d0008	 ldr         r0, [sp, #8]
  004b4	eb000000	 bl          |?StrobeActive@@YAXPAUT_CAN_DEVICE@@H@Z|

; 430  :         GPIOSetMode(pDevice->hGpio,pDevice->StrobePin,GPIO_DIR_OUTPUT);

  004b8	e3a02000	 mov         r2, #0
  004bc	e59d3008	 ldr         r3, [sp, #8]
  004c0	e2833018	 add         r3, r3, #0x18
  004c4	e5931000	 ldr         r1, [r3]
  004c8	e59d3008	 ldr         r3, [sp, #8]
  004cc	e2833024	 add         r3, r3, #0x24
  004d0	e5930000	 ldr         r0, [r3]
  004d4	eb000000	 bl          GPIOSetMode
  004d8		 |$LN37@CAN_Init|

; 431  :     }
; 432  : 
; 433  :     if (CreateMsgQueuePair(NULL,&pDevice->RxMsgQ[MSQ_READER],&pDevice->RxMsgQ[MSQ_WRITER],
; 434  :         pDevice->canStatus.maxRxMsg,sizeof(CAN_MESSAGE),MSGQUEUE_ALLOW_BROKEN) == FALSE)

  004d8	e3a03002	 mov         r3, #2
  004dc	e58d3004	 str         r3, [sp, #4]
  004e0	e3a03010	 mov         r3, #0x10
  004e4	e58d3000	 str         r3, [sp]
  004e8	e59d3008	 ldr         r3, [sp, #8]
  004ec	e283307c	 add         r3, r3, #0x7C
  004f0	e5933000	 ldr         r3, [r3]
  004f4	e59d2008	 ldr         r2, [sp, #8]
  004f8	e282205c	 add         r2, r2, #0x5C
  004fc	e59d1008	 ldr         r1, [sp, #8]
  00500	e2811058	 add         r1, r1, #0x58
  00504	e3a00000	 mov         r0, #0
  00508	eb000000	 bl          |?CreateMsgQueuePair@@YAHPAGPAPAX1KKK@Z|
  0050c	e58d006c	 str         r0, [sp, #0x6C]
  00510	e59d306c	 ldr         r3, [sp, #0x6C]
  00514	e3530000	 cmp         r3, #0
  00518	1a000001	 bne         |$LN32@CAN_Init|
  0051c	ea0001a2	 b           |$LN31@CAN_Init|

; 435  :     {
; 436  :         goto cleanUp;

  00520	ea0001a1	 b           |$cleanUp$36785|
  00524		 |$LN32@CAN_Init|

; 437  :     }
; 438  :     for (int i=0;i<NB_TX_PRIORITIES;i++)

  00524	e3a03000	 mov         r3, #0
  00528	e58d3028	 str         r3, [sp, #0x28]
  0052c	ea000002	 b           |$LN30@CAN_Init|
  00530		 |$LN29@CAN_Init|
  00530	e59d3028	 ldr         r3, [sp, #0x28]
  00534	e2833001	 add         r3, r3, #1
  00538	e58d3028	 str         r3, [sp, #0x28]
  0053c		 |$LN30@CAN_Init|
  0053c	e59d3028	 ldr         r3, [sp, #0x28]
  00540	e3530003	 cmp         r3, #3
  00544	aa000020	 bge         |$LN28@CAN_Init|

; 439  :     {
; 440  :         if (CreateMsgQueuePair(NULL,&pDevice->TxMsgQ[i][MSQ_READER],&pDevice->TxMsgQ[i][MSQ_WRITER],
; 441  :             pDevice->canStatus.maxTxMsg[i],sizeof(CAN_MESSAGE),MSGQUEUE_ALLOW_BROKEN) == FALSE)

  00548	e3a03002	 mov         r3, #2
  0054c	e58d3004	 str         r3, [sp, #4]
  00550	e3a03010	 mov         r3, #0x10
  00554	e58d3000	 str         r3, [sp]
  00558	e59d3008	 ldr         r3, [sp, #8]
  0055c	e283108c	 add         r1, r3, #0x8C
  00560	e59d2028	 ldr         r2, [sp, #0x28]
  00564	e3a03004	 mov         r3, #4
  00568	e0030392	 mul         r3, r2, r3
  0056c	e0813003	 add         r3, r1, r3
  00570	e5933000	 ldr         r3, [r3]
  00574	e59d2008	 ldr         r2, [sp, #8]
  00578	e2820060	 add         r0, r2, #0x60
  0057c	e59d1028	 ldr         r1, [sp, #0x28]
  00580	e3a02008	 mov         r2, #8
  00584	e0020291	 mul         r2, r1, r2
  00588	e0802002	 add         r2, r0, r2
  0058c	e2822004	 add         r2, r2, #4
  00590	e59d1008	 ldr         r1, [sp, #8]
  00594	e281e060	 add         lr, r1, #0x60
  00598	e59d0028	 ldr         r0, [sp, #0x28]
  0059c	e3a01008	 mov         r1, #8
  005a0	e0010190	 mul         r1, r0, r1
  005a4	e08e1001	 add         r1, lr, r1
  005a8	e3a00000	 mov         r0, #0
  005ac	eb000000	 bl          |?CreateMsgQueuePair@@YAHPAGPAPAX1KKK@Z|
  005b0	e58d0070	 str         r0, [sp, #0x70]
  005b4	e59d3070	 ldr         r3, [sp, #0x70]
  005b8	e3530000	 cmp         r3, #0
  005bc	1a000001	 bne         |$LN27@CAN_Init|
  005c0	ea000179	 b           |$LN26@CAN_Init|

; 442  :         {
; 443  :             goto cleanUp;

  005c4	ea000178	 b           |$cleanUp$36785|
  005c8		 |$LN27@CAN_Init|

; 444  :         }
; 445  :     }

  005c8	eaffffd8	 b           |$LN29@CAN_Init|
  005cc		 |$LN28@CAN_Init|

; 446  : 
; 447  :     pDevice->device = SOCGetCANDevice(pDevice->CanCtrlIndex);

  005cc	e59d3008	 ldr         r3, [sp, #8]
  005d0	e2833014	 add         r3, r3, #0x14
  005d4	e5930000	 ldr         r0, [r3]
  005d8	eb000000	 bl          SOCGetCANDevice
  005dc	e58d0074	 str         r0, [sp, #0x74]
  005e0	e59d3008	 ldr         r3, [sp, #8]
  005e4	e2832028	 add         r2, r3, #0x28
  005e8	e59d3074	 ldr         r3, [sp, #0x74]
  005ec	e5823000	 str         r3, [r2]

; 448  :     if (pDevice->device == OMAP_DEVICE_NONE)

  005f0	e59d3008	 ldr         r3, [sp, #8]
  005f4	e2833028	 add         r3, r3, #0x28
  005f8	e5933000	 ldr         r3, [r3]
  005fc	e3730001	 cmn         r3, #1
  00600	1a00000c	 bne         |$LN25@CAN_Init|

; 449  :     {
; 450  :         DEBUGMSG(ZONE_ERROR, (L"ERROR: CAN_Init: unable to get associated Device (check the CAN CTRL index)\r\n"));

  00604	e59f35d0	 ldr         r3, [pc, #0x5D0]
  00608	e5933440	 ldr         r3, [r3, #0x440]
  0060c	e3130001	 tst         r3, #1
  00610	0a000004	 beq         |$LN49@CAN_Init|
  00614	e59f05f4	 ldr         r0, [pc, #0x5F4]
  00618	eb000000	 bl          NKDbgPrintfW
  0061c	e3a03001	 mov         r3, #1
  00620	e58d3078	 str         r3, [sp, #0x78]
  00624	ea000001	 b           |$LN50@CAN_Init|
  00628		 |$LN49@CAN_Init|
  00628	e3a03000	 mov         r3, #0
  0062c	e58d3078	 str         r3, [sp, #0x78]
  00630		 |$LN50@CAN_Init|

; 451  :         goto cleanUp;

  00630	ea00015d	 b           |$LN24@CAN_Init|
  00634	ea00015c	 b           |$cleanUp$36785|
  00638		 |$LN25@CAN_Init|

; 452  :     }
; 453  :     pa.QuadPart = GetAddressByDevice(pDevice->device);

  00638	e59d3008	 ldr         r3, [sp, #8]
  0063c	e2833028	 add         r3, r3, #0x28
  00640	e5930000	 ldr         r0, [r3]
  00644	eb000000	 bl          GetAddressByDevice
  00648	e58d007c	 str         r0, [sp, #0x7C]
  0064c	e59d307c	 ldr         r3, [sp, #0x7C]
  00650	e58d3020	 str         r3, [sp, #0x20]
  00654	e3a03000	 mov         r3, #0
  00658	e58d3024	 str         r3, [sp, #0x24]

; 454  :     if (pa.QuadPart == 0)

  0065c	e59d3020	 ldr         r3, [sp, #0x20]
  00660	e58d3080	 str         r3, [sp, #0x80]
  00664	e59d3024	 ldr         r3, [sp, #0x24]
  00668	e58d3084	 str         r3, [sp, #0x84]
  0066c	e59d2084	 ldr         r2, [sp, #0x84]
  00670	e59d3080	 ldr         r3, [sp, #0x80]
  00674	e1933002	 orrs        r3, r3, r2
  00678	1a00000c	 bne         |$LN23@CAN_Init|

; 455  :     {
; 456  :         DEBUGMSG(ZONE_ERROR, (L"ERROR: CAN_Init: unable to get base address\r\n"));

  0067c	e59f3558	 ldr         r3, [pc, #0x558]
  00680	e5933440	 ldr         r3, [r3, #0x440]
  00684	e3130001	 tst         r3, #1
  00688	0a000004	 beq         |$LN51@CAN_Init|
  0068c	e59f0578	 ldr         r0, [pc, #0x578]
  00690	eb000000	 bl          NKDbgPrintfW
  00694	e3a03001	 mov         r3, #1
  00698	e58d3088	 str         r3, [sp, #0x88]
  0069c	ea000001	 b           |$LN52@CAN_Init|
  006a0		 |$LN51@CAN_Init|
  006a0	e3a03000	 mov         r3, #0
  006a4	e58d3088	 str         r3, [sp, #0x88]
  006a8		 |$LN52@CAN_Init|

; 457  :         goto cleanUp;

  006a8	ea00013f	 b           |$LN22@CAN_Init|
  006ac	ea00013e	 b           |$cleanUp$36785|
  006b0		 |$LN23@CAN_Init|

; 458  :     }
; 459  : 
; 460  :     irq[2] = GetIrqByDevice(pDevice->device,L"INT0");

  006b0	e59f1550	 ldr         r1, [pc, #0x550]
  006b4	e59d3008	 ldr         r3, [sp, #8]
  006b8	e2833028	 add         r3, r3, #0x28
  006bc	e5930000	 ldr         r0, [r3]
  006c0	eb000000	 bl          GetIrqByDevice
  006c4	e58d008c	 str         r0, [sp, #0x8C]
  006c8	e59d308c	 ldr         r3, [sp, #0x8C]
  006cc	e58d3018	 str         r3, [sp, #0x18]

; 461  :     irq[3] = GetIrqByDevice(pDevice->device,L"INT1");

  006d0	e59f152c	 ldr         r1, [pc, #0x52C]
  006d4	e59d3008	 ldr         r3, [sp, #8]
  006d8	e2833028	 add         r3, r3, #0x28
  006dc	e5930000	 ldr         r0, [r3]
  006e0	eb000000	 bl          GetIrqByDevice
  006e4	e58d0090	 str         r0, [sp, #0x90]
  006e8	e59d3090	 ldr         r3, [sp, #0x90]
  006ec	e58d301c	 str         r3, [sp, #0x1C]

; 462  :     if ((irq[2]==(DWORD)-1) || (irq[3]==(DWORD)-1))

  006f0	e59d3018	 ldr         r3, [sp, #0x18]
  006f4	e3730001	 cmn         r3, #1
  006f8	0a000002	 beq         |$LN20@CAN_Init|
  006fc	e59d301c	 ldr         r3, [sp, #0x1C]
  00700	e3730001	 cmn         r3, #1
  00704	1a00000c	 bne         |$LN21@CAN_Init|
  00708		 |$LN20@CAN_Init|

; 463  :     {
; 464  :         DEBUGMSG(ZONE_ERROR, (L"ERROR: CAN_Init: unable to get the interrupts\r\n"));

  00708	e59f34cc	 ldr         r3, [pc, #0x4CC]
  0070c	e5933440	 ldr         r3, [r3, #0x440]
  00710	e3130001	 tst         r3, #1
  00714	0a000004	 beq         |$LN53@CAN_Init|
  00718	e59f04e0	 ldr         r0, [pc, #0x4E0]
  0071c	eb000000	 bl          NKDbgPrintfW
  00720	e3a03001	 mov         r3, #1
  00724	e58d3094	 str         r3, [sp, #0x94]
  00728	ea000001	 b           |$LN54@CAN_Init|
  0072c		 |$LN53@CAN_Init|
  0072c	e3a03000	 mov         r3, #0
  00730	e58d3094	 str         r3, [sp, #0x94]
  00734		 |$LN54@CAN_Init|

; 465  :         goto cleanUp;

  00734	ea00011c	 b           |$LN19@CAN_Init|
  00738	ea00011b	 b           |$cleanUp$36785|
  0073c		 |$LN21@CAN_Init|

; 466  :     }
; 467  : 
; 468  :     InitializeCriticalSection(&pDevice->regcs);

  0073c	e59d3008	 ldr         r3, [sp, #8]
  00740	e2830030	 add         r0, r3, #0x30
  00744	eb000000	 bl          InitializeCriticalSection

; 469  :     InitializeCriticalSection(&pDevice->filterscs);

  00748	e59d3008	 ldr         r3, [sp, #8]
  0074c	e2830044	 add         r0, r3, #0x44
  00750	eb000000	 bl          InitializeCriticalSection

; 470  :     pDevice->pCanRegs = (OMAP_HECC_SCC_REGS*) MmMapIoSpace(pa,sizeof(OMAP_HECC_SCC_REGS),FALSE);

  00754	e3a03000	 mov         r3, #0
  00758	e3a02dc6	 mov         r2, #0xC6, 26
  0075c	e59d0020	 ldr         r0, [sp, #0x20]
  00760	e59d1024	 ldr         r1, [sp, #0x24]
  00764	eb000000	 bl          MmMapIoSpace
  00768	e58d0098	 str         r0, [sp, #0x98]
  0076c	e59d3008	 ldr         r3, [sp, #8]
  00770	e283202c	 add         r2, r3, #0x2C
  00774	e59d3098	 ldr         r3, [sp, #0x98]
  00778	e5823000	 str         r3, [r2]

; 471  :     if (pDevice->pCanRegs == NULL)

  0077c	e59d3008	 ldr         r3, [sp, #8]
  00780	e283302c	 add         r3, r3, #0x2C
  00784	e5933000	 ldr         r3, [r3]
  00788	e3530000	 cmp         r3, #0
  0078c	1a00000c	 bne         |$LN18@CAN_Init|

; 472  :     {
; 473  :         DEBUGMSG(ZONE_ERROR, (L"ERROR: CAN_Init: unable to remap the registers\r\n"));

  00790	e59f3444	 ldr         r3, [pc, #0x444]
  00794	e5933440	 ldr         r3, [r3, #0x440]
  00798	e3130001	 tst         r3, #1
  0079c	0a000004	 beq         |$LN55@CAN_Init|
  007a0	e59f0454	 ldr         r0, [pc, #0x454]
  007a4	eb000000	 bl          NKDbgPrintfW
  007a8	e3a03001	 mov         r3, #1
  007ac	e58d309c	 str         r3, [sp, #0x9C]
  007b0	ea000001	 b           |$LN56@CAN_Init|
  007b4		 |$LN55@CAN_Init|
  007b4	e3a03000	 mov         r3, #0
  007b8	e58d309c	 str         r3, [sp, #0x9C]
  007bc		 |$LN56@CAN_Init|

; 474  :         goto cleanUp;

  007bc	ea0000fa	 b           |$LN17@CAN_Init|
  007c0	ea0000f9	 b           |$cleanUp$36785|
  007c4		 |$LN18@CAN_Init|

; 475  :     }    
; 476  :     pDevice->hRTREvent = CreateEvent(NULL, FALSE, FALSE, NULL);

  007c4	e3a03000	 mov         r3, #0
  007c8	e3a02000	 mov         r2, #0
  007cc	e3a01000	 mov         r1, #0
  007d0	e3a00000	 mov         r0, #0
  007d4	eb000000	 bl          CreateEventW
  007d8	e58d00a0	 str         r0, [sp, #0xA0]
  007dc	e59d3008	 ldr         r3, [sp, #8]
  007e0	e28320d4	 add         r2, r3, #0xD4
  007e4	e59d30a0	 ldr         r3, [sp, #0xA0]
  007e8	e5823000	 str         r3, [r2]

; 477  :     if (pDevice->hRTREvent == NULL)

  007ec	e59d3008	 ldr         r3, [sp, #8]
  007f0	e28330d4	 add         r3, r3, #0xD4
  007f4	e5933000	 ldr         r3, [r3]
  007f8	e3530000	 cmp         r3, #0
  007fc	1a00000c	 bne         |$LN16@CAN_Init|

; 478  :     {
; 479  :         DEBUGMSG(ZONE_ERROR, (L"ERROR: CAN_Init: Failed create Remote Request event\r\n"));

  00800	e59f33d4	 ldr         r3, [pc, #0x3D4]
  00804	e5933440	 ldr         r3, [r3, #0x440]
  00808	e3130001	 tst         r3, #1
  0080c	0a000004	 beq         |$LN57@CAN_Init|
  00810	e59f03e0	 ldr         r0, [pc, #0x3E0]
  00814	eb000000	 bl          NKDbgPrintfW
  00818	e3a03001	 mov         r3, #1
  0081c	e58d30a4	 str         r3, [sp, #0xA4]
  00820	ea000001	 b           |$LN58@CAN_Init|
  00824		 |$LN57@CAN_Init|
  00824	e3a03000	 mov         r3, #0
  00828	e58d30a4	 str         r3, [sp, #0xA4]
  0082c		 |$LN58@CAN_Init|

; 480  :         goto cleanUp;

  0082c	ea0000de	 b           |$LN15@CAN_Init|
  00830	ea0000dd	 b           |$cleanUp$36785|
  00834		 |$LN16@CAN_Init|

; 481  :     }
; 482  : 
; 483  :     // Create interrupt event
; 484  :     pDevice->hIntrEvent = CreateEvent(NULL, FALSE, FALSE, NULL);

  00834	e3a03000	 mov         r3, #0
  00838	e3a02000	 mov         r2, #0
  0083c	e3a01000	 mov         r1, #0
  00840	e3a00000	 mov         r0, #0
  00844	eb000000	 bl          CreateEventW
  00848	e58d00a8	 str         r0, [sp, #0xA8]
  0084c	e59d3008	 ldr         r3, [sp, #8]
  00850	e2832004	 add         r2, r3, #4
  00854	e59d30a8	 ldr         r3, [sp, #0xA8]
  00858	e5823000	 str         r3, [r2]

; 485  :     if (pDevice->hIntrEvent == NULL)

  0085c	e59d3008	 ldr         r3, [sp, #8]
  00860	e2833004	 add         r3, r3, #4
  00864	e5933000	 ldr         r3, [r3]
  00868	e3530000	 cmp         r3, #0
  0086c	1a00000c	 bne         |$LN14@CAN_Init|

; 486  :     {
; 487  :         DEBUGMSG(ZONE_ERROR, (L"ERROR: CAN_Init: Failed create interrupt event\r\n"));

  00870	e59f3364	 ldr         r3, [pc, #0x364]
  00874	e5933440	 ldr         r3, [r3, #0x440]
  00878	e3130001	 tst         r3, #1
  0087c	0a000004	 beq         |$LN59@CAN_Init|
  00880	e59f036c	 ldr         r0, [pc, #0x36C]
  00884	eb000000	 bl          NKDbgPrintfW
  00888	e3a03001	 mov         r3, #1
  0088c	e58d30ac	 str         r3, [sp, #0xAC]
  00890	ea000001	 b           |$LN60@CAN_Init|
  00894		 |$LN59@CAN_Init|
  00894	e3a03000	 mov         r3, #0
  00898	e58d30ac	 str         r3, [sp, #0xAC]
  0089c		 |$LN60@CAN_Init|

; 488  :         goto cleanUp;

  0089c	ea0000c2	 b           |$LN13@CAN_Init|
  008a0	ea0000c1	 b           |$cleanUp$36785|
  008a4		 |$LN14@CAN_Init|

; 489  :     }
; 490  : 
; 491  :     if (KernelIoControl(IOCTL_HAL_REQUEST_SYSINTR,irq,sizeof(irq),&pDevice->dwSysintr,sizeof(pDevice->dwSysintr),NULL)== FALSE)

  008a4	e3a03000	 mov         r3, #0
  008a8	e58d3004	 str         r3, [sp, #4]
  008ac	e3a03004	 mov         r3, #4
  008b0	e58d3000	 str         r3, [sp]
  008b4	e59d3008	 ldr         r3, [sp, #8]
  008b8	e3a02010	 mov         r2, #0x10
  008bc	e28d1010	 add         r1, sp, #0x10
  008c0	e59f0328	 ldr         r0, [pc, #0x328]
  008c4	eb000000	 bl          KernelIoControl
  008c8	e58d00b0	 str         r0, [sp, #0xB0]
  008cc	e59d30b0	 ldr         r3, [sp, #0xB0]
  008d0	e3530000	 cmp         r3, #0
  008d4	1a00000c	 bne         |$LN12@CAN_Init|

; 492  :     {
; 493  :         DEBUGMSG(ZONE_ERROR, (L"ERROR: CAN_Init: unable to request a SYSINTR\r\n"));

  008d8	e59f32fc	 ldr         r3, [pc, #0x2FC]
  008dc	e5933440	 ldr         r3, [r3, #0x440]
  008e0	e3130001	 tst         r3, #1
  008e4	0a000004	 beq         |$LN61@CAN_Init|
  008e8	e59f02fc	 ldr         r0, [pc, #0x2FC]
  008ec	eb000000	 bl          NKDbgPrintfW
  008f0	e3a03001	 mov         r3, #1
  008f4	e58d30b4	 str         r3, [sp, #0xB4]
  008f8	ea000001	 b           |$LN62@CAN_Init|
  008fc		 |$LN61@CAN_Init|
  008fc	e3a03000	 mov         r3, #0
  00900	e58d30b4	 str         r3, [sp, #0xB4]
  00904		 |$LN62@CAN_Init|

; 494  :         goto cleanUp;

  00904	ea0000a8	 b           |$LN11@CAN_Init|
  00908	ea0000a7	 b           |$cleanUp$36785|
  0090c		 |$LN12@CAN_Init|

; 495  :     }
; 496  : 
; 497  : 
; 498  :     if (InterruptInitialize(pDevice->dwSysintr,pDevice->hIntrEvent,NULL,0)==FALSE)

  0090c	e3a03000	 mov         r3, #0
  00910	e3a02000	 mov         r2, #0
  00914	e59d1008	 ldr         r1, [sp, #8]
  00918	e2811004	 add         r1, r1, #4
  0091c	e5911000	 ldr         r1, [r1]
  00920	e59d0008	 ldr         r0, [sp, #8]
  00924	e5900000	 ldr         r0, [r0]
  00928	eb000000	 bl          InterruptInitialize
  0092c	e58d00b8	 str         r0, [sp, #0xB8]
  00930	e59d30b8	 ldr         r3, [sp, #0xB8]
  00934	e3530000	 cmp         r3, #0
  00938	1a00000c	 bne         |$LN10@CAN_Init|

; 499  :     {
; 500  :         DEBUGMSG(ZONE_ERROR, (L"ERROR: CAN_Init: unable to initialize the interrupt\r\n"));

  0093c	e59f3298	 ldr         r3, [pc, #0x298]
  00940	e5933440	 ldr         r3, [r3, #0x440]
  00944	e3130001	 tst         r3, #1
  00948	0a000004	 beq         |$LN63@CAN_Init|
  0094c	e59f0294	 ldr         r0, [pc, #0x294]
  00950	eb000000	 bl          NKDbgPrintfW
  00954	e3a03001	 mov         r3, #1
  00958	e58d30bc	 str         r3, [sp, #0xBC]
  0095c	ea000001	 b           |$LN64@CAN_Init|
  00960		 |$LN63@CAN_Init|
  00960	e3a03000	 mov         r3, #0
  00964	e58d30bc	 str         r3, [sp, #0xBC]
  00968		 |$LN64@CAN_Init|

; 501  :         goto cleanUp;

  00968	ea00008f	 b           |$LN9@CAN_Init|
  0096c	ea00008e	 b           |$cleanUp$36785|
  00970		 |$LN10@CAN_Init|

; 502  :     }
; 503  : 
; 504  :     pDevice->hIntrThread = CreateThread(NULL, 0, CANIntrThread, pDevice, CREATE_SUSPENDED, NULL);

  00970	e3a03000	 mov         r3, #0
  00974	e58d3004	 str         r3, [sp, #4]
  00978	e3a03004	 mov         r3, #4
  0097c	e58d3000	 str         r3, [sp]
  00980	e59d3008	 ldr         r3, [sp, #8]
  00984	e59f2258	 ldr         r2, [pc, #0x258]
  00988	e3a01000	 mov         r1, #0
  0098c	e3a00000	 mov         r0, #0
  00990	eb000000	 bl          CreateThread
  00994	e58d00c0	 str         r0, [sp, #0xC0]
  00998	e59d3008	 ldr         r3, [sp, #8]
  0099c	e2832008	 add         r2, r3, #8
  009a0	e59d30c0	 ldr         r3, [sp, #0xC0]
  009a4	e5823000	 str         r3, [r2]

; 505  :     if (!pDevice->hIntrThread)

  009a8	e59d3008	 ldr         r3, [sp, #8]
  009ac	e2833008	 add         r3, r3, #8
  009b0	e5933000	 ldr         r3, [r3]
  009b4	e3530000	 cmp         r3, #0
  009b8	1a00000c	 bne         |$LN8@CAN_Init|

; 506  :     {
; 507  :         DEBUGMSG (ZONE_ERROR, (L"ERROR: CAN_Init: Failed create interrupt thread\r\n"));

  009bc	e59f3218	 ldr         r3, [pc, #0x218]
  009c0	e5933440	 ldr         r3, [r3, #0x440]
  009c4	e3130001	 tst         r3, #1
  009c8	0a000004	 beq         |$LN65@CAN_Init|
  009cc	e59f020c	 ldr         r0, [pc, #0x20C]
  009d0	eb000000	 bl          NKDbgPrintfW
  009d4	e3a03001	 mov         r3, #1
  009d8	e58d30c4	 str         r3, [sp, #0xC4]
  009dc	ea000001	 b           |$LN66@CAN_Init|
  009e0		 |$LN65@CAN_Init|
  009e0	e3a03000	 mov         r3, #0
  009e4	e58d30c4	 str         r3, [sp, #0xC4]
  009e8		 |$LN66@CAN_Init|

; 508  :         goto cleanUp;

  009e8	ea00006f	 b           |$LN7@CAN_Init|
  009ec	ea00006e	 b           |$cleanUp$36785|
  009f0		 |$LN8@CAN_Init|

; 509  :     }          
; 510  :     CeSetThreadPriority(pDevice->hIntrThread,pDevice->ThreadPriority);

  009f0	e59d3008	 ldr         r3, [sp, #8]
  009f4	e2833010	 add         r3, r3, #0x10
  009f8	e5931000	 ldr         r1, [r3]
  009fc	e59d3008	 ldr         r3, [sp, #8]
  00a00	e2833008	 add         r3, r3, #8
  00a04	e5930000	 ldr         r0, [r3]
  00a08	eb000000	 bl          CeSetThreadPriority

; 511  : 
; 512  :     pDevice->canStatus.BusState = ERROR_ACTIVE;

  00a0c	e59d3008	 ldr         r3, [sp, #8]
  00a10	e2832098	 add         r2, r3, #0x98
  00a14	e3a03000	 mov         r3, #0
  00a18	e5823000	 str         r3, [r2]

; 513  :     pDevice->canStatus.CtrlState = STOPPED;

  00a1c	e59d3008	 ldr         r3, [sp, #8]
  00a20	e283209c	 add         r2, r3, #0x9C
  00a24	e3a03000	 mov         r3, #0
  00a28	e5823000	 str         r3, [r2]

; 514  :     
; 515  :     pDevice->FreeMailboxMask = (DWORD) (((UINT64)1<<NB_MAILBOXES)-1);

  00a2c	e59d3008	 ldr         r3, [sp, #8]
  00a30	e28320c4	 add         r2, r3, #0xC4
  00a34	e3e03000	 mvn         r3, #0
  00a38	e5823000	 str         r3, [r2]

; 516  :     pDevice->TxMailBoxMask = 0;

  00a3c	e59d3008	 ldr         r3, [sp, #8]
  00a40	e28320c0	 add         r2, r3, #0xC0
  00a44	e3a03000	 mov         r3, #0
  00a48	e5823000	 str         r3, [r2]

; 517  :     pDevice->RxMailboxMask = 0;

  00a4c	e59d3008	 ldr         r3, [sp, #8]
  00a50	e28320c8	 add         r2, r3, #0xC8
  00a54	e3a03000	 mov         r3, #0
  00a58	e5823000	 str         r3, [r2]

; 518  :     pDevice->AutoAnswerMask = 0;

  00a5c	e59d3008	 ldr         r3, [sp, #8]
  00a60	e28320cc	 add         r2, r3, #0xCC
  00a64	e3a03000	 mov         r3, #0
  00a68	e5823000	 str         r3, [r2]

; 519  :     pDevice->RemoteRequestMask = 0;

  00a6c	e59d3008	 ldr         r3, [sp, #8]
  00a70	e28320d0	 add         r2, r3, #0xD0
  00a74	e3a03000	 mov         r3, #0
  00a78	e5823000	 str         r3, [r2]

; 520  :     for (int TxMailBox=FIRST_TX_MAILBOX;TxMailBox<=LAST_TX_MAILBOX;TxMailBox++)

  00a7c	e3a03013	 mov         r3, #0x13
  00a80	e58d302c	 str         r3, [sp, #0x2C]
  00a84	ea000002	 b           |$LN6@CAN_Init|
  00a88		 |$LN5@CAN_Init|
  00a88	e59d302c	 ldr         r3, [sp, #0x2C]
  00a8c	e2833001	 add         r3, r3, #1
  00a90	e58d302c	 str         r3, [sp, #0x2C]
  00a94		 |$LN6@CAN_Init|
  00a94	e59d302c	 ldr         r3, [sp, #0x2C]
  00a98	e3530015	 cmp         r3, #0x15
  00a9c	ca000015	 bgt         |$LN4@CAN_Init|

; 521  :     {
; 522  :         pDevice->TxMailBoxMask |= (1<<TxMailBox);

  00aa0	e59d3008	 ldr         r3, [sp, #8]
  00aa4	e28310c0	 add         r1, r3, #0xC0
  00aa8	e59d202c	 ldr         r2, [sp, #0x2C]
  00aac	e3a03001	 mov         r3, #1
  00ab0	e1a02213	 mov         r2, r3, lsl r2
  00ab4	e5913000	 ldr         r3, [r1]
  00ab8	e1832002	 orr         r2, r3, r2
  00abc	e59d3008	 ldr         r3, [sp, #8]
  00ac0	e28330c0	 add         r3, r3, #0xC0
  00ac4	e5832000	 str         r2, [r3]

; 523  :         pDevice->FreeMailboxMask &= ~(1<<TxMailBox);

  00ac8	e59d3008	 ldr         r3, [sp, #8]
  00acc	e28310c4	 add         r1, r3, #0xC4
  00ad0	e59d202c	 ldr         r2, [sp, #0x2C]
  00ad4	e3a03001	 mov         r3, #1
  00ad8	e1a03213	 mov         r3, r3, lsl r2
  00adc	e1e02003	 mvn         r2, r3
  00ae0	e5913000	 ldr         r3, [r1]
  00ae4	e0032002	 and         r2, r3, r2
  00ae8	e59d3008	 ldr         r3, [sp, #8]
  00aec	e28330c4	 add         r3, r3, #0xC4
  00af0	e5832000	 str         r2, [r3]

; 524  :     }

  00af4	eaffffe3	 b           |$LN5@CAN_Init|
  00af8		 |$LN4@CAN_Init|

; 525  :     pDevice->TxMailBoxAvailableMask = pDevice->TxMailBoxMask;

  00af8	e59d3008	 ldr         r3, [sp, #8]
  00afc	e28310c0	 add         r1, r3, #0xC0
  00b00	e59d3008	 ldr         r3, [sp, #8]
  00b04	e28320bc	 add         r2, r3, #0xBC
  00b08	e5913000	 ldr         r3, [r1]
  00b0c	e5823000	 str         r3, [r2]

; 526  :     
; 527  : 
; 528  :     if (!RequestDevicePads(pDevice->device))

  00b10	e59d3008	 ldr         r3, [sp, #8]
  00b14	e2833028	 add         r3, r3, #0x28
  00b18	e5930000	 ldr         r0, [r3]
  00b1c	eb000000	 bl          RequestDevicePads
  00b20	e58d00c8	 str         r0, [sp, #0xC8]
  00b24	e59d30c8	 ldr         r3, [sp, #0xC8]
  00b28	e3530000	 cmp         r3, #0
  00b2c	1a00000c	 bne         |$LN3@CAN_Init|

; 529  :     {
; 530  :         DEBUGMSG (ZONE_ERROR, (L"ERROR: CAN_Init: RequestDevicePads failed\r\n"));

  00b30	e59f30a4	 ldr         r3, [pc, #0xA4]
  00b34	e5933440	 ldr         r3, [r3, #0x440]
  00b38	e3130001	 tst         r3, #1
  00b3c	0a000004	 beq         |$LN67@CAN_Init|
  00b40	e59f0090	 ldr         r0, [pc, #0x90]
  00b44	eb000000	 bl          NKDbgPrintfW
  00b48	e3a03001	 mov         r3, #1
  00b4c	e58d30cc	 str         r3, [sp, #0xCC]
  00b50	ea000001	 b           |$LN68@CAN_Init|
  00b54		 |$LN67@CAN_Init|
  00b54	e3a03000	 mov         r3, #0
  00b58	e58d30cc	 str         r3, [sp, #0xCC]
  00b5c		 |$LN68@CAN_Init|

; 531  :         goto cleanUp;

  00b5c	ea000012	 b           |$LN2@CAN_Init|
  00b60	ea000011	 b           |$cleanUp$36785|
  00b64		 |$LN3@CAN_Init|

; 532  :     }
; 533  :     EnableDeviceClocks(pDevice->device,TRUE);

  00b64	e3a01001	 mov         r1, #1
  00b68	e59d3008	 ldr         r3, [sp, #8]
  00b6c	e2833028	 add         r3, r3, #0x28
  00b70	e5930000	 ldr         r0, [r3]
  00b74	eb000000	 bl          EnableDeviceClocks

; 534  :     //initialize the hardware    
; 535  :     CANInitHardware(pDevice);   

  00b78	e59d0008	 ldr         r0, [sp, #8]
  00b7c	eb000000	 bl          |?CANInitHardware@@YAHPAX@Z|

; 536  :     EnableDeviceClocks(pDevice->device,FALSE);

  00b80	e3a01000	 mov         r1, #0
  00b84	e59d3008	 ldr         r3, [sp, #8]
  00b88	e2833028	 add         r3, r3, #0x28
  00b8c	e5930000	 ldr         r0, [r3]
  00b90	eb000000	 bl          EnableDeviceClocks

; 537  : 
; 538  :     ResumeThread(pDevice->hIntrThread);

  00b94	e59d3008	 ldr         r3, [sp, #8]
  00b98	e2833008	 add         r3, r3, #8
  00b9c	e5930000	 ldr         r0, [r3]
  00ba0	eb000000	 bl          ResumeThread

; 539  :     // Return non-null value
; 540  :     rc = (DWORD)pDevice;

  00ba4	e59d3008	 ldr         r3, [sp, #8]
  00ba8	e58d300c	 str         r3, [sp, #0xC]
  00bac		 |$LN2@CAN_Init|
  00bac		 |$LN7@CAN_Init|
  00bac		 |$LN9@CAN_Init|
  00bac		 |$LN11@CAN_Init|
  00bac		 |$LN13@CAN_Init|
  00bac		 |$LN15@CAN_Init|
  00bac		 |$LN17@CAN_Init|
  00bac		 |$LN19@CAN_Init|
  00bac		 |$LN22@CAN_Init|
  00bac		 |$LN24@CAN_Init|
  00bac		 |$LN26@CAN_Init|
  00bac		 |$LN31@CAN_Init|
  00bac		 |$LN33@CAN_Init|
  00bac		 |$LN35@CAN_Init|
  00bac		 |$LN38@CAN_Init|
  00bac		 |$cleanUp$36785|

; 541  : cleanUp:
; 542  :     if (rc == (DWORD)NULL)

  00bac	e59d300c	 ldr         r3, [sp, #0xC]
  00bb0	e3530000	 cmp         r3, #0
  00bb4	1a000001	 bne         |$LN1@CAN_Init|

; 543  :     {
; 544  :         CAN_Deinit((DWORD) pDevice);

  00bb8	e59d0008	 ldr         r0, [sp, #8]
  00bbc	eb000000	 bl          |?CAN_Deinit@@YAHK@Z|
  00bc0		 |$LN1@CAN_Init|

; 545  :     }
; 546  :     return rc;

  00bc0	e59d300c	 ldr         r3, [sp, #0xC]
  00bc4	e58d3030	 str         r3, [sp, #0x30]
  00bc8		 |$LN41@CAN_Init|

; 547  : }

  00bc8	e59d0030	 ldr         r0, [sp, #0x30]
  00bcc	e28dd0d0	 add         sp, sp, #0xD0
  00bd0	e89d6000	 ldmia       sp, {sp, lr}
  00bd4	e12fff1e	 bx          lr
  00bd8		 |$LN72@CAN_Init|
  00bd8		 |$LN73@CAN_Init|
  00bd8	00000000	 DCD         |??_C@_1FI@FHGBJJHN@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAA?$AAN?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAR?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AAP?$AAa@|
  00bdc		 |$LN74@CAN_Init|
  00bdc	00000000	 DCD         |dpCurSettings|
  00be0		 |$LN75@CAN_Init|
  00be0	00000000	 DCD         |??_C@_1GE@HGJANIOP@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAA?$AAN?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAF?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?5?$AAi@|
  00be4		 |$LN76@CAN_Init|
  00be4	00000000	 DCD         |?CANIntrThread@@YAKPAX@Z|
  00be8		 |$LN77@CAN_Init|
  00be8	00000000	 DCD         |??_C@_1GM@FKPCJNFC@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAA?$AAN?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAu?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AAi?$AAn?$AAi?$AAt?$AAi@|
  00bec		 |$LN78@CAN_Init|
  00bec	00000000	 DCD         |??_C@_1FO@KICAGEOD@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAA?$AAN?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAu?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AAr?$AAe?$AAq?$AAu?$AAe@|
  00bf0		 |$LN79@CAN_Init|
  00bf0	01010098	 DCD         0x1010098
  00bf4		 |$LN80@CAN_Init|
  00bf4	00000000	 DCD         |??_C@_1GC@OJPBJGKI@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAA?$AAN?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAF?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?5?$AAi@|
  00bf8		 |$LN81@CAN_Init|
  00bf8	00000000	 DCD         |??_C@_1GM@NMDNLKNL@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAA?$AAN?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAF?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAc?$AAr?$AAe?$AAa?$AAt?$AAe?$AA?5?$AAR@|
  00bfc		 |$LN82@CAN_Init|
  00bfc	00000000	 DCD         |??_C@_1GC@KCHCGKNI@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAA?$AAN?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAu?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AAr?$AAe?$AAm?$AAa?$AAp@|
  00c00		 |$LN83@CAN_Init|
  00c00	00000000	 DCD         |??_C@_1GA@NACPLDE@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAA?$AAN?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAu?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AAg?$AAe?$AAt?$AA?5?$AAt@|
  00c04		 |$LN84@CAN_Init|
  00c04	00000000	 DCD         |??_C@_19JNEFLOBJ@?$AAI?$AAN?$AAT?$AA1?$AA?$AA@|
  00c08		 |$LN85@CAN_Init|
  00c08	00000000	 DCD         |??_C@_19CFPJNJHM@?$AAI?$AAN?$AAT?$AA0?$AA?$AA@|
  00c0c		 |$LN86@CAN_Init|
  00c0c	00000000	 DCD         |??_C@_1FM@NBFADEJA@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAA?$AAN?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAu?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AAg?$AAe?$AAt?$AA?5?$AAb@|
  00c10		 |$LN87@CAN_Init|
  00c10	00000000	 DCD         |??_C@_1JM@LAAPPLJP@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAA?$AAN?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAu?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AAg?$AAe?$AAt?$AA?5?$AAa@|
  00c14		 |$LN88@CAN_Init|
  00c14	00000000	 DCD         |??_C@_1EO@EAOCFHGI@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAA?$AAN?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAu?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AAo?$AAp?$AAe?$AAn?$AA?5@|
  00c18		 |$LN89@CAN_Init|
  00c18	00000000	 DCD         |??_C@_1FG@CBCHDLAK@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAA?$AAN?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAs?$AAt?$AAr?$AAo?$AAb?$AAe?$AA?5?$AAw?$AAi?$AAt?$AAh?$AAo?$AAu?$AAt?$AA?5@|
  00c1c		 |$LN90@CAN_Init|
  00c1c	00000000	 DCD         |??_C@_1GA@IJPAJNG@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAC?$AAA?$AAN?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAE?$AAr?$AAr?$AAo?$AAr?$AA?5?$AAr?$AAe?$AAa?$AAd?$AAi?$AAn?$AAg?$AA?5?$AAf@|
  00c20		 |$LN91@CAN_Init|
  00c20	00000000	 DCD         |s_deviceRegParams|
  00c24		 |$M37782|

			 ENDP  ; |?CAN_Init@@YAKPBGPBX@Z|, CAN_Init

	EXPORT	|SetEvent|
	IMPORT	|LocalFree|
	IMPORT	|ReleaseDevicePads|
	IMPORT	|GPIOClose|
	IMPORT	|DeleteCriticalSection|
	IMPORT	|MmUnmapIoSpace|
	IMPORT	|InterruptDisable|
	IMPORT	|WaitForSingleObject|

  00030			 AREA	 |.pdata|, PDATA
|$T37812| DCD	|$LN12@CAN_Deinit|
	DCD	0x40006804
; Function compile flags: /Odtp

  00c24			 AREA	 |.text|, CODE, ARM

  00c24		 |?CAN_Deinit@@YAHK@Z| PROC		; CAN_Deinit

; 559  : {

  00c24		 |$LN12@CAN_Deinit|
  00c24	e1a0c00d	 mov         r12, sp
  00c28	e92d0001	 stmdb       sp!, {r0}
  00c2c	e92d5000	 stmdb       sp!, {r12, lr}
  00c30	e24dd01c	 sub         sp, sp, #0x1C
  00c34		 |$M37809|

; 560  :     BOOL rc = FALSE;

  00c34	e3a03000	 mov         r3, #0
  00c38	e58d300c	 str         r3, [sp, #0xC]

; 561  :     T_CAN_DEVICE *pDevice = (T_CAN_DEVICE*) context;

  00c3c	e59d3024	 ldr         r3, [sp, #0x24]
  00c40	e58d3008	 str         r3, [sp, #8]

; 562  : 
; 563  :     if (pDevice == NULL)

  00c44	e59d3008	 ldr         r3, [sp, #8]
  00c48	e3530000	 cmp         r3, #0
  00c4c	1a000001	 bne         |$LN7@CAN_Deinit|
  00c50	ea000054	 b           |$LN6@CAN_Deinit|

; 564  :     {
; 565  :         goto cleanUp;

  00c54	ea000053	 b           |$cleanUp$36873|
  00c58		 |$LN7@CAN_Deinit|

; 566  :     }
; 567  :     if (pDevice->hIntrThread)

  00c58	e59d3008	 ldr         r3, [sp, #8]
  00c5c	e2833008	 add         r3, r3, #8
  00c60	e5933000	 ldr         r3, [r3]
  00c64	e3530000	 cmp         r3, #0
  00c68	0a00000c	 beq         |$LN5@CAN_Deinit|

; 568  :     {
; 569  :         pDevice->fTerminateThread = TRUE;

  00c6c	e59d3008	 ldr         r3, [sp, #8]
  00c70	e283200c	 add         r2, r3, #0xC
  00c74	e3a03001	 mov         r3, #1
  00c78	e5823000	 str         r3, [r2]

; 570  :         SetEvent(pDevice->hIntrEvent);

  00c7c	e59d3008	 ldr         r3, [sp, #8]
  00c80	e2833004	 add         r3, r3, #4
  00c84	e5930000	 ldr         r0, [r3]
  00c88	eb000000	 bl          SetEvent

; 571  :         WaitForSingleObject(pDevice->hIntrThread,INFINITE);

  00c8c	e3e01000	 mvn         r1, #0
  00c90	e59d3008	 ldr         r3, [sp, #8]
  00c94	e2833008	 add         r3, r3, #8
  00c98	e5930000	 ldr         r0, [r3]
  00c9c	eb000000	 bl          WaitForSingleObject
  00ca0		 |$LN5@CAN_Deinit|

; 572  :     }
; 573  :     if (pDevice->hIntrEvent)

  00ca0	e59d3008	 ldr         r3, [sp, #8]
  00ca4	e2833004	 add         r3, r3, #4
  00ca8	e5933000	 ldr         r3, [r3]
  00cac	e3530000	 cmp         r3, #0
  00cb0	0a000003	 beq         |$LN4@CAN_Deinit|

; 574  :     {
; 575  :         CloseHandle(pDevice->hIntrEvent);

  00cb4	e59d3008	 ldr         r3, [sp, #8]
  00cb8	e2833004	 add         r3, r3, #4
  00cbc	e5930000	 ldr         r0, [r3]
  00cc0	eb000000	 bl          CloseHandle
  00cc4		 |$LN4@CAN_Deinit|

; 576  :     }
; 577  :     if (pDevice->dwSysintr != SYSINTR_UNDEFINED)

  00cc4	e59d3008	 ldr         r3, [sp, #8]
  00cc8	e5933000	 ldr         r3, [r3]
  00ccc	e3730001	 cmn         r3, #1
  00cd0	0a00000b	 beq         |$LN3@CAN_Deinit|

; 578  :     {
; 579  :         InterruptDisable(pDevice->dwSysintr);

  00cd4	e59d3008	 ldr         r3, [sp, #8]
  00cd8	e5930000	 ldr         r0, [r3]
  00cdc	eb000000	 bl          InterruptDisable

; 580  :         KernelIoControl(IOCTL_HAL_RELEASE_SYSINTR,&pDevice->dwSysintr,sizeof(pDevice->dwSysintr),NULL,0,NULL);        

  00ce0	e3a03000	 mov         r3, #0
  00ce4	e58d3004	 str         r3, [sp, #4]
  00ce8	e3a03000	 mov         r3, #0
  00cec	e58d3000	 str         r3, [sp]
  00cf0	e3a03000	 mov         r3, #0
  00cf4	e3a02004	 mov         r2, #4
  00cf8	e59d1008	 ldr         r1, [sp, #8]
  00cfc	e59f00bc	 ldr         r0, [pc, #0xBC]
  00d00	eb000000	 bl          KernelIoControl
  00d04		 |$LN3@CAN_Deinit|

; 581  :     }
; 582  :     if (pDevice->pCanRegs)

  00d04	e59d3008	 ldr         r3, [sp, #8]
  00d08	e283302c	 add         r3, r3, #0x2C
  00d0c	e5933000	 ldr         r3, [r3]
  00d10	e3530000	 cmp         r3, #0
  00d14	0a000004	 beq         |$LN2@CAN_Deinit|

; 583  :     {
; 584  :         MmUnmapIoSpace(pDevice->pCanRegs,sizeof(OMAP_HECC_SCC_REGS));

  00d18	e3a01dc6	 mov         r1, #0xC6, 26
  00d1c	e59d3008	 ldr         r3, [sp, #8]
  00d20	e283302c	 add         r3, r3, #0x2C
  00d24	e5930000	 ldr         r0, [r3]
  00d28	eb000000	 bl          MmUnmapIoSpace
  00d2c		 |$LN2@CAN_Deinit|

; 585  :     }
; 586  :     DeleteCriticalSection(&pDevice->regcs);

  00d2c	e59d3008	 ldr         r3, [sp, #8]
  00d30	e2830030	 add         r0, r3, #0x30
  00d34	eb000000	 bl          DeleteCriticalSection

; 587  :     DeleteCriticalSection(&pDevice->filterscs);

  00d38	e59d3008	 ldr         r3, [sp, #8]
  00d3c	e2830044	 add         r0, r3, #0x44
  00d40	eb000000	 bl          DeleteCriticalSection

; 588  : 
; 589  :     if (pDevice->hGpio)

  00d44	e59d3008	 ldr         r3, [sp, #8]
  00d48	e2833024	 add         r3, r3, #0x24
  00d4c	e5933000	 ldr         r3, [r3]
  00d50	e3530000	 cmp         r3, #0
  00d54	0a000006	 beq         |$LN1@CAN_Deinit|

; 590  :     {
; 591  :         StrobeActive(pDevice,FALSE);

  00d58	e3a01000	 mov         r1, #0
  00d5c	e59d0008	 ldr         r0, [sp, #8]
  00d60	eb000000	 bl          |?StrobeActive@@YAXPAUT_CAN_DEVICE@@H@Z|

; 592  :         GPIOClose(pDevice->hGpio);

  00d64	e59d3008	 ldr         r3, [sp, #8]
  00d68	e2833024	 add         r3, r3, #0x24
  00d6c	e5930000	 ldr         r0, [r3]
  00d70	eb000000	 bl          GPIOClose
  00d74		 |$LN1@CAN_Deinit|

; 593  :     }
; 594  :     ReleaseDevicePads(pDevice->device);

  00d74	e59d3008	 ldr         r3, [sp, #8]
  00d78	e2833028	 add         r3, r3, #0x28
  00d7c	e5930000	 ldr         r0, [r3]
  00d80	eb000000	 bl          ReleaseDevicePads

; 595  : 
; 596  :     EnableDeviceClocks(pDevice->device,FALSE);

  00d84	e3a01000	 mov         r1, #0
  00d88	e59d3008	 ldr         r3, [sp, #8]
  00d8c	e2833028	 add         r3, r3, #0x28
  00d90	e5930000	 ldr         r0, [r3]
  00d94	eb000000	 bl          EnableDeviceClocks

; 597  : 
; 598  :     LocalFree(pDevice);

  00d98	e59d0008	 ldr         r0, [sp, #8]
  00d9c	eb000000	 bl          LocalFree

; 599  : 
; 600  : 
; 601  :     rc = TRUE;

  00da0	e3a03001	 mov         r3, #1
  00da4	e58d300c	 str         r3, [sp, #0xC]
  00da8		 |$LN6@CAN_Deinit|
  00da8		 |$cleanUp$36873|

; 602  : 
; 603  : cleanUp:
; 604  : 
; 605  :     return rc;

  00da8	e59d300c	 ldr         r3, [sp, #0xC]
  00dac	e58d3018	 str         r3, [sp, #0x18]

; 606  : }

  00db0	e59d0018	 ldr         r0, [sp, #0x18]
  00db4	e28dd01c	 add         sp, sp, #0x1C
  00db8	e89d6000	 ldmia       sp, {sp, lr}
  00dbc	e12fff1e	 bx          lr
  00dc0		 |$LN13@CAN_Deinit|
  00dc0		 |$LN14@CAN_Deinit|
  00dc0	010100d8	 DCD         0x10100d8
  00dc4		 |$M37810|

			 ENDP  ; |?CAN_Deinit@@YAHK@Z|, CAN_Deinit

	IMPORT	|EventModify|
; File c:\wince600\public\common\sdk\inc\kfuncs.h

  00000			 AREA	 |.pdata|, PDATA
|$T37820| DCD	|$LN5@SetEvent|
	DCD	0x40000e04
; Function compile flags: /Odtp

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |SetEvent| PROC

; 235  : _inline BOOL SetEvent(HANDLE h) {

  00000		 |$LN5@SetEvent|
  00000	e1a0c00d	 mov         r12, sp
  00004	e92d0001	 stmdb       sp!, {r0}
  00008	e92d5000	 stmdb       sp!, {r12, lr}
  0000c	e24dd008	 sub         sp, sp, #8
  00010		 |$M37817|

; 236  : 	return EventModify(h,EVENT_SET);

  00010	e3a01003	 mov         r1, #3
  00014	e59d0010	 ldr         r0, [sp, #0x10]
  00018	eb000000	 bl          EventModify
  0001c	e58d0004	 str         r0, [sp, #4]
  00020	e59d3004	 ldr         r3, [sp, #4]
  00024	e58d3000	 str         r3, [sp]

; 237  : }

  00028	e59d0000	 ldr         r0, [sp]
  0002c	e28dd008	 add         sp, sp, #8
  00030	e89d6000	 ldmia       sp, {sp, lr}
  00034	e12fff1e	 bx          lr
  00038		 |$M37818|

			 ENDP  ; |SetEvent|

	EXPORT	|?ConfigureTxMailbox@@YAHPAUT_CAN_DEVICE@@K@Z| ; ConfigureTxMailbox
	IMPORT	|LeaveCriticalSection|
	IMPORT	|EnterCriticalSection|

  00038			 AREA	 |.pdata|, PDATA
|$T37828| DCD	|$LN5@ConfigureT|
	DCD	0x40003a04
; Function compile flags: /Odtp
; File c:\wince600\platform\common\src\soc\common_ti_v1\common_ti\hecc\omap_hecc.cpp

  00dc4			 AREA	 |.text|, CODE, ARM

  00dc4		 |?ConfigureTxMailbox@@YAHPAUT_CAN_DEVICE@@K@Z| PROC ; ConfigureTxMailbox

; 608  : {

  00dc4		 |$LN5@ConfigureT|
  00dc4	e1a0c00d	 mov         r12, sp
  00dc8	e92d0003	 stmdb       sp!, {r0, r1}
  00dcc	e92d5000	 stmdb       sp!, {r12, lr}
  00dd0	e24dd004	 sub         sp, sp, #4
  00dd4		 |$M37825|

; 609  :     EnterCriticalSection(&pDevice->regcs);

  00dd4	e59d300c	 ldr         r3, [sp, #0xC]
  00dd8	e2830030	 add         r0, r3, #0x30
  00ddc	eb000000	 bl          EnterCriticalSection

; 610  :     CLRREG32(&pDevice->pCanRegs->CANME,(1<<index));  

  00de0	e59d300c	 ldr         r3, [sp, #0xC]
  00de4	e283302c	 add         r3, r3, #0x2C
  00de8	e5931000	 ldr         r1, [r3]
  00dec	e59d2010	 ldr         r2, [sp, #0x10]
  00df0	e3a03001	 mov         r3, #1
  00df4	e1a03213	 mov         r3, r3, lsl r2
  00df8	e1e02003	 mvn         r2, r3
  00dfc	e5913000	 ldr         r3, [r1]
  00e00	e0032002	 and         r2, r3, r2
  00e04	e59d300c	 ldr         r3, [sp, #0xC]
  00e08	e283302c	 add         r3, r3, #0x2C
  00e0c	e5933000	 ldr         r3, [r3]
  00e10	e5832000	 str         r2, [r3]

; 611  :     CLRREG32(&pDevice->pCanRegs->CANMIL,(1<<index));

  00e14	e59d300c	 ldr         r3, [sp, #0xC]
  00e18	e283302c	 add         r3, r3, #0x2C
  00e1c	e5933000	 ldr         r3, [r3]
  00e20	e283104c	 add         r1, r3, #0x4C
  00e24	e59d2010	 ldr         r2, [sp, #0x10]
  00e28	e3a03001	 mov         r3, #1
  00e2c	e1a03213	 mov         r3, r3, lsl r2
  00e30	e1e02003	 mvn         r2, r3
  00e34	e5913000	 ldr         r3, [r1]
  00e38	e0032002	 and         r2, r3, r2
  00e3c	e59d300c	 ldr         r3, [sp, #0xC]
  00e40	e283302c	 add         r3, r3, #0x2C
  00e44	e5933000	 ldr         r3, [r3]
  00e48	e283304c	 add         r3, r3, #0x4C
  00e4c	e5832000	 str         r2, [r3]

; 612  :     SETREG32(&pDevice->pCanRegs->CANMIM,(1<<index));    

  00e50	e59d300c	 ldr         r3, [sp, #0xC]
  00e54	e283302c	 add         r3, r3, #0x2C
  00e58	e5933000	 ldr         r3, [r3]
  00e5c	e2831048	 add         r1, r3, #0x48
  00e60	e59d2010	 ldr         r2, [sp, #0x10]
  00e64	e3a03001	 mov         r3, #1
  00e68	e1a02213	 mov         r2, r3, lsl r2
  00e6c	e5913000	 ldr         r3, [r1]
  00e70	e1832002	 orr         r2, r3, r2
  00e74	e59d300c	 ldr         r3, [sp, #0xC]
  00e78	e283302c	 add         r3, r3, #0x2C
  00e7c	e5933000	 ldr         r3, [r3]
  00e80	e2833048	 add         r3, r3, #0x48
  00e84	e5832000	 str         r2, [r3]

; 613  :     LeaveCriticalSection(&pDevice->regcs);

  00e88	e59d300c	 ldr         r3, [sp, #0xC]
  00e8c	e2830030	 add         r0, r3, #0x30
  00e90	eb000000	 bl          LeaveCriticalSection

; 614  :     return TRUE;

  00e94	e3a03001	 mov         r3, #1
  00e98	e58d3000	 str         r3, [sp]

; 615  : }

  00e9c	e59d0000	 ldr         r0, [sp]
  00ea0	e28dd004	 add         sp, sp, #4
  00ea4	e89d6000	 ldmia       sp, {sp, lr}
  00ea8	e12fff1e	 bx          lr
  00eac		 |$M37826|

			 ENDP  ; |?ConfigureTxMailbox@@YAHPAUT_CAN_DEVICE@@K@Z|, ConfigureTxMailbox

	EXPORT	|?CAN_Open@@YAKKKK@Z|			; CAN_Open

  00040			 AREA	 |.pdata|, PDATA
|$T37834| DCD	|$LN7@CAN_Open|
	DCD	0x40002904
; Function compile flags: /Odtp

  00eac			 AREA	 |.text|, CODE, ARM

  00eac		 |?CAN_Open@@YAKKKK@Z| PROC		; CAN_Open

; 630  : {

  00eac		 |$LN7@CAN_Open|
  00eac	e1a0c00d	 mov         r12, sp
  00eb0	e92d0007	 stmdb       sp!, {r0 - r2}
  00eb4	e92d5000	 stmdb       sp!, {r12, lr}
  00eb8	e24dd010	 sub         sp, sp, #0x10
  00ebc		 |$M37831|

; 631  :     T_CAN_DEVICE *pDevice = (T_CAN_DEVICE *)context;

  00ebc	e59d3018	 ldr         r3, [sp, #0x18]
  00ec0	e58d3000	 str         r3, [sp]

; 632  :     T_CAN_OPEN_CTXT *pCtxt;
; 633  : 
; 634  :     UNREFERENCED_PARAMETER(accessCode);
; 635  :     UNREFERENCED_PARAMETER(shareMode);
; 636  : 
; 637  :     if (pDevice == NULL) return 0;

  00ec4	e59d3000	 ldr         r3, [sp]
  00ec8	e3530000	 cmp         r3, #0
  00ecc	1a000002	 bne         |$LN2@CAN_Open|
  00ed0	e3a03000	 mov         r3, #0
  00ed4	e58d3008	 str         r3, [sp, #8]
  00ed8	ea000018	 b           |$LN3@CAN_Open|
  00edc		 |$LN2@CAN_Open|

; 638  : 
; 639  :     pCtxt = (T_CAN_OPEN_CTXT*) malloc(sizeof(T_CAN_OPEN_CTXT));

  00edc	e3a00004	 mov         r0, #4
  00ee0	eb000000	 bl          malloc
  00ee4	e58d000c	 str         r0, [sp, #0xC]
  00ee8	e59d300c	 ldr         r3, [sp, #0xC]
  00eec	e58d3004	 str         r3, [sp, #4]

; 640  :     if (pCtxt ==NULL) return 0;

  00ef0	e59d3004	 ldr         r3, [sp, #4]
  00ef4	e3530000	 cmp         r3, #0
  00ef8	1a000002	 bne         |$LN1@CAN_Open|
  00efc	e3a03000	 mov         r3, #0
  00f00	e58d3008	 str         r3, [sp, #8]
  00f04	ea00000d	 b           |$LN3@CAN_Open|
  00f08		 |$LN1@CAN_Open|

; 641  : 
; 642  :     memset(pCtxt,0,sizeof(T_CAN_OPEN_CTXT));

  00f08	e3a02004	 mov         r2, #4
  00f0c	e3a01000	 mov         r1, #0
  00f10	e59d0004	 ldr         r0, [sp, #4]
  00f14	eb000000	 bl          memset

; 643  :     pCtxt->pDevice = pDevice;

  00f18	e59d2000	 ldr         r2, [sp]
  00f1c	e59d3004	 ldr         r3, [sp, #4]
  00f20	e5832000	 str         r2, [r3]

; 644  : 
; 645  :     EnableDeviceClocks(pDevice->device,TRUE);

  00f24	e3a01001	 mov         r1, #1
  00f28	e59d3000	 ldr         r3, [sp]
  00f2c	e2833028	 add         r3, r3, #0x28
  00f30	e5930000	 ldr         r0, [r3]
  00f34	eb000000	 bl          EnableDeviceClocks

; 646  :    
; 647  :     return (DWORD) pCtxt;

  00f38	e59d3004	 ldr         r3, [sp, #4]
  00f3c	e58d3008	 str         r3, [sp, #8]
  00f40		 |$LN3@CAN_Open|

; 648  : }

  00f40	e59d0008	 ldr         r0, [sp, #8]
  00f44	e28dd010	 add         sp, sp, #0x10
  00f48	e89d6000	 ldmia       sp, {sp, lr}
  00f4c	e12fff1e	 bx          lr
  00f50		 |$M37832|

			 ENDP  ; |?CAN_Open@@YAKKKK@Z|, CAN_Open

	EXPORT	|?CAN_Close@@YAHK@Z|			; CAN_Close

  00048			 AREA	 |.pdata|, PDATA
|$T37840| DCD	|$LN7@CAN_Close|
	DCD	0x40002004
; Function compile flags: /Odtp

  00f50			 AREA	 |.text|, CODE, ARM

  00f50		 |?CAN_Close@@YAHK@Z| PROC		; CAN_Close

; 660  : {

  00f50		 |$LN7@CAN_Close|
  00f50	e1a0c00d	 mov         r12, sp
  00f54	e92d0001	 stmdb       sp!, {r0}
  00f58	e92d5000	 stmdb       sp!, {r12, lr}
  00f5c	e24dd00c	 sub         sp, sp, #0xC
  00f60		 |$M37837|

; 661  :     T_CAN_OPEN_CTXT *pCtxt = (T_CAN_OPEN_CTXT*) context;

  00f60	e59d3014	 ldr         r3, [sp, #0x14]
  00f64	e58d3000	 str         r3, [sp]

; 662  :     if (pCtxt)

  00f68	e59d3000	 ldr         r3, [sp]
  00f6c	e3530000	 cmp         r3, #0
  00f70	0a000010	 beq         |$LN2@CAN_Close|

; 663  :     {
; 664  :         T_CAN_DEVICE *pDevice = pCtxt->pDevice;

  00f74	e59d3000	 ldr         r3, [sp]
  00f78	e5933000	 ldr         r3, [r3]
  00f7c	e58d3004	 str         r3, [sp, #4]

; 665  :         StrobeActive(pDevice,FALSE);

  00f80	e3a01000	 mov         r1, #0
  00f84	e59d0004	 ldr         r0, [sp, #4]
  00f88	eb000000	 bl          |?StrobeActive@@YAXPAUT_CAN_DEVICE@@H@Z|

; 666  :         EnableDeviceClocks(pDevice->device,FALSE);

  00f8c	e3a01000	 mov         r1, #0
  00f90	e59d3004	 ldr         r3, [sp, #4]
  00f94	e2833028	 add         r3, r3, #0x28
  00f98	e5930000	 ldr         r0, [r3]
  00f9c	eb000000	 bl          EnableDeviceClocks

; 667  :         LocalFree(pCtxt);        

  00fa0	e59d0000	 ldr         r0, [sp]
  00fa4	eb000000	 bl          LocalFree

; 668  :         return TRUE;

  00fa8	e3a03001	 mov         r3, #1
  00fac	e58d3008	 str         r3, [sp, #8]
  00fb0	ea000002	 b           |$LN3@CAN_Close|

; 669  :     }
; 670  :     else

  00fb4	ea000001	 b           |$LN1@CAN_Close|
  00fb8		 |$LN2@CAN_Close|

; 671  :     {
; 672  :         return FALSE;

  00fb8	e3a03000	 mov         r3, #0
  00fbc	e58d3008	 str         r3, [sp, #8]
  00fc0		 |$LN1@CAN_Close|
  00fc0		 |$LN3@CAN_Close|

; 673  :     }
; 674  : }

  00fc0	e59d0008	 ldr         r0, [sp, #8]
  00fc4	e28dd00c	 add         sp, sp, #0xC
  00fc8	e89d6000	 ldmia       sp, {sp, lr}
  00fcc	e12fff1e	 bx          lr
  00fd0		 |$M37838|

			 ENDP  ; |?CAN_Close@@YAHK@Z|, CAN_Close

	EXPORT	|?CAN_PowerUp@@YAXK@Z|			; CAN_PowerUp

  00050			 AREA	 |.pdata|, PDATA
|$T37845| DCD	|$LN5@CAN_PowerU|
	DCD	0x40000503
; Function compile flags: /Odtp

  00fd0			 AREA	 |.text|, CODE, ARM

  00fd0		 |?CAN_PowerUp@@YAXK@Z| PROC		; CAN_PowerUp

; 688  : {

  00fd0		 |$LN5@CAN_PowerU|
  00fd0	e1a0c00d	 mov         r12, sp
  00fd4	e92d0001	 stmdb       sp!, {r0}
  00fd8	e92d5000	 stmdb       sp!, {r12, lr}
  00fdc		 |$M37842|

; 689  :     UNREFERENCED_PARAMETER(context);
; 690  : }

  00fdc	e89d6000	 ldmia       sp, {sp, lr}
  00fe0	e12fff1e	 bx          lr
  00fe4		 |$M37843|

			 ENDP  ; |?CAN_PowerUp@@YAXK@Z|, CAN_PowerUp

	EXPORT	|?CAN_PowerDown@@YAXK@Z|		; CAN_PowerDown

  00058			 AREA	 |.pdata|, PDATA
|$T37850| DCD	|$LN5@CAN_PowerD|
	DCD	0x40000503
; Function compile flags: /Odtp

  00fe4			 AREA	 |.text|, CODE, ARM

  00fe4		 |?CAN_PowerDown@@YAXK@Z| PROC		; CAN_PowerDown

; 702  : {

  00fe4		 |$LN5@CAN_PowerD|
  00fe4	e1a0c00d	 mov         r12, sp
  00fe8	e92d0001	 stmdb       sp!, {r0}
  00fec	e92d5000	 stmdb       sp!, {r12, lr}
  00ff0		 |$M37847|

; 703  :     UNREFERENCED_PARAMETER(context);
; 704  : }

  00ff0	e89d6000	 ldmia       sp, {sp, lr}
  00ff4	e12fff1e	 bx          lr
  00ff8		 |$M37848|

			 ENDP  ; |?CAN_PowerDown@@YAXK@Z|, CAN_PowerDown

	EXPORT	|?CANReceive@@YAHPAXPAUCAN_MESSAGE@@KPAKK@Z| ; CANReceive
	EXPORT	|?CANRemoteRequest@@YAHPAXPAUCAN_REMOTE_REQUEST@@@Z| ; CANRemoteRequest
	EXPORT	|?CANConfigureAutoAnswer@@YAHPAXPAUCAN_MESSAGE@@H@Z| ; CANConfigureAutoAnswer
	EXPORT	|?CANSend@@YAHPAXPAUCAN_MESSAGE@@KPAKW4TXCAN_PRIORITY@@K@Z| ; CANSend
	EXPORT	|?CANRemoveSubClassFilter@@YAHPAXPAUSUBCLASS_FILTER@@@Z| ; CANRemoveSubClassFilter
	EXPORT	|?CANAddSubClassFilter@@YAHPAXPAUSUBCLASS_FILTER@@@Z| ; CANAddSubClassFilter
	EXPORT	|?CANDeleteClassFilter@@YAHPAXPAUCLASS_FILTER@@@Z| ; CANDeleteClassFilter
	EXPORT	|?CANEnableClassFilter@@YAHPAXPAUCLASS_FILTER@@H@Z| ; CANEnableClassFilter
	EXPORT	|?CANCreateClassFilter@@YAHPAXPAUCLASS_FILTER@@W4RXCAN_PRIORITY@@H@Z| ; CANCreateClassFilter
	EXPORT	|?CANConfigureBaudrate@@YAHPAXK@Z|	; CANConfigureBaudrate
	EXPORT	|?CANStatus@@YAHPAXPAUCAN_STATUS@@@Z|	; CANStatus
	EXPORT	|?CANCommand@@YAHPAXW4CAN_COMMAND@@@Z|	; CANCommand
	EXPORT	|?CAN_IOControl@@YAHKKPAEK0KPAK@Z|	; CAN_IOControl

  00060			 AREA	 |.pdata|, PDATA
|$T37928| DCD	|$LN134@CAN_IOCont|
	DCD	0x40018e04
; Function compile flags: /Odtp

  00ff8			 AREA	 |.text|, CODE, ARM

  00ff8		 |?CAN_IOControl@@YAHKKPAEK0KPAK@Z| PROC ; CAN_IOControl

; 722  : {

  00ff8		 |$LN134@CAN_IOCont|
  00ff8	e1a0c00d	 mov         r12, sp
  00ffc	e92d000f	 stmdb       sp!, {r0 - r3}
  01000	e92d5000	 stmdb       sp!, {r12, lr}
  01004	e24dd090	 sub         sp, sp, #0x90
  01008		 |$M37925|

; 723  :     BOOL rc = FALSE;

  01008	e3a03000	 mov         r3, #0
  0100c	e58d3008	 str         r3, [sp, #8]

; 724  :     T_CAN_OPEN_CTXT *pCtxt = (T_CAN_OPEN_CTXT*) context;

  01010	e59d3098	 ldr         r3, [sp, #0x98]
  01014	e58d300c	 str         r3, [sp, #0xC]

; 725  :     T_CAN_DEVICE *ctxt = pCtxt->pDevice;

  01018	e59d300c	 ldr         r3, [sp, #0xC]
  0101c	e5933000	 ldr         r3, [r3]
  01020	e58d3010	 str         r3, [sp, #0x10]

; 726  : 
; 727  : 
; 728  :     UNREFERENCED_PARAMETER(pOutSize);    
; 729  : 
; 730  :     //Parameter check
; 731  :     switch (code)

  01024	e59d309c	 ldr         r3, [sp, #0x9C]
  01028	e58d3048	 str         r3, [sp, #0x48]
  0102c	e59d2048	 ldr         r2, [sp, #0x48]
  01030	e3a0381b	 mov         r3, #0x1B, 16
  01034	e3833b01	 orr         r3, r3, #1, 22
  01038	e0423003	 sub         r3, r2, r3
  0103c	e58d3048	 str         r3, [sp, #0x48]
  01040	e59d3048	 ldr         r3, [sp, #0x48]
  01044	e353001c	 cmp         r3, #0x1C
  01048	8a00008f	 bhi         |$LN25@CAN_IOCont|
  0104c	e59d2048	 ldr         r2, [sp, #0x48]
  01050	e1a03102	 mov         r3, r2, lsl #2
  01054	e083300f	 add         r3, r3, pc
  01058	e5933004	 ldr         r3, [r3, #4]
  0105c	e08ff003	 add         pc, pc, r3
  01060		 |$LN64@CAN_IOCont|
  01060		 |$LN63@CAN_IOCont|
  01060		 |$LN65@CAN_IOCont|
  01060	00000070	 DCD         0x70
  01064		 |$LN66@CAN_IOCont|
  01064	00000228	 DCD         0x228
  01068		 |$LN67@CAN_IOCont|
  01068	00000228	 DCD         0x228
  0106c		 |$LN68@CAN_IOCont|
  0106c	00000228	 DCD         0x228
  01070		 |$LN69@CAN_IOCont|
  01070	000000c0	 DCD         0xc0
  01074		 |$LN70@CAN_IOCont|
  01074	00000228	 DCD         0x228
  01078		 |$LN71@CAN_IOCont|
  01078	00000228	 DCD         0x228
  0107c		 |$LN72@CAN_IOCont|
  0107c	00000228	 DCD         0x228
  01080		 |$LN73@CAN_IOCont|
  01080	00000098	 DCD         0x98
  01084		 |$LN74@CAN_IOCont|
  01084	00000228	 DCD         0x228
  01088		 |$LN75@CAN_IOCont|
  01088	00000228	 DCD         0x228
  0108c		 |$LN76@CAN_IOCont|
  0108c	00000228	 DCD         0x228
  01090		 |$LN77@CAN_IOCont|
  01090	00000188	 DCD         0x188
  01094		 |$LN78@CAN_IOCont|
  01094	00000228	 DCD         0x228
  01098		 |$LN79@CAN_IOCont|
  01098	00000228	 DCD         0x228
  0109c		 |$LN80@CAN_IOCont|
  0109c	00000228	 DCD         0x228
  010a0		 |$LN81@CAN_IOCont|
  010a0	000001d8	 DCD         0x1d8
  010a4		 |$LN82@CAN_IOCont|
  010a4	00000228	 DCD         0x228
  010a8		 |$LN83@CAN_IOCont|
  010a8	00000228	 DCD         0x228
  010ac		 |$LN84@CAN_IOCont|
  010ac	00000228	 DCD         0x228
  010b0		 |$LN85@CAN_IOCont|
  010b0	000001b0	 DCD         0x1b0
  010b4		 |$LN86@CAN_IOCont|
  010b4	00000228	 DCD         0x228
  010b8		 |$LN87@CAN_IOCont|
  010b8	00000228	 DCD         0x228
  010bc		 |$LN88@CAN_IOCont|
  010bc	00000228	 DCD         0x228
  010c0		 |$LN89@CAN_IOCont|
  010c0	00000114	 DCD         0x114
  010c4		 |$LN90@CAN_IOCont|
  010c4	00000228	 DCD         0x228
  010c8		 |$LN91@CAN_IOCont|
  010c8	00000228	 DCD         0x228
  010cc		 |$LN92@CAN_IOCont|
  010cc	00000228	 DCD         0x228
  010d0		 |$LN93@CAN_IOCont|
  010d0	00000200	 DCD         0x200
  010d4		 |$LN58@CAN_IOCont|

; 732  :     {
; 733  :     case IOCTL_CAN_COMMAND: 
; 734  :         if ((inSize != sizeof(IOCTL_CAN_COMMAND_IN)) || (pInBuffer == NULL))

  010d4	e59d30a4	 ldr         r3, [sp, #0xA4]
  010d8	e3530004	 cmp         r3, #4
  010dc	1a000002	 bne         |$LN56@CAN_IOCont|
  010e0	e59d30a0	 ldr         r3, [sp, #0xA0]
  010e4	e3530000	 cmp         r3, #0
  010e8	1a000002	 bne         |$LN57@CAN_IOCont|
  010ec		 |$LN56@CAN_IOCont|

; 735  :         {
; 736  :             return FALSE;

  010ec	e3a03000	 mov         r3, #0
  010f0	e58d3038	 str         r3, [sp, #0x38]
  010f4	ea000149	 b           |$LN61@CAN_IOCont|
  010f8		 |$LN57@CAN_IOCont|

; 737  :         }
; 738  :         break;

  010f8	ea000066	 b           |$LN59@CAN_IOCont|
  010fc		 |$LN55@CAN_IOCont|

; 739  :     case IOCTL_CAN_STATUS: 
; 740  :         if ((outSize < sizeof(IOCTL_CAN_STATUS_OUT)) || (pOutBuffer == NULL))

  010fc	e59d30ac	 ldr         r3, [sp, #0xAC]
  01100	e3530044	 cmp         r3, #0x44
  01104	3a000002	 bcc         |$LN53@CAN_IOCont|
  01108	e59d30a8	 ldr         r3, [sp, #0xA8]
  0110c	e3530000	 cmp         r3, #0
  01110	1a000002	 bne         |$LN54@CAN_IOCont|
  01114		 |$LN53@CAN_IOCont|

; 741  :         {
; 742  :             return FALSE;

  01114	e3a03000	 mov         r3, #0
  01118	e58d3038	 str         r3, [sp, #0x38]
  0111c	ea00013f	 b           |$LN61@CAN_IOCont|
  01120		 |$LN54@CAN_IOCont|

; 743  :         }
; 744  :         break;

  01120	ea00005c	 b           |$LN59@CAN_IOCont|
  01124		 |$LN52@CAN_IOCont|

; 745  :     case IOCTL_CAN_CONFIG: 
; 746  :         {
; 747  :             IOCTL_CAN_CONFIG_IN* pCfgIn;
; 748  :             if ((inSize != sizeof(IOCTL_CAN_CONFIG_IN)) || (pInBuffer == NULL))

  01124	e59d30a4	 ldr         r3, [sp, #0xA4]
  01128	e3530008	 cmp         r3, #8
  0112c	1a000002	 bne         |$LN50@CAN_IOCont|
  01130	e59d30a0	 ldr         r3, [sp, #0xA0]
  01134	e3530000	 cmp         r3, #0
  01138	1a000002	 bne         |$LN51@CAN_IOCont|
  0113c		 |$LN50@CAN_IOCont|

; 749  :             {
; 750  :                 return FALSE;

  0113c	e3a03000	 mov         r3, #0
  01140	e58d3038	 str         r3, [sp, #0x38]
  01144	ea000135	 b           |$LN61@CAN_IOCont|
  01148		 |$LN51@CAN_IOCont|

; 751  :             }
; 752  :             pCfgIn = (IOCTL_CAN_CONFIG_IN*) pInBuffer;

  01148	e59d30a0	 ldr         r3, [sp, #0xA0]
  0114c	e58d3014	 str         r3, [sp, #0x14]

; 753  :             switch (pCfgIn->cfgType)

  01150	e59d3014	 ldr         r3, [sp, #0x14]
  01154	e5933000	 ldr         r3, [r3]
  01158	e3530000	 cmp         r3, #0
  0115c	0a000000	 beq         |$LN47@CAN_IOCont|
  01160	ea000000	 b           |$LN46@CAN_IOCont|
  01164		 |$LN47@CAN_IOCont|

; 754  :             {
; 755  :             case BAUDRATE_CFG:
; 756  :                 break;

  01164	ea000002	 b           |$LN48@CAN_IOCont|
  01168		 |$LN46@CAN_IOCont|

; 757  :             default:
; 758  :                 return FALSE;

  01168	e3a03000	 mov         r3, #0
  0116c	e58d3038	 str         r3, [sp, #0x38]
  01170	ea00012a	 b           |$LN61@CAN_IOCont|
  01174		 |$LN48@CAN_IOCont|

; 759  :             }
; 760  :         }
; 761  :         break;

  01174	ea000047	 b           |$LN59@CAN_IOCont|
  01178		 |$LN45@CAN_IOCont|

; 762  :     case IOCTL_CAN_FILTER_CONFIG: 
; 763  :         {
; 764  :             IOCTL_CAN_CLASS_FILTER_CONFIG_IN* pCfgIn;
; 765  : 
; 766  : #pragma warning(push)
; 767  : #pragma warning(disable:6287) //If sizeof(IOCTL_CAN_CLASS_FILTER_CONFIG_IN) == sizeof(IOCTL_CAN_SUBCLASS_FILTER_CONFIG_IN) we have a warning of redudant testing
; 768  :             if (((inSize != sizeof(IOCTL_CAN_CLASS_FILTER_CONFIG_IN)) && 
; 769  :                 (inSize != sizeof(IOCTL_CAN_SUBCLASS_FILTER_CONFIG_IN)))
; 770  :                 || (pInBuffer == NULL))

  01178	e59d30a4	 ldr         r3, [sp, #0xA4]
  0117c	e3530014	 cmp         r3, #0x14
  01180	0a000002	 beq         |$LN42@CAN_IOCont|
  01184	e59d30a4	 ldr         r3, [sp, #0xA4]
  01188	e3530014	 cmp         r3, #0x14
  0118c	1a000002	 bne         |$LN43@CAN_IOCont|
  01190		 |$LN42@CAN_IOCont|
  01190	e59d30a0	 ldr         r3, [sp, #0xA0]
  01194	e3530000	 cmp         r3, #0
  01198	1a000002	 bne         |$LN44@CAN_IOCont|
  0119c		 |$LN43@CAN_IOCont|

; 771  : #pragma warning(pop)
; 772  : 
; 773  :             {
; 774  :                 return FALSE;

  0119c	e3a03000	 mov         r3, #0
  011a0	e58d3038	 str         r3, [sp, #0x38]
  011a4	ea00011d	 b           |$LN61@CAN_IOCont|
  011a8		 |$LN44@CAN_IOCont|

; 775  :             }
; 776  :             pCfgIn = (IOCTL_CAN_CLASS_FILTER_CONFIG_IN*) pInBuffer;

  011a8	e59d30a0	 ldr         r3, [sp, #0xA0]
  011ac	e58d3018	 str         r3, [sp, #0x18]

; 777  :             switch (pCfgIn->cfgType)

  011b0	e59d3018	 ldr         r3, [sp, #0x18]
  011b4	e5933000	 ldr         r3, [r3]
  011b8	e58d304c	 str         r3, [sp, #0x4C]
  011bc	e59d304c	 ldr         r3, [sp, #0x4C]
  011c0	e3530000	 cmp         r3, #0
  011c4	ba000004	 blt         |$LN38@CAN_IOCont|
  011c8	e59d304c	 ldr         r3, [sp, #0x4C]
  011cc	e3530004	 cmp         r3, #4
  011d0	da000000	 ble         |$LN39@CAN_IOCont|
  011d4	ea000000	 b           |$LN38@CAN_IOCont|
  011d8		 |$LN39@CAN_IOCont|

; 778  :             {
; 779  :             case CREATE_CLASS_FILTER_CFG:
; 780  :             case ENABLE_DISABLE_CLASS_FILTER_CFG:
; 781  :             case DELETE_CLASS_FILTER_CFG:
; 782  :             case ADD_SUBCLASS_FILTER_CFG:
; 783  :             case REMOVE_SUBCLASS_FILTER_CFG:
; 784  :                 break;

  011d8	ea000002	 b           |$LN40@CAN_IOCont|
  011dc		 |$LN38@CAN_IOCont|

; 785  :             default:
; 786  :                 return FALSE;

  011dc	e3a03000	 mov         r3, #0
  011e0	e58d3038	 str         r3, [sp, #0x38]
  011e4	ea00010d	 b           |$LN61@CAN_IOCont|
  011e8		 |$LN40@CAN_IOCont|

; 787  :             }
; 788  :         }
; 789  :         break;

  011e8	ea00002a	 b           |$LN59@CAN_IOCont|
  011ec		 |$LN37@CAN_IOCont|

; 790  :     case IOCTL_CAN_SEND: 
; 791  :         if ((inSize != sizeof(IOCTL_CAN_SEND_IN)) || (pInBuffer == NULL))

  011ec	e59d30a4	 ldr         r3, [sp, #0xA4]
  011f0	e3530014	 cmp         r3, #0x14
  011f4	1a000002	 bne         |$LN35@CAN_IOCont|
  011f8	e59d30a0	 ldr         r3, [sp, #0xA0]
  011fc	e3530000	 cmp         r3, #0
  01200	1a000002	 bne         |$LN36@CAN_IOCont|
  01204		 |$LN35@CAN_IOCont|

; 792  :         {
; 793  :             return FALSE;

  01204	e3a03000	 mov         r3, #0
  01208	e58d3038	 str         r3, [sp, #0x38]
  0120c	ea000103	 b           |$LN61@CAN_IOCont|
  01210		 |$LN36@CAN_IOCont|

; 794  :         }
; 795  :         break;

  01210	ea000020	 b           |$LN59@CAN_IOCont|
  01214		 |$LN34@CAN_IOCont|

; 796  :     case IOCTL_CAN_REMOTE_CONFIGURE_AUTO_ANSWER: 
; 797  :         if ((inSize != sizeof(IOCTL_CAN_REMOTE_CONFIGURE_AUTO_ANSWER_IN)) || (pInBuffer == NULL))

  01214	e59d30a4	 ldr         r3, [sp, #0xA4]
  01218	e3530014	 cmp         r3, #0x14
  0121c	1a000002	 bne         |$LN32@CAN_IOCont|
  01220	e59d30a0	 ldr         r3, [sp, #0xA0]
  01224	e3530000	 cmp         r3, #0
  01228	1a000002	 bne         |$LN33@CAN_IOCont|
  0122c		 |$LN32@CAN_IOCont|

; 798  :         {
; 799  :             return FALSE;

  0122c	e3a03000	 mov         r3, #0
  01230	e58d3038	 str         r3, [sp, #0x38]
  01234	ea0000f9	 b           |$LN61@CAN_IOCont|
  01238		 |$LN33@CAN_IOCont|

; 800  :         }
; 801  :         break;

  01238	ea000016	 b           |$LN59@CAN_IOCont|
  0123c		 |$LN31@CAN_IOCont|

; 802  :     case IOCTL_CAN_RECEIVE: 
; 803  :         if ((outSize < sizeof(IOCTL_CAN_RECEIVE_OUT)) || (pOutBuffer == NULL))

  0123c	e59d30ac	 ldr         r3, [sp, #0xAC]
  01240	e3530010	 cmp         r3, #0x10
  01244	3a000002	 bcc         |$LN29@CAN_IOCont|
  01248	e59d30a8	 ldr         r3, [sp, #0xA8]
  0124c	e3530000	 cmp         r3, #0
  01250	1a000002	 bne         |$LN30@CAN_IOCont|
  01254		 |$LN29@CAN_IOCont|

; 804  :         {
; 805  :             return FALSE;

  01254	e3a03000	 mov         r3, #0
  01258	e58d3038	 str         r3, [sp, #0x38]
  0125c	ea0000ef	 b           |$LN61@CAN_IOCont|
  01260		 |$LN30@CAN_IOCont|

; 806  :         }
; 807  :         break;

  01260	ea00000c	 b           |$LN59@CAN_IOCont|
  01264		 |$LN28@CAN_IOCont|

; 808  :     case IOCTL_CAN_REMOTE_REQUEST:
; 809  :         if ((inSize < sizeof(IOCTL_CAN_REMOTE_REQUEST_IN)) || (pInBuffer == NULL))

  01264	e59d30a4	 ldr         r3, [sp, #0xA4]
  01268	e3530004	 cmp         r3, #4
  0126c	3a000002	 bcc         |$LN26@CAN_IOCont|
  01270	e59d30a0	 ldr         r3, [sp, #0xA0]
  01274	e3530000	 cmp         r3, #0
  01278	1a000002	 bne         |$LN27@CAN_IOCont|
  0127c		 |$LN26@CAN_IOCont|

; 810  :         {
; 811  :             return FALSE;

  0127c	e3a03000	 mov         r3, #0
  01280	e58d3038	 str         r3, [sp, #0x38]
  01284	ea0000e5	 b           |$LN61@CAN_IOCont|
  01288		 |$LN27@CAN_IOCont|

; 812  :         }
; 813  :         break;

  01288	ea000002	 b           |$LN59@CAN_IOCont|
  0128c		 |$LN25@CAN_IOCont|

; 814  :     default:
; 815  :         return FALSE;

  0128c	e3a03000	 mov         r3, #0
  01290	e58d3038	 str         r3, [sp, #0x38]
  01294	ea0000e1	 b           |$LN61@CAN_IOCont|
  01298		 |$LN59@CAN_IOCont|

; 816  :     }
; 817  : 
; 818  :     switch (code)

  01298	e59d309c	 ldr         r3, [sp, #0x9C]
  0129c	e58d3050	 str         r3, [sp, #0x50]
  012a0	e59d2050	 ldr         r2, [sp, #0x50]
  012a4	e3a0381b	 mov         r3, #0x1B, 16
  012a8	e3833b01	 orr         r3, r3, #1, 22
  012ac	e0423003	 sub         r3, r2, r3
  012b0	e58d3050	 str         r3, [sp, #0x50]
  012b4	e59d3050	 ldr         r3, [sp, #0x50]
  012b8	e353001c	 cmp         r3, #0x1C
  012bc	8a0000d5	 bhi         |$LN23@CAN_IOCont|
  012c0	e59d2050	 ldr         r2, [sp, #0x50]
  012c4	e1a03102	 mov         r3, r2, lsl #2
  012c8	e083300f	 add         r3, r3, pc
  012cc	e5933004	 ldr         r3, [r3, #4]
  012d0	e08ff003	 add         pc, pc, r3
  012d4		 |$LN95@CAN_IOCont|
  012d4		 |$LN94@CAN_IOCont|
  012d4		 |$LN96@CAN_IOCont|
  012d4	00000070	 DCD         0x70
  012d8		 |$LN97@CAN_IOCont|
  012d8	00000340	 DCD         0x340
  012dc		 |$LN98@CAN_IOCont|
  012dc	00000340	 DCD         0x340
  012e0		 |$LN99@CAN_IOCont|
  012e0	00000340	 DCD         0x340
  012e4		 |$LN100@CAN_IOCont|
  012e4	000000ac	 DCD         0xac
  012e8		 |$LN101@CAN_IOCont|
  012e8	00000340	 DCD         0x340
  012ec		 |$LN102@CAN_IOCont|
  012ec	00000340	 DCD         0x340
  012f0		 |$LN103@CAN_IOCont|
  012f0	00000340	 DCD         0x340
  012f4		 |$LN104@CAN_IOCont|
  012f4	00000090	 DCD         0x90
  012f8		 |$LN105@CAN_IOCont|
  012f8	00000340	 DCD         0x340
  012fc		 |$LN106@CAN_IOCont|
  012fc	00000340	 DCD         0x340
  01300		 |$LN107@CAN_IOCont|
  01300	00000340	 DCD         0x340
  01304		 |$LN108@CAN_IOCont|
  01304	00000200	 DCD         0x200
  01308		 |$LN109@CAN_IOCont|
  01308	00000340	 DCD         0x340
  0130c		 |$LN110@CAN_IOCont|
  0130c	00000340	 DCD         0x340
  01310		 |$LN111@CAN_IOCont|
  01310	00000340	 DCD         0x340
  01314		 |$LN112@CAN_IOCont|
  01314	000002f8	 DCD         0x2f8
  01318		 |$LN113@CAN_IOCont|
  01318	00000340	 DCD         0x340
  0131c		 |$LN114@CAN_IOCont|
  0131c	00000340	 DCD         0x340
  01320		 |$LN115@CAN_IOCont|
  01320	00000340	 DCD         0x340
  01324		 |$LN116@CAN_IOCont|
  01324	0000025c	 DCD         0x25c
  01328		 |$LN117@CAN_IOCont|
  01328	00000340	 DCD         0x340
  0132c		 |$LN118@CAN_IOCont|
  0132c	00000340	 DCD         0x340
  01330		 |$LN119@CAN_IOCont|
  01330	00000340	 DCD         0x340
  01334		 |$LN120@CAN_IOCont|
  01334	000000ec	 DCD         0xec
  01338		 |$LN121@CAN_IOCont|
  01338	00000340	 DCD         0x340
  0133c		 |$LN122@CAN_IOCont|
  0133c	00000340	 DCD         0x340
  01340		 |$LN123@CAN_IOCont|
  01340	00000340	 DCD         0x340
  01344		 |$LN124@CAN_IOCont|
  01344	000002d4	 DCD         0x2d4
  01348		 |$LN22@CAN_IOCont|

; 819  :     {
; 820  :     case IOCTL_CAN_COMMAND: 
; 821  :         rc = CANCommand(ctxt,*((IOCTL_CAN_COMMAND_IN*)pInBuffer));

  01348	e59d30a0	 ldr         r3, [sp, #0xA0]
  0134c	e5931000	 ldr         r1, [r3]
  01350	e59d0010	 ldr         r0, [sp, #0x10]
  01354	eb000000	 bl          |?CANCommand@@YAHPAXW4CAN_COMMAND@@@Z|
  01358	e58d0054	 str         r0, [sp, #0x54]
  0135c	e59d3054	 ldr         r3, [sp, #0x54]
  01360	e58d3008	 str         r3, [sp, #8]

; 822  :         break;

  01364	ea0000ab	 b           |$LN23@CAN_IOCont|
  01368		 |$LN21@CAN_IOCont|

; 823  :     case IOCTL_CAN_STATUS: 
; 824  :         rc = CANStatus(ctxt,(IOCTL_CAN_STATUS_OUT*)pOutBuffer);

  01368	e59d10a8	 ldr         r1, [sp, #0xA8]
  0136c	e59d0010	 ldr         r0, [sp, #0x10]
  01370	eb000000	 bl          |?CANStatus@@YAHPAXPAUCAN_STATUS@@@Z|
  01374	e58d0058	 str         r0, [sp, #0x58]
  01378	e59d3058	 ldr         r3, [sp, #0x58]
  0137c	e58d3008	 str         r3, [sp, #8]

; 825  :         break;

  01380	ea0000a4	 b           |$LN23@CAN_IOCont|
  01384		 |$LN20@CAN_IOCont|

; 826  :     case IOCTL_CAN_CONFIG: 
; 827  :         {
; 828  :             IOCTL_CAN_CONFIG_IN* pCfgIn;
; 829  :             pCfgIn = (IOCTL_CAN_CONFIG_IN*) pInBuffer;

  01384	e59d30a0	 ldr         r3, [sp, #0xA0]
  01388	e58d301c	 str         r3, [sp, #0x1C]

; 830  :             switch (pCfgIn->cfgType)

  0138c	e59d301c	 ldr         r3, [sp, #0x1C]
  01390	e5933000	 ldr         r3, [r3]
  01394	e3530000	 cmp         r3, #0
  01398	0a000000	 beq         |$LN17@CAN_IOCont|
  0139c	ea000007	 b           |$LN18@CAN_IOCont|
  013a0		 |$LN17@CAN_IOCont|

; 831  :             {
; 832  :             case BAUDRATE_CFG:
; 833  :                 rc = CANConfigureBaudrate(ctxt,pCfgIn->BaudRate);

  013a0	e59d301c	 ldr         r3, [sp, #0x1C]
  013a4	e2833004	 add         r3, r3, #4
  013a8	e5931000	 ldr         r1, [r3]
  013ac	e59d0010	 ldr         r0, [sp, #0x10]
  013b0	eb000000	 bl          |?CANConfigureBaudrate@@YAHPAXK@Z|
  013b4	e58d005c	 str         r0, [sp, #0x5C]
  013b8	e59d305c	 ldr         r3, [sp, #0x5C]
  013bc	e58d3008	 str         r3, [sp, #8]
  013c0		 |$LN18@CAN_IOCont|

; 834  :                 break;
; 835  :             }
; 836  :         }
; 837  :         break;

  013c0	ea000094	 b           |$LN23@CAN_IOCont|
  013c4		 |$LN16@CAN_IOCont|

; 838  :     case IOCTL_CAN_FILTER_CONFIG:
; 839  :         {
; 840  :             IOCTL_CAN_CLASS_FILTER_CONFIG_IN* pClassCfgIn;
; 841  :             IOCTL_CAN_SUBCLASS_FILTER_CONFIG_IN* pSubClassCfgIn;
; 842  :             pClassCfgIn = (IOCTL_CAN_CLASS_FILTER_CONFIG_IN*) pInBuffer;

  013c4	e59d30a0	 ldr         r3, [sp, #0xA0]
  013c8	e58d3024	 str         r3, [sp, #0x24]

; 843  :             pSubClassCfgIn = (IOCTL_CAN_SUBCLASS_FILTER_CONFIG_IN*) pInBuffer;

  013cc	e59d30a0	 ldr         r3, [sp, #0xA0]
  013d0	e58d3020	 str         r3, [sp, #0x20]

; 844  :             switch (pClassCfgIn->cfgType)

  013d4	e59d3024	 ldr         r3, [sp, #0x24]
  013d8	e5933000	 ldr         r3, [r3]
  013dc	e58d3060	 str         r3, [sp, #0x60]
  013e0	e59d3060	 ldr         r3, [sp, #0x60]
  013e4	e3530004	 cmp         r3, #4
  013e8	8a000039	 bhi         |$LN14@CAN_IOCont|
  013ec	e59d2060	 ldr         r2, [sp, #0x60]
  013f0	e1a03102	 mov         r3, r2, lsl #2
  013f4	e083300f	 add         r3, r3, pc
  013f8	e5933004	 ldr         r3, [r3, #4]
  013fc	e08ff003	 add         pc, pc, r3
  01400		 |$LN126@CAN_IOCont|
  01400		 |$LN125@CAN_IOCont|
  01400		 |$LN127@CAN_IOCont|
  01400	00000010	 DCD         0x10
  01404		 |$LN128@CAN_IOCont|
  01404	00000048	 DCD         0x48
  01408		 |$LN129@CAN_IOCont|
  01408	00000074	 DCD         0x74
  0140c		 |$LN130@CAN_IOCont|
  0140c	00000094	 DCD         0x94
  01410		 |$LN131@CAN_IOCont|
  01410	000000b4	 DCD         0xb4
  01414		 |$LN13@CAN_IOCont|

; 845  :             {
; 846  :             case CREATE_CLASS_FILTER_CFG:
; 847  :                 rc = CANCreateClassFilter(ctxt,&pClassCfgIn->classFilter,pClassCfgIn->rxPriority,pClassCfgIn->fEnabled);

  01414	e59d3024	 ldr         r3, [sp, #0x24]
  01418	e2833010	 add         r3, r3, #0x10
  0141c	e5933000	 ldr         r3, [r3]
  01420	e59d2024	 ldr         r2, [sp, #0x24]
  01424	e282200c	 add         r2, r2, #0xC
  01428	e5922000	 ldr         r2, [r2]
  0142c	e59d1024	 ldr         r1, [sp, #0x24]
  01430	e2811004	 add         r1, r1, #4
  01434	e59d0010	 ldr         r0, [sp, #0x10]
  01438	eb000000	 bl          |?CANCreateClassFilter@@YAHPAXPAUCLASS_FILTER@@W4RXCAN_PRIORITY@@H@Z|
  0143c	e58d0064	 str         r0, [sp, #0x64]
  01440	e59d3064	 ldr         r3, [sp, #0x64]
  01444	e58d3008	 str         r3, [sp, #8]

; 848  :                 break;

  01448	ea000021	 b           |$LN14@CAN_IOCont|
  0144c		 |$LN12@CAN_IOCont|

; 849  :             case ENABLE_DISABLE_CLASS_FILTER_CFG:
; 850  :                 rc = CANEnableClassFilter(ctxt,&pClassCfgIn->classFilter,pClassCfgIn->fEnabled);

  0144c	e59d3024	 ldr         r3, [sp, #0x24]
  01450	e2833010	 add         r3, r3, #0x10
  01454	e5932000	 ldr         r2, [r3]
  01458	e59d3024	 ldr         r3, [sp, #0x24]
  0145c	e2831004	 add         r1, r3, #4
  01460	e59d0010	 ldr         r0, [sp, #0x10]
  01464	eb000000	 bl          |?CANEnableClassFilter@@YAHPAXPAUCLASS_FILTER@@H@Z|
  01468	e58d0068	 str         r0, [sp, #0x68]
  0146c	e59d3068	 ldr         r3, [sp, #0x68]
  01470	e58d3008	 str         r3, [sp, #8]

; 851  :                 break;

  01474	ea000016	 b           |$LN14@CAN_IOCont|
  01478		 |$LN11@CAN_IOCont|

; 852  :             case DELETE_CLASS_FILTER_CFG:
; 853  :                 rc = CANDeleteClassFilter(ctxt,&pClassCfgIn->classFilter);

  01478	e59d3024	 ldr         r3, [sp, #0x24]
  0147c	e2831004	 add         r1, r3, #4
  01480	e59d0010	 ldr         r0, [sp, #0x10]
  01484	eb000000	 bl          |?CANDeleteClassFilter@@YAHPAXPAUCLASS_FILTER@@@Z|
  01488	e58d006c	 str         r0, [sp, #0x6C]
  0148c	e59d306c	 ldr         r3, [sp, #0x6C]
  01490	e58d3008	 str         r3, [sp, #8]

; 854  :                 break;

  01494	ea00000e	 b           |$LN14@CAN_IOCont|
  01498		 |$LN10@CAN_IOCont|

; 855  :             case ADD_SUBCLASS_FILTER_CFG:
; 856  :                 rc = CANAddSubClassFilter(ctxt,&pSubClassCfgIn->subClassFilter);

  01498	e59d3020	 ldr         r3, [sp, #0x20]
  0149c	e2831004	 add         r1, r3, #4
  014a0	e59d0010	 ldr         r0, [sp, #0x10]
  014a4	eb000000	 bl          |?CANAddSubClassFilter@@YAHPAXPAUSUBCLASS_FILTER@@@Z|
  014a8	e58d0070	 str         r0, [sp, #0x70]
  014ac	e59d3070	 ldr         r3, [sp, #0x70]
  014b0	e58d3008	 str         r3, [sp, #8]

; 857  :                 break;

  014b4	ea000006	 b           |$LN14@CAN_IOCont|
  014b8		 |$LN9@CAN_IOCont|

; 858  :             case REMOVE_SUBCLASS_FILTER_CFG:
; 859  :                 rc = CANRemoveSubClassFilter(ctxt,&pSubClassCfgIn->subClassFilter);

  014b8	e59d3020	 ldr         r3, [sp, #0x20]
  014bc	e2831004	 add         r1, r3, #4
  014c0	e59d0010	 ldr         r0, [sp, #0x10]
  014c4	eb000000	 bl          |?CANRemoveSubClassFilter@@YAHPAXPAUSUBCLASS_FILTER@@@Z|
  014c8	e58d0074	 str         r0, [sp, #0x74]
  014cc	e59d3074	 ldr         r3, [sp, #0x74]
  014d0	e58d3008	 str         r3, [sp, #8]
  014d4		 |$LN14@CAN_IOCont|

; 860  :                 break;                
; 861  :             }
; 862  :         }    
; 863  :         break;

  014d4	ea00004f	 b           |$LN23@CAN_IOCont|
  014d8		 |$LN8@CAN_IOCont|

; 864  :     case IOCTL_CAN_SEND: 
; 865  :         {
; 866  :             IOCTL_CAN_SEND_IN* pSendIn = (IOCTL_CAN_SEND_IN*) pInBuffer;

  014d8	e59d30a0	 ldr         r3, [sp, #0xA0]
  014dc	e58d3028	 str         r3, [sp, #0x28]

; 867  :             rc = CANSend(ctxt,pSendIn->msgArray,pSendIn->nbMsg,&pSendIn->nbMsgSent,pSendIn->priority,pSendIn->timeout);            

  014e0	e59d3028	 ldr         r3, [sp, #0x28]
  014e4	e2833008	 add         r3, r3, #8
  014e8	e5933000	 ldr         r3, [r3]
  014ec	e58d3004	 str         r3, [sp, #4]
  014f0	e59d3028	 ldr         r3, [sp, #0x28]
  014f4	e283300c	 add         r3, r3, #0xC
  014f8	e5933000	 ldr         r3, [r3]
  014fc	e58d3000	 str         r3, [sp]
  01500	e59d3028	 ldr         r3, [sp, #0x28]
  01504	e2833004	 add         r3, r3, #4
  01508	e59d2028	 ldr         r2, [sp, #0x28]
  0150c	e5922000	 ldr         r2, [r2]
  01510	e59d1028	 ldr         r1, [sp, #0x28]
  01514	e2811010	 add         r1, r1, #0x10
  01518	e5911000	 ldr         r1, [r1]
  0151c	e59d0010	 ldr         r0, [sp, #0x10]
  01520	eb000000	 bl          |?CANSend@@YAHPAXPAUCAN_MESSAGE@@KPAKW4TXCAN_PRIORITY@@K@Z|
  01524	e58d0078	 str         r0, [sp, #0x78]
  01528	e59d3078	 ldr         r3, [sp, #0x78]
  0152c	e58d3008	 str         r3, [sp, #8]

; 868  :         }
; 869  :         break;

  01530	ea000038	 b           |$LN23@CAN_IOCont|
  01534		 |$LN7@CAN_IOCont|

; 870  :     case IOCTL_CAN_REMOTE_CONFIGURE_AUTO_ANSWER:
; 871  :         {
; 872  :             IOCTL_CAN_REMOTE_CONFIGURE_AUTO_ANSWER_IN* pAutoAnswerIn = (IOCTL_CAN_REMOTE_CONFIGURE_AUTO_ANSWER_IN*) pInBuffer;

  01534	e59d30a0	 ldr         r3, [sp, #0xA0]
  01538	e58d302c	 str         r3, [sp, #0x2C]

; 873  :             switch (pAutoAnswerIn->cfgType)

  0153c	e59d302c	 ldr         r3, [sp, #0x2C]
  01540	e5933000	 ldr         r3, [r3]
  01544	e58d307c	 str         r3, [sp, #0x7C]
  01548	e59d307c	 ldr         r3, [sp, #0x7C]
  0154c	e3530000	 cmp         r3, #0
  01550	0a000003	 beq         |$LN4@CAN_IOCont|
  01554	e59d307c	 ldr         r3, [sp, #0x7C]
  01558	e3530001	 cmp         r3, #1
  0155c	0a000009	 beq         |$LN3@CAN_IOCont|
  01560	ea000010	 b           |$LN5@CAN_IOCont|
  01564		 |$LN4@CAN_IOCont|

; 874  :             {
; 875  :             case SET_AUTO_ANSWER:
; 876  :                 rc = CANConfigureAutoAnswer(ctxt,&pAutoAnswerIn->msg,TRUE);            

  01564	e3a02001	 mov         r2, #1
  01568	e59d302c	 ldr         r3, [sp, #0x2C]
  0156c	e2831004	 add         r1, r3, #4
  01570	e59d0010	 ldr         r0, [sp, #0x10]
  01574	eb000000	 bl          |?CANConfigureAutoAnswer@@YAHPAXPAUCAN_MESSAGE@@H@Z|
  01578	e58d0080	 str         r0, [sp, #0x80]
  0157c	e59d3080	 ldr         r3, [sp, #0x80]
  01580	e58d3008	 str         r3, [sp, #8]

; 877  :                 break;

  01584	ea000007	 b           |$LN5@CAN_IOCont|
  01588		 |$LN3@CAN_IOCont|

; 878  :             case DELETE_AUTO_ANSWER:
; 879  :                 rc = CANConfigureAutoAnswer(ctxt,&pAutoAnswerIn->msg,FALSE);            

  01588	e3a02000	 mov         r2, #0
  0158c	e59d302c	 ldr         r3, [sp, #0x2C]
  01590	e2831004	 add         r1, r3, #4
  01594	e59d0010	 ldr         r0, [sp, #0x10]
  01598	eb000000	 bl          |?CANConfigureAutoAnswer@@YAHPAXPAUCAN_MESSAGE@@H@Z|
  0159c	e58d0084	 str         r0, [sp, #0x84]
  015a0	e59d3084	 ldr         r3, [sp, #0x84]
  015a4	e58d3008	 str         r3, [sp, #8]
  015a8		 |$LN5@CAN_IOCont|

; 880  :                 break;
; 881  :             }
; 882  :         }
; 883  :         break;

  015a8	ea00001a	 b           |$LN23@CAN_IOCont|
  015ac		 |$LN2@CAN_IOCont|

; 884  :     case IOCTL_CAN_REMOTE_REQUEST:
; 885  :         {
; 886  :             IOCTL_CAN_REMOTE_REQUEST_IN* pRemoteRequest = (IOCTL_CAN_REMOTE_REQUEST_IN*) pInBuffer;

  015ac	e59d30a0	 ldr         r3, [sp, #0xA0]
  015b0	e58d3030	 str         r3, [sp, #0x30]

; 887  :             rc = CANRemoteRequest(ctxt,pRemoteRequest);

  015b4	e59d1030	 ldr         r1, [sp, #0x30]
  015b8	e59d0010	 ldr         r0, [sp, #0x10]
  015bc	eb000000	 bl          |?CANRemoteRequest@@YAHPAXPAUCAN_REMOTE_REQUEST@@@Z|
  015c0	e58d0088	 str         r0, [sp, #0x88]
  015c4	e59d3088	 ldr         r3, [sp, #0x88]
  015c8	e58d3008	 str         r3, [sp, #8]

; 888  :         }
; 889  :         break;

  015cc	ea000011	 b           |$LN23@CAN_IOCont|
  015d0		 |$LN1@CAN_IOCont|

; 890  :     case IOCTL_CAN_RECEIVE: 
; 891  :         {
; 892  :             IOCTL_CAN_RECEIVE_OUT* pRcvOut = (IOCTL_CAN_RECEIVE_OUT*) pOutBuffer;            

  015d0	e59d30a8	 ldr         r3, [sp, #0xA8]
  015d4	e58d3034	 str         r3, [sp, #0x34]

; 893  :             rc = CANReceive(ctxt,pRcvOut->msgArray,pRcvOut->nbMaxMsg,&pRcvOut->nbMsgReceived,pRcvOut->timeout);

  015d8	e59d3034	 ldr         r3, [sp, #0x34]
  015dc	e2833008	 add         r3, r3, #8
  015e0	e5933000	 ldr         r3, [r3]
  015e4	e58d3000	 str         r3, [sp]
  015e8	e59d3034	 ldr         r3, [sp, #0x34]
  015ec	e2833004	 add         r3, r3, #4
  015f0	e59d2034	 ldr         r2, [sp, #0x34]
  015f4	e5922000	 ldr         r2, [r2]
  015f8	e59d1034	 ldr         r1, [sp, #0x34]
  015fc	e281100c	 add         r1, r1, #0xC
  01600	e5911000	 ldr         r1, [r1]
  01604	e59d0010	 ldr         r0, [sp, #0x10]
  01608	eb000000	 bl          |?CANReceive@@YAHPAXPAUCAN_MESSAGE@@KPAKK@Z|
  0160c	e58d008c	 str         r0, [sp, #0x8C]
  01610	e59d308c	 ldr         r3, [sp, #0x8C]
  01614	e58d3008	 str         r3, [sp, #8]
  01618		 |$LN23@CAN_IOCont|

; 894  :         }        
; 895  :         break;
; 896  :     }
; 897  :     return rc;

  01618	e59d3008	 ldr         r3, [sp, #8]
  0161c	e58d3038	 str         r3, [sp, #0x38]
  01620		 |$LN61@CAN_IOCont|

; 898  : }

  01620	e59d0038	 ldr         r0, [sp, #0x38]
  01624	e28dd090	 add         sp, sp, #0x90
  01628	e89d6000	 ldmia       sp, {sp, lr}
  0162c	e12fff1e	 bx          lr
  01630		 |$M37926|

			 ENDP  ; |?CAN_IOControl@@YAHKKPAEK0KPAK@Z|, CAN_IOControl

	EXPORT	|?SendMsg@@YAXPAUT_CAN_DEVICE@@PAUCAN_MESSAGE@@KE@Z| ; SendMsg

  00068			 AREA	 |.pdata|, PDATA
|$T37933| DCD	|$LN5@SendMsg|
	DCD	0x40002f04
; Function compile flags: /Odtp

  01630			 AREA	 |.text|, CODE, ARM

  01630		 |?SendMsg@@YAXPAUT_CAN_DEVICE@@PAUCAN_MESSAGE@@KE@Z| PROC ; SendMsg

; 900  : {    

  01630		 |$LN5@SendMsg|
  01630	e1a0c00d	 mov         r12, sp
  01634	e92d000f	 stmdb       sp!, {r0 - r3}
  01638	e92d5000	 stmdb       sp!, {r12, lr}
  0163c	e24dd00c	 sub         sp, sp, #0xC
  01640		 |$M37930|

; 901  :     OMAP_HECC_SCC_MAILBOX* pMbx;    
; 902  :     pMbx = &pDevice->pCanRegs->MailBoxes[mailbox];

  01640	e59d3014	 ldr         r3, [sp, #0x14]
  01644	e283302c	 add         r3, r3, #0x2C
  01648	e5933000	 ldr         r3, [r3]
  0164c	e2831a02	 add         r1, r3, #2, 20
  01650	e59d201c	 ldr         r2, [sp, #0x1C]
  01654	e3a03010	 mov         r3, #0x10
  01658	e0030392	 mul         r3, r2, r3
  0165c	e0813003	 add         r3, r1, r3
  01660	e58d3000	 str         r3, [sp]

; 903  :     pMbx->CANMDH = pMsg->MDH;

  01664	e59d3018	 ldr         r3, [sp, #0x18]
  01668	e2831004	 add         r1, r3, #4
  0166c	e59d3000	 ldr         r3, [sp]
  01670	e283200c	 add         r2, r3, #0xC
  01674	e5913000	 ldr         r3, [r1]
  01678	e5823000	 str         r3, [r2]

; 904  :     pMbx->CANMDL = pMsg->MDL;

  0167c	e59d3000	 ldr         r3, [sp]
  01680	e2832008	 add         r2, r3, #8
  01684	e59d3018	 ldr         r3, [sp, #0x18]
  01688	e5933000	 ldr         r3, [r3]
  0168c	e5823000	 str         r3, [r2]

; 905  :     pMbx->CANMID = IDtoCANMID(pMsg->id);

  01690	e59d3018	 ldr         r3, [sp, #0x18]
  01694	e283300c	 add         r3, r3, #0xC
  01698	e58d3004	 str         r3, [sp, #4]
  0169c	e59d3004	 ldr         r3, [sp, #4]
  016a0	e5930000	 ldr         r0, [r3]
  016a4	eb000000	 bl          |?IDtoCANMID@@YAITCAN_ID@@@Z|
  016a8	e58d0008	 str         r0, [sp, #8]
  016ac	e59d2008	 ldr         r2, [sp, #8]
  016b0	e59d3000	 ldr         r3, [sp]
  016b4	e5832000	 str         r2, [r3]

; 906  :     pMbx->CANMCF = pMsg->length | (TPL << 8);        

  016b8	e59d3018	 ldr         r3, [sp, #0x18]
  016bc	e2833008	 add         r3, r3, #8
  016c0	e5d33000	 ldrb        r3, [r3]
  016c4	e1a02003	 mov         r2, r3
  016c8	e5dd3020	 ldrb        r3, [sp, #0x20]
  016cc	e1a03403	 mov         r3, r3, lsl #8
  016d0	e1822003	 orr         r2, r2, r3
  016d4	e59d3000	 ldr         r3, [sp]
  016d8	e2833004	 add         r3, r3, #4
  016dc	e5832000	 str         r2, [r3]

; 907  : }

  016e0	e28dd00c	 add         sp, sp, #0xC
  016e4	e89d6000	 ldmia       sp, {sp, lr}
  016e8	e12fff1e	 bx          lr
  016ec		 |$M37931|

			 ENDP  ; |?SendMsg@@YAXPAUT_CAN_DEVICE@@PAUCAN_MESSAGE@@KE@Z|, SendMsg

	EXPORT	|?StartTransmit@@YAXPAUT_CAN_DEVICE@@@Z| ; StartTransmit
	IMPORT	|InterlockedIncrement|
	IMPORT	|InterlockedDecrement|
	IMPORT	|ReadMsgQueue|

  00070			 AREA	 |.pdata|, PDATA
|$T37940| DCD	|$LN13@StartTrans|
	DCD	0x40007c04
; Function compile flags: /Odtp

  016ec			 AREA	 |.text|, CODE, ARM

  016ec		 |?StartTransmit@@YAXPAUT_CAN_DEVICE@@@Z| PROC ; StartTransmit

; 910  : {        

  016ec		 |$LN13@StartTrans|
  016ec	e1a0c00d	 mov         r12, sp
  016f0	e92d0001	 stmdb       sp!, {r0}
  016f4	e92d5010	 stmdb       sp!, {r4, r12, lr}
  016f8	e24dd03c	 sub         sp, sp, #0x3C
  016fc		 |$M37937|

; 911  :     DWORD trs;
; 912  :     OMAP_HECC_SCC_REGS* pRegs = pDevice->pCanRegs;

  016fc	e59d3048	 ldr         r3, [sp, #0x48]
  01700	e283302c	 add         r3, r3, #0x2C
  01704	e5933000	 ldr         r3, [r3]
  01708	e58d3008	 str         r3, [sp, #8]

; 913  : 
; 914  :     trs = INREG32(&pRegs->CANTRS);

  0170c	e59d3008	 ldr         r3, [sp, #8]
  01710	e2833008	 add         r3, r3, #8
  01714	e5933000	 ldr         r3, [r3]
  01718	e58d300c	 str         r3, [sp, #0xC]

; 915  : 
; 916  :     //If we still have some mailbox waiting to transmit, we do no nothing in order to
; 917  :     //keep a correct transmit order
; 918  :     if ((trs & pDevice->TxMailBoxMask) != 0)

  0171c	e59d3048	 ldr         r3, [sp, #0x48]
  01720	e28330c0	 add         r3, r3, #0xC0
  01724	e59d200c	 ldr         r2, [sp, #0xC]
  01728	e5933000	 ldr         r3, [r3]
  0172c	e1120003	 tst         r2, r3
  01730	0a000000	 beq         |$LN8@StartTrans|

; 919  :     {          
; 920  :         return;

  01734	ea000064	 b           |$LN9@StartTrans|
  01738		 |$LN8@StartTrans|

; 921  :     }
; 922  : 
; 923  : 
; 924  : 
; 925  :     // All TX mailboxes are free. we fill them all with data
; 926  :     EnterCriticalSection(&pDevice->regcs);    

  01738	e59d3048	 ldr         r3, [sp, #0x48]
  0173c	e2830030	 add         r0, r3, #0x30
  01740	eb000000	 bl          EnterCriticalSection

; 927  :     CLRREG32(&pRegs->CANME,pDevice->TxMailBoxMask);

  01744	e59d3048	 ldr         r3, [sp, #0x48]
  01748	e28330c0	 add         r3, r3, #0xC0
  0174c	e5933000	 ldr         r3, [r3]
  01750	e1e02003	 mvn         r2, r3
  01754	e59d3008	 ldr         r3, [sp, #8]
  01758	e5933000	 ldr         r3, [r3]
  0175c	e0032002	 and         r2, r3, r2
  01760	e59d3008	 ldr         r3, [sp, #8]
  01764	e5832000	 str         r2, [r3]

; 928  :     for (int TxMailBox=LAST_TX_MAILBOX;TxMailBox>=FIRST_TX_MAILBOX;TxMailBox--)

  01768	e3a03015	 mov         r3, #0x15
  0176c	e58d3010	 str         r3, [sp, #0x10]
  01770	ea000002	 b           |$LN7@StartTrans|
  01774		 |$LN6@StartTrans|
  01774	e59d3010	 ldr         r3, [sp, #0x10]
  01778	e2433001	 sub         r3, r3, #1
  0177c	e58d3010	 str         r3, [sp, #0x10]
  01780		 |$LN7@StartTrans|
  01780	e59d3010	 ldr         r3, [sp, #0x10]
  01784	e3530013	 cmp         r3, #0x13
  01788	ba00004c	 blt         |$LN5@StartTrans|

; 929  :     {            
; 930  :         DWORD flags;
; 931  :         DWORD nbRead;
; 932  :         CAN_MESSAGE msg;               
; 933  : 
; 934  :         int priority=0;

  0178c	e3a03000	 mov         r3, #0
  01790	e58d301c	 str         r3, [sp, #0x1C]
  01794		 |$LN4@StartTrans|

; 935  :         while ( (priority <NB_TX_PRIORITIES) && (ReadMsgQueue(pDevice->TxMsgQ[priority][MSQ_READER],&msg,sizeof(msg),&nbRead,0,&flags) == FALSE))

  01794	e59d301c	 ldr         r3, [sp, #0x1C]
  01798	e3530003	 cmp         r3, #3
  0179c	aa000016	 bge         |$LN3@StartTrans|
  017a0	e28d3014	 add         r3, sp, #0x14
  017a4	e58d3004	 str         r3, [sp, #4]
  017a8	e3a03000	 mov         r3, #0
  017ac	e58d3000	 str         r3, [sp]
  017b0	e28d3018	 add         r3, sp, #0x18
  017b4	e3a02010	 mov         r2, #0x10
  017b8	e28d1020	 add         r1, sp, #0x20
  017bc	e59d0048	 ldr         r0, [sp, #0x48]
  017c0	e2804060	 add         r4, r0, #0x60
  017c4	e59de01c	 ldr         lr, [sp, #0x1C]
  017c8	e3a00008	 mov         r0, #8
  017cc	e000009e	 mul         r0, lr, r0
  017d0	e0840000	 add         r0, r4, r0
  017d4	e5900000	 ldr         r0, [r0]
  017d8	eb000000	 bl          ReadMsgQueue
  017dc	e58d0038	 str         r0, [sp, #0x38]
  017e0	e59d3038	 ldr         r3, [sp, #0x38]
  017e4	e3530000	 cmp         r3, #0
  017e8	1a000003	 bne         |$LN3@StartTrans|

; 936  :         {
; 937  :             priority++;

  017ec	e59d301c	 ldr         r3, [sp, #0x1C]
  017f0	e2833001	 add         r3, r3, #1
  017f4	e58d301c	 str         r3, [sp, #0x1C]

; 938  :         }

  017f8	eaffffe5	 b           |$LN4@StartTrans|
  017fc		 |$LN3@StartTrans|

; 939  : 
; 940  :         if (priority <NB_TX_PRIORITIES)

  017fc	e59d301c	 ldr         r3, [sp, #0x1C]
  01800	e3530003	 cmp         r3, #3
  01804	aa00002b	 bge         |$LN2@StartTrans|

; 941  :         {                    
; 942  :             SendMsg(pDevice,&msg,TxMailBox,PriorityMapping[priority]);

  01808	e59f20c8	 ldr         r2, [pc, #0xC8]
  0180c	e59d301c	 ldr         r3, [sp, #0x1C]
  01810	e0823003	 add         r3, r2, r3
  01814	e5d33000	 ldrb        r3, [r3]
  01818	e59d2010	 ldr         r2, [sp, #0x10]
  0181c	e28d1020	 add         r1, sp, #0x20
  01820	e59d0048	 ldr         r0, [sp, #0x48]
  01824	eb000000	 bl          |?SendMsg@@YAXPAUT_CAN_DEVICE@@PAUCAN_MESSAGE@@KE@Z|

; 943  :             pDevice->TxMailBoxAvailableMask &= ~(1<<TxMailBox);

  01828	e59d3048	 ldr         r3, [sp, #0x48]
  0182c	e28310bc	 add         r1, r3, #0xBC
  01830	e59d2010	 ldr         r2, [sp, #0x10]
  01834	e3a03001	 mov         r3, #1
  01838	e1a03213	 mov         r3, r3, lsl r2
  0183c	e1e02003	 mvn         r2, r3
  01840	e5913000	 ldr         r3, [r1]
  01844	e0032002	 and         r2, r3, r2
  01848	e59d3048	 ldr         r3, [sp, #0x48]
  0184c	e28330bc	 add         r3, r3, #0xBC
  01850	e5832000	 str         r2, [r3]

; 944  :             SETREG32(&pRegs->CANME,1<<TxMailBox);

  01854	e59d2010	 ldr         r2, [sp, #0x10]
  01858	e3a03001	 mov         r3, #1
  0185c	e1a02213	 mov         r2, r3, lsl r2
  01860	e59d3008	 ldr         r3, [sp, #8]
  01864	e5933000	 ldr         r3, [r3]
  01868	e1832002	 orr         r2, r3, r2
  0186c	e59d3008	 ldr         r3, [sp, #8]
  01870	e5832000	 str         r2, [r3]

; 945  :             OUTREG32(&pRegs->CANTRS,1<<TxMailBox);

  01874	e59d2010	 ldr         r2, [sp, #0x10]
  01878	e3a03001	 mov         r3, #1
  0187c	e1a02213	 mov         r2, r3, lsl r2
  01880	e59d3008	 ldr         r3, [sp, #8]
  01884	e2833008	 add         r3, r3, #8
  01888	e5832000	 str         r2, [r3]

; 946  :             
; 947  :             InterlockedDecrement(&pDevice->canStatus.currentTxMsg[priority]);

  0188c	e59d3048	 ldr         r3, [sp, #0x48]
  01890	e2831080	 add         r1, r3, #0x80
  01894	e59d201c	 ldr         r2, [sp, #0x1C]
  01898	e3a03004	 mov         r3, #4
  0189c	e0030392	 mul         r3, r2, r3
  018a0	e0810003	 add         r0, r1, r3
  018a4	eb000000	 bl          InterlockedDecrement

; 948  :             InterlockedIncrement(&pDevice->canStatus.TotalSent);

  018a8	e59d3048	 ldr         r3, [sp, #0x48]
  018ac	e28300b0	 add         r0, r3, #0xB0
  018b0	eb000000	 bl          InterlockedIncrement

; 949  :         }
; 950  :         else

  018b4	ea000000	 b           |$LN1@StartTrans|
  018b8		 |$LN2@StartTrans|

; 951  :         {
; 952  :             break;

  018b8	ea000000	 b           |$LN5@StartTrans|
  018bc		 |$LN1@StartTrans|

; 953  :         }                   
; 954  :     }    

  018bc	eaffffac	 b           |$LN6@StartTrans|
  018c0		 |$LN5@StartTrans|

; 955  :     LeaveCriticalSection(&pDevice->regcs);

  018c0	e59d3048	 ldr         r3, [sp, #0x48]
  018c4	e2830030	 add         r0, r3, #0x30
  018c8	eb000000	 bl          LeaveCriticalSection
  018cc		 |$LN9@StartTrans|

; 956  :         
; 957  : }

  018cc	e28dd03c	 add         sp, sp, #0x3C
  018d0	e89d6010	 ldmia       sp, {r4, sp, lr}
  018d4	e12fff1e	 bx          lr
  018d8		 |$LN14@StartTrans|
  018d8		 |$LN15@StartTrans|
  018d8	00000000	 DCD         |PriorityMapping|
  018dc		 |$M37938|

			 ENDP  ; |?StartTransmit@@YAXPAUT_CAN_DEVICE@@@Z|, StartTransmit

	EXPORT	|??_C@_1EC@BCOECHNM@?$AAT?$AAX?$AA?5?$AAi?$AAn?$AAt?$AAe?$AAr?$AAr?$AAu?$AAp?$AAt?$AA?5?$AA?$CI?$AAa?$AAc?$AAk?$AAn?$AAo?$AAl?$AAe?$AAd?$AAg?$AAe?$AA?$CJ?$AA?5?$AA0?$AAx?$AA?$CF?$AAx?$AA?$AN?$AA?6@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DI@GMIGHPFP@?$AAT?$AAX?$AA?5?$AAi?$AAn?$AAt?$AAe?$AAr?$AAr?$AAu?$AAp?$AAt?$AA?5?$AA?$CI?$AAa?$AAb?$AAo?$AAr?$AAt?$AA?$CJ?$AA?5?$AA0?$AAx?$AA?$CF?$AAx?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|?HandleTXMailboxInterrupt@@YAXPAUT_CAN_DEVICE@@@Z| ; HandleTXMailboxInterrupt

  00078			 AREA	 |.pdata|, PDATA
|$T37951| DCD	|$LN11@HandleTXMa|
	DCD	0x40005304

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EC@BCOECHNM@?$AAT?$AAX?$AA?5?$AAi?$AAn?$AAt?$AAe?$AAr?$AAr?$AAu?$AAp?$AAt?$AA?5?$AA?$CI?$AAa?$AAc?$AAk?$AAn?$AAo?$AAl?$AAe?$AAd?$AAg?$AAe?$AA?$CJ?$AA?5?$AA0?$AAx?$AA?$CF?$AAx?$AA?$AN?$AA?6@| DCB "T"
	DCB	0x0, "X", 0x0, " ", 0x0, "i", 0x0, "n", 0x0, "t", 0x0, "e"
	DCB	0x0, "r", 0x0, "r", 0x0, "u", 0x0, "p", 0x0, "t", 0x0, " "
	DCB	0x0, "(", 0x0, "a", 0x0, "c", 0x0, "k", 0x0, "n", 0x0, "o"
	DCB	0x0, "l", 0x0, "e", 0x0, "d", 0x0, "g", 0x0, "e", 0x0, ")"
	DCB	0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%", 0x0, "x", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DI@GMIGHPFP@?$AAT?$AAX?$AA?5?$AAi?$AAn?$AAt?$AAe?$AAr?$AAr?$AAu?$AAp?$AAt?$AA?5?$AA?$CI?$AAa?$AAb?$AAo?$AAr?$AAt?$AA?$CJ?$AA?5?$AA0?$AAx?$AA?$CF?$AAx?$AA?$AN?$AA?6?$AA?$AA@| DCB "T"
	DCB	0x0, "X", 0x0, " ", 0x0, "i", 0x0, "n", 0x0, "t", 0x0, "e"
	DCB	0x0, "r", 0x0, "r", 0x0, "u", 0x0, "p", 0x0, "t", 0x0, " "
	DCB	0x0, "(", 0x0, "a", 0x0, "b", 0x0, "o", 0x0, "r", 0x0, "t"
	DCB	0x0, ")", 0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%", 0x0, "x"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'
; Function compile flags: /Odtp

  018dc			 AREA	 |.text|, CODE, ARM

  018dc		 |?HandleTXMailboxInterrupt@@YAXPAUT_CAN_DEVICE@@@Z| PROC ; HandleTXMailboxInterrupt

; 959  : {    

  018dc		 |$LN11@HandleTXMa|
  018dc	e1a0c00d	 mov         r12, sp
  018e0	e92d0001	 stmdb       sp!, {r0}
  018e4	e92d5000	 stmdb       sp!, {r12, lr}
  018e8	e24dd014	 sub         sp, sp, #0x14
  018ec		 |$M37948|

; 960  :     DWORD canaa,canta;
; 961  :     OMAP_HECC_SCC_REGS* pRegs = pDevice->pCanRegs;

  018ec	e59d301c	 ldr         r3, [sp, #0x1C]
  018f0	e283302c	 add         r3, r3, #0x2C
  018f4	e5933000	 ldr         r3, [r3]
  018f8	e58d3008	 str         r3, [sp, #8]

; 962  : 
; 963  :     //Handle TX mailboxes
; 964  :     canaa = INREG32(&pRegs->CANAA);

  018fc	e59d3008	 ldr         r3, [sp, #8]
  01900	e2833014	 add         r3, r3, #0x14
  01904	e5933000	 ldr         r3, [r3]
  01908	e58d3000	 str         r3, [sp]

; 965  :     if (canaa)

  0190c	e59d3000	 ldr         r3, [sp]
  01910	e3530000	 cmp         r3, #0
  01914	0a00001a	 beq         |$LN2@HandleTXMa|

; 966  :     {
; 967  :         RETAILMSG(0,(TEXT("TX interrupt (abort) 0x%x\r\n"),canaa));

  01918	ea000005	 b           |$LN5@HandleTXMa|
  0191c	e59d1000	 ldr         r1, [sp]
  01920	e59f00fc	 ldr         r0, [pc, #0xFC]
  01924	eb000000	 bl          NKDbgPrintfW
  01928	e3a03001	 mov         r3, #1
  0192c	e58d300c	 str         r3, [sp, #0xC]
  01930	ea000001	 b           |$LN6@HandleTXMa|
  01934		 |$LN5@HandleTXMa|
  01934	e3a03000	 mov         r3, #0
  01938	e58d300c	 str         r3, [sp, #0xC]
  0193c		 |$LN6@HandleTXMa|

; 968  :         OUTREG32(&pRegs->CANTA,canaa);

  0193c	e59d3008	 ldr         r3, [sp, #8]
  01940	e2832010	 add         r2, r3, #0x10
  01944	e59d3000	 ldr         r3, [sp]
  01948	e5823000	 str         r3, [r2]

; 969  :         EnterCriticalSection(&pDevice->regcs);

  0194c	e59d301c	 ldr         r3, [sp, #0x1C]
  01950	e2830030	 add         r0, r3, #0x30
  01954	eb000000	 bl          EnterCriticalSection

; 970  :         pDevice->TxMailBoxAvailableMask |= canaa;

  01958	e59d301c	 ldr         r3, [sp, #0x1C]
  0195c	e28330bc	 add         r3, r3, #0xBC
  01960	e5932000	 ldr         r2, [r3]
  01964	e59d3000	 ldr         r3, [sp]
  01968	e1822003	 orr         r2, r2, r3
  0196c	e59d301c	 ldr         r3, [sp, #0x1C]
  01970	e28330bc	 add         r3, r3, #0xBC
  01974	e5832000	 str         r2, [r3]

; 971  :         LeaveCriticalSection(&pDevice->regcs);

  01978	e59d301c	 ldr         r3, [sp, #0x1C]
  0197c	e2830030	 add         r0, r3, #0x30
  01980	eb000000	 bl          LeaveCriticalSection
  01984		 |$LN2@HandleTXMa|

; 972  :     }        
; 973  : 
; 974  :     canta = INREG32(&pRegs->CANTA);

  01984	e59d3008	 ldr         r3, [sp, #8]
  01988	e2833010	 add         r3, r3, #0x10
  0198c	e5933000	 ldr         r3, [r3]
  01990	e58d3004	 str         r3, [sp, #4]

; 975  :     if (canta)

  01994	e59d3004	 ldr         r3, [sp, #4]
  01998	e3530000	 cmp         r3, #0
  0199c	0a00001a	 beq         |$LN1@HandleTXMa|

; 976  :     {
; 977  :         RETAILMSG(0,(TEXT("TX interrupt (acknoledge) 0x%x\r\n"),canta));

  019a0	ea000005	 b           |$LN7@HandleTXMa|
  019a4	e59d1004	 ldr         r1, [sp, #4]
  019a8	e59f0070	 ldr         r0, [pc, #0x70]
  019ac	eb000000	 bl          NKDbgPrintfW
  019b0	e3a03001	 mov         r3, #1
  019b4	e58d3010	 str         r3, [sp, #0x10]
  019b8	ea000001	 b           |$LN8@HandleTXMa|
  019bc		 |$LN7@HandleTXMa|
  019bc	e3a03000	 mov         r3, #0
  019c0	e58d3010	 str         r3, [sp, #0x10]
  019c4		 |$LN8@HandleTXMa|

; 978  :         OUTREG32(&pRegs->CANTA,canta);

  019c4	e59d3008	 ldr         r3, [sp, #8]
  019c8	e2832010	 add         r2, r3, #0x10
  019cc	e59d3004	 ldr         r3, [sp, #4]
  019d0	e5823000	 str         r3, [r2]

; 979  :         EnterCriticalSection(&pDevice->regcs);

  019d4	e59d301c	 ldr         r3, [sp, #0x1C]
  019d8	e2830030	 add         r0, r3, #0x30
  019dc	eb000000	 bl          EnterCriticalSection

; 980  :         pDevice->TxMailBoxAvailableMask |= canta;

  019e0	e59d301c	 ldr         r3, [sp, #0x1C]
  019e4	e28330bc	 add         r3, r3, #0xBC
  019e8	e5932000	 ldr         r2, [r3]
  019ec	e59d3004	 ldr         r3, [sp, #4]
  019f0	e1822003	 orr         r2, r2, r3
  019f4	e59d301c	 ldr         r3, [sp, #0x1C]
  019f8	e28330bc	 add         r3, r3, #0xBC
  019fc	e5832000	 str         r2, [r3]

; 981  :         LeaveCriticalSection(&pDevice->regcs);

  01a00	e59d301c	 ldr         r3, [sp, #0x1C]
  01a04	e2830030	 add         r0, r3, #0x30
  01a08	eb000000	 bl          LeaveCriticalSection
  01a0c		 |$LN1@HandleTXMa|

; 982  :     }
; 983  :     StartTransmit(pDevice);

  01a0c	e59d001c	 ldr         r0, [sp, #0x1C]
  01a10	eb000000	 bl          |?StartTransmit@@YAXPAUT_CAN_DEVICE@@@Z|

; 984  : 
; 985  : }

  01a14	e28dd014	 add         sp, sp, #0x14
  01a18	e89d6000	 ldmia       sp, {sp, lr}
  01a1c	e12fff1e	 bx          lr
  01a20		 |$LN12@HandleTXMa|
  01a20		 |$LN13@HandleTXMa|
  01a20	00000000	 DCD         |??_C@_1EC@BCOECHNM@?$AAT?$AAX?$AA?5?$AAi?$AAn?$AAt?$AAe?$AAr?$AAr?$AAu?$AAp?$AAt?$AA?5?$AA?$CI?$AAa?$AAc?$AAk?$AAn?$AAo?$AAl?$AAe?$AAd?$AAg?$AAe?$AA?$CJ?$AA?5?$AA0?$AAx?$AA?$CF?$AAx?$AA?$AN?$AA?6@|
  01a24		 |$LN14@HandleTXMa|
  01a24	00000000	 DCD         |??_C@_1DI@GMIGHPFP@?$AAT?$AAX?$AA?5?$AAi?$AAn?$AAt?$AAe?$AAr?$AAr?$AAu?$AAp?$AAt?$AA?5?$AA?$CI?$AAa?$AAb?$AAo?$AAr?$AAt?$AA?$CJ?$AA?5?$AA0?$AAx?$AA?$CF?$AAx?$AA?$AN?$AA?6?$AA?$AA@|
  01a28		 |$M37949|

			 ENDP  ; |?HandleTXMailboxInterrupt@@YAXPAUT_CAN_DEVICE@@@Z|, HandleTXMailboxInterrupt

	EXPORT	|?FindClassFilterFromMailbox@@YAPAUCLASS_FILTER_INTERNAL@@PAUT_CAN_DEVICE@@H@Z| ; FindClassFilterFromMailbox

  00080			 AREA	 |.pdata|, PDATA
|$T37960| DCD	|$LN8@FindClassF|
	DCD	0x40002204
; Function compile flags: /Odtp

  01a28			 AREA	 |.text|, CODE, ARM

  01a28		 |?FindClassFilterFromMailbox@@YAPAUCLASS_FILTER_INTERNAL@@PAUT_CAN_DEVICE@@H@Z| PROC ; FindClassFilterFromMailbox

; 988  : {

  01a28		 |$LN8@FindClassF|
  01a28	e1a0c00d	 mov         r12, sp
  01a2c	e92d0003	 stmdb       sp!, {r0, r1}
  01a30	e92d5000	 stmdb       sp!, {r12, lr}
  01a34	e24dd00c	 sub         sp, sp, #0xC
  01a38		 |$M37957|

; 989  :     CLASS_FILTER_INTERNAL* pCurrent = pDevice->ClassFilterList;   

  01a38	e59d3014	 ldr         r3, [sp, #0x14]
  01a3c	e28330d8	 add         r3, r3, #0xD8
  01a40	e5933000	 ldr         r3, [r3]
  01a44	e58d3000	 str         r3, [sp]
  01a48		 |$LN3@FindClassF|

; 990  :     while (pCurrent)

  01a48	e59d3000	 ldr         r3, [sp]
  01a4c	e3530000	 cmp         r3, #0
  01a50	0a000010	 beq         |$LN2@FindClassF|

; 991  :     {   
; 992  :         if (pCurrent->mailboxMask & (1<<mailbox))

  01a54	e59d3000	 ldr         r3, [sp]
  01a58	e2831014	 add         r1, r3, #0x14
  01a5c	e59d2018	 ldr         r2, [sp, #0x18]
  01a60	e3a03001	 mov         r3, #1
  01a64	e1a02213	 mov         r2, r3, lsl r2
  01a68	e5913000	 ldr         r3, [r1]
  01a6c	e1130002	 tst         r3, r2
  01a70	0a000002	 beq         |$LN1@FindClassF|

; 993  :         {
; 994  :             return pCurrent;

  01a74	e59d3000	 ldr         r3, [sp]
  01a78	e58d3004	 str         r3, [sp, #4]
  01a7c	ea000007	 b           |$LN4@FindClassF|
  01a80		 |$LN1@FindClassF|

; 995  :         }
; 996  :         pCurrent = (CLASS_FILTER_INTERNAL*) NextElement(&pCurrent->sle);

  01a80	e59d0000	 ldr         r0, [sp]
  01a84	eb000000	 bl          |?NextElement@@YAPAU_SLE@@PAU1@@Z|
  01a88	e58d0008	 str         r0, [sp, #8]
  01a8c	e59d3008	 ldr         r3, [sp, #8]
  01a90	e58d3000	 str         r3, [sp]

; 997  :     }

  01a94	eaffffeb	 b           |$LN3@FindClassF|
  01a98		 |$LN2@FindClassF|

; 998  :     return pCurrent;

  01a98	e59d3000	 ldr         r3, [sp]
  01a9c	e58d3004	 str         r3, [sp, #4]
  01aa0		 |$LN4@FindClassF|

; 999  : }

  01aa0	e59d0004	 ldr         r0, [sp, #4]
  01aa4	e28dd00c	 add         sp, sp, #0xC
  01aa8	e89d6000	 ldmia       sp, {sp, lr}
  01aac	e12fff1e	 bx          lr
  01ab0		 |$M37958|

			 ENDP  ; |?FindClassFilterFromMailbox@@YAPAUCLASS_FILTER_INTERNAL@@PAUT_CAN_DEVICE@@H@Z|, FindClassFilterFromMailbox


  00088			 AREA	 |.pdata|, PDATA
|$T37966| DCD	|$LN5@NextElemen|
	DCD	0x40000b04
; Function compile flags: /Odtp

  01ab0			 AREA	 |.text|, CODE, ARM

  01ab0		 |?NextElement@@YAPAU_SLE@@PAU1@@Z| PROC ; NextElement

; 86   : {

  01ab0		 |$LN5@NextElemen|
  01ab0	e1a0c00d	 mov         r12, sp
  01ab4	e92d0001	 stmdb       sp!, {r0}
  01ab8	e92d5000	 stmdb       sp!, {r12, lr}
  01abc	e24dd004	 sub         sp, sp, #4
  01ac0		 |$M37963|

; 87   :     return pSle->pNext;

  01ac0	e59d300c	 ldr         r3, [sp, #0xC]
  01ac4	e5933000	 ldr         r3, [r3]
  01ac8	e58d3000	 str         r3, [sp]

; 88   : }

  01acc	e59d0000	 ldr         r0, [sp]
  01ad0	e28dd004	 add         sp, sp, #4
  01ad4	e89d6000	 ldmia       sp, {sp, lr}
  01ad8	e12fff1e	 bx          lr
  01adc		 |$M37964|

			 ENDP  ; |?NextElement@@YAPAU_SLE@@PAU1@@Z|, NextElement

	EXPORT	|?CANisIDAccepted@@YAHTCAN_ID@@PAUSUBCLASS_FILTER_INTERNAL@@@Z| ; CANisIDAccepted
	EXPORT	|??_C@_1EC@IIGLFKGD@?$AAu?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?5?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AA?$CF?$AAd?$AA?5?$AA?$HM?$AA?5?$AA?$CF?$AAi?$AA?$AN?$AA?6@| [ DATA ] ; `string'
	EXPORT	|??_C@_1JE@PINEAJCM@?$AAR?$AAe?$AAc?$AAe?$AAi?$AAv?$AAe?$AAd?$AA?5?$AAa?$AA?5?$AAm?$AAe?$AAs?$AAs?$AAa?$AAg?$AAe?$AA?5?$AAw?$AAi?$AAt?$AAh?$AA?5?$AAn?$AAo?$AA?5?$AAf?$AAi?$AAl?$AAt?$AAe@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CI@OHCJFJPM@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AA?$CF?$AAs?$AA?5?$AAl?$AAi?$AAn?$AAe?$AA?5?$AA?$CF?$AAd?$AA?3?$AA?5?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1KA@HGKICKLA@?$AAC?$AA?3?$AA?2?$AAW?$AAI?$AAN?$AAC?$AAE?$AA6?$AA0?$AA0?$AA?2?$AAP?$AAL?$AAA?$AAT?$AAF?$AAO?$AAR?$AAM?$AA?2?$AAC?$AAO?$AAM?$AAM?$AAO?$AAN?$AA?2?$AAS?$AAR?$AAC?$AA?2@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DO@FOGLPLCN@?$AAR?$AAe?$AAm?$AAo?$AAt?$AAe?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AA?$CF?$AAd?$AA?5?$AA?$HM?$AA?5?$AA?$CF?$AAi?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EC@BCDBGOBM@?$AAr?$AAe?$AAm?$AAo?$AAt?$AAe?$AA?5?$AAr?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AA?5?$AAa?$AAn?$AAs?$AAw?$AAe?$AAr?$AA?5?$AAr?$AAe?$AAc?$AAe?$AAi?$AAv?$AAe?$AAd?$AA?$AN?$AA?6@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EK@LKGONIEK@?$AAm?$AAa?$AAi?$AAl?$AAb?$AAo?$AAx?$AA?5?$AA?$CF?$AAd?$AA?5?$AAg?$AAe?$AAn?$AAe?$AAr?$AAa?$AAt?$AAe?$AAd?$AA?5?$AAa?$AA?5?$AAR?$AAX?$AA?5?$AAi?$AAn?$AAt?$AAe?$AAr?$AAr@| [ DATA ] ; `string'
	EXPORT	|?HandleRXMailboxInterrupt@@YAXPAUT_CAN_DEVICE@@@Z| ; HandleRXMailboxInterrupt
	IMPORT	|WriteMsgQueue|
	IMPORT	|memcpy|

  00090			 AREA	 |.pdata|, PDATA
|$T37985| DCD	|$LN33@HandleRXMa|
	DCD	0x40011904

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EC@IIGLFKGD@?$AAu?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?5?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AA?$CF?$AAd?$AA?5?$AA?$HM?$AA?5?$AA?$CF?$AAi?$AA?$AN?$AA?6@| DCB "u"
	DCB	0x0, "n", 0x0, "k", 0x0, "n", 0x0, "o", 0x0, "w", 0x0, "n"
	DCB	0x0, " ", 0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%", 0x0, "0"
	DCB	0x0, "8", 0x0, "x", 0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%"
	DCB	0x0, "0", 0x0, "8", 0x0, "x", 0x0, " ", 0x0, "%", 0x0, "d"
	DCB	0x0, " ", 0x0, "|", 0x0, " ", 0x0, "%", 0x0, "i", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1JE@PINEAJCM@?$AAR?$AAe?$AAc?$AAe?$AAi?$AAv?$AAe?$AAd?$AA?5?$AAa?$AA?5?$AAm?$AAe?$AAs?$AAs?$AAa?$AAg?$AAe?$AA?5?$AAw?$AAi?$AAt?$AAh?$AA?5?$AAn?$AAo?$AA?5?$AAf?$AAi?$AAl?$AAt?$AAe@| DCB "R"
	DCB	0x0, "e", 0x0, "c", 0x0, "e", 0x0, "i", 0x0, "v", 0x0, "e"
	DCB	0x0, "d", 0x0, " ", 0x0, "a", 0x0, " ", 0x0, "m", 0x0, "e"
	DCB	0x0, "s", 0x0, "s", 0x0, "a", 0x0, "g", 0x0, "e", 0x0, " "
	DCB	0x0, "w", 0x0, "i", 0x0, "t", 0x0, "h", 0x0, " ", 0x0, "n"
	DCB	0x0, "o", 0x0, " ", 0x0, "f", 0x0, "i", 0x0, "l", 0x0, "t"
	DCB	0x0, "e", 0x0, "r", 0x0, ".", 0x0, " ", 0x0, "V", 0x0, "e"
	DCB	0x0, "r", 0x0, "y", 0x0, " ", 0x0, "s", 0x0, "t", 0x0, "r"
	DCB	0x0, "a", 0x0, "n", 0x0, "g", 0x0, "e", 0x0, ".", 0x0, " "
	DCB	0x0, "A", 0x0, "c", 0x0, "c", 0x0, "e", 0x0, "p", 0x0, "t"
	DCB	0x0, " ", 0x0, "i", 0x0, "t", 0x0, " ", 0x0, "j", 0x0, "u"
	DCB	0x0, "s", 0x0, "t", 0x0, " ", 0x0, "i", 0x0, "n", 0x0, " "
	DCB	0x0, "c", 0x0, "a", 0x0, "s", 0x0, "e", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CI@OHCJFJPM@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AA?$CF?$AAs?$AA?5?$AAl?$AAi?$AAn?$AAe?$AA?5?$AA?$CF?$AAd?$AA?3?$AA?5?$AA?$AA@| DCB "E"
	DCB	0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, ":", 0x0, " "
	DCB	0x0, "%", 0x0, "s", 0x0, " ", 0x0, "l", 0x0, "i", 0x0, "n"
	DCB	0x0, "e", 0x0, " ", 0x0, "%", 0x0, "d", 0x0, ":", 0x0, " "
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1KA@HGKICKLA@?$AAC?$AA?3?$AA?2?$AAW?$AAI?$AAN?$AAC?$AAE?$AA6?$AA0?$AA0?$AA?2?$AAP?$AAL?$AAA?$AAT?$AAF?$AAO?$AAR?$AAM?$AA?2?$AAC?$AAO?$AAM?$AAM?$AAO?$AAN?$AA?2?$AAS?$AAR?$AAC?$AA?2@| DCB "C"
	DCB	0x0, ":", 0x0, "\\", 0x0, "W", 0x0, "I", 0x0, "N", 0x0, "C"
	DCB	0x0, "E", 0x0, "6", 0x0, "0", 0x0, "0", 0x0, "\\", 0x0, "P"
	DCB	0x0, "L", 0x0, "A", 0x0, "T", 0x0, "F", 0x0, "O", 0x0, "R"
	DCB	0x0, "M", 0x0, "\\", 0x0, "C", 0x0, "O", 0x0, "M", 0x0, "M"
	DCB	0x0, "O", 0x0, "N", 0x0, "\\", 0x0, "S", 0x0, "R", 0x0, "C"
	DCB	0x0, "\\", 0x0, "S", 0x0, "O", 0x0, "C", 0x0, "\\", 0x0, "C"
	DCB	0x0, "O", 0x0, "M", 0x0, "M", 0x0, "O", 0x0, "N", 0x0, "_"
	DCB	0x0, "T", 0x0, "I", 0x0, "_", 0x0, "V", 0x0, "1", 0x0, "\\"
	DCB	0x0, "C", 0x0, "O", 0x0, "M", 0x0, "M", 0x0, "O", 0x0, "N"
	DCB	0x0, "_", 0x0, "T", 0x0, "I", 0x0, "\\", 0x0, "H", 0x0, "E"
	DCB	0x0, "C", 0x0, "C", 0x0, "\\", 0x0, ".", 0x0, "\\", 0x0, "o"
	DCB	0x0, "m", 0x0, "a", 0x0, "p", 0x0, "_", 0x0, "h", 0x0, "e"
	DCB	0x0, "c", 0x0, "c", 0x0, ".", 0x0, "c", 0x0, "p", 0x0, "p"
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DO@FOGLPLCN@?$AAR?$AAe?$AAm?$AAo?$AAt?$AAe?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AA?$CF?$AAd?$AA?5?$AA?$HM?$AA?5?$AA?$CF?$AAi?$AA?$AN?$AA?6?$AA?$AA@| DCB "R"
	DCB	0x0, "e", 0x0, "m", 0x0, "o", 0x0, "t", 0x0, "e", 0x0, " "
	DCB	0x0, "0", 0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8", 0x0, "x"
	DCB	0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8"
	DCB	0x0, "x", 0x0, " ", 0x0, "%", 0x0, "d", 0x0, " ", 0x0, "|"
	DCB	0x0, " ", 0x0, "%", 0x0, "i", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EC@BCDBGOBM@?$AAr?$AAe?$AAm?$AAo?$AAt?$AAe?$AA?5?$AAr?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AA?5?$AAa?$AAn?$AAs?$AAw?$AAe?$AAr?$AA?5?$AAr?$AAe?$AAc?$AAe?$AAi?$AAv?$AAe?$AAd?$AA?$AN?$AA?6@| DCB "r"
	DCB	0x0, "e", 0x0, "m", 0x0, "o", 0x0, "t", 0x0, "e", 0x0, " "
	DCB	0x0, "r", 0x0, "e", 0x0, "q", 0x0, "u", 0x0, "e", 0x0, "s"
	DCB	0x0, "t", 0x0, " ", 0x0, "a", 0x0, "n", 0x0, "s", 0x0, "w"
	DCB	0x0, "e", 0x0, "r", 0x0, " ", 0x0, "r", 0x0, "e", 0x0, "c"
	DCB	0x0, "e", 0x0, "i", 0x0, "v", 0x0, "e", 0x0, "d", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EK@LKGONIEK@?$AAm?$AAa?$AAi?$AAl?$AAb?$AAo?$AAx?$AA?5?$AA?$CF?$AAd?$AA?5?$AAg?$AAe?$AAn?$AAe?$AAr?$AAa?$AAt?$AAe?$AAd?$AA?5?$AAa?$AA?5?$AAR?$AAX?$AA?5?$AAi?$AAn?$AAt?$AAe?$AAr?$AAr@| DCB "m"
	DCB	0x0, "a", 0x0, "i", 0x0, "l", 0x0, "b", 0x0, "o", 0x0, "x"
	DCB	0x0, " ", 0x0, "%", 0x0, "d", 0x0, " ", 0x0, "g", 0x0, "e"
	DCB	0x0, "n", 0x0, "e", 0x0, "r", 0x0, "a", 0x0, "t", 0x0, "e"
	DCB	0x0, "d", 0x0, " ", 0x0, "a", 0x0, " ", 0x0, "R", 0x0, "X"
	DCB	0x0, " ", 0x0, "i", 0x0, "n", 0x0, "t", 0x0, "e", 0x0, "r"
	DCB	0x0, "r", 0x0, "u", 0x0, "p", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'
; Function compile flags: /Odtp

  01adc			 AREA	 |.text|, CODE, ARM

  01adc		 |?HandleRXMailboxInterrupt@@YAXPAUT_CAN_DEVICE@@@Z| PROC ; HandleRXMailboxInterrupt

; 1004 : {    

  01adc		 |$LN33@HandleRXMa|
  01adc	e1a0c00d	 mov         r12, sp
  01ae0	e92d0001	 stmdb       sp!, {r0}
  01ae4	e92d5000	 stmdb       sp!, {r12, lr}
  01ae8	e24ddf9b	 sub         sp, sp, #0x9B, 30
  01aec		 |$M37982|

; 1005 :     OMAP_HECC_SCC_MAILBOX mailboxCopy[NB_MAILBOXES];
; 1006 :     CLASS_FILTER_INTERNAL* pClassFilter;
; 1007 :     DWORD dwRmpStatus;
; 1008 :     DWORD cpy;
; 1009 :     int i;
; 1010 :     DWORD LocalRemoteRequestMask;
; 1011 :     OMAP_HECC_SCC_REGS* pRegs = pDevice->pCanRegs;  

  01aec	e59d3274	 ldr         r3, [sp, #0x274]
  01af0	e283302c	 add         r3, r3, #0x2C
  01af4	e5933000	 ldr         r3, [r3]
  01af8	e58d320c	 str         r3, [sp, #0x20C]

; 1012 :     DWORD dwRmlStatus = INREG32(&pRegs->CANRML);    

  01afc	e59d320c	 ldr         r3, [sp, #0x20C]
  01b00	e283301c	 add         r3, r3, #0x1C
  01b04	e5933000	 ldr         r3, [r3]
  01b08	e58d3210	 str         r3, [sp, #0x210]

; 1013 : 
; 1014 : 
; 1015 : 
; 1016 :     EnterCriticalSection(&pDevice->regcs);

  01b0c	e59d3274	 ldr         r3, [sp, #0x274]
  01b10	e2830030	 add         r0, r3, #0x30
  01b14	eb000000	 bl          EnterCriticalSection

; 1017 : 
; 1018 :         
; 1019 :     dwRmpStatus = INREG32(&pRegs->CANRMP);

  01b18	e59d320c	 ldr         r3, [sp, #0x20C]
  01b1c	e2833018	 add         r3, r3, #0x18
  01b20	e5933000	 ldr         r3, [r3]
  01b24	e58d321c	 str         r3, [sp, #0x21C]

; 1020 :     
; 1021 :     //First of all make a copy of the mailbox as fast as possible.
; 1022 :     //We do this because filtering takes CPU time and thus interleaving mailbox mgnt and filtering
; 1023 :     //increase the risk of overruns and msg order change
; 1024 :     LocalRemoteRequestMask = pDevice->RemoteRequestMask;

  01b28	e59d3274	 ldr         r3, [sp, #0x274]
  01b2c	e28330d0	 add         r3, r3, #0xD0
  01b30	e5933000	 ldr         r3, [r3]
  01b34	e58d3004	 str         r3, [sp, #4]

; 1025 :     cpy = dwRmpStatus;

  01b38	e59d321c	 ldr         r3, [sp, #0x21C]
  01b3c	e58d3218	 str         r3, [sp, #0x218]

; 1026 :     i = NB_MAILBOXES-1;    

  01b40	e3a0301f	 mov         r3, #0x1F
  01b44	e58d3008	 str         r3, [sp, #8]
  01b48		 |$LN18@HandleRXMa|

; 1027 :     while (cpy)

  01b48	e59d3218	 ldr         r3, [sp, #0x218]
  01b4c	e3530000	 cmp         r3, #0
  01b50	0a000051	 beq         |$LN17@HandleRXMa|

; 1028 :     {        
; 1029 :         register DWORD mask = 1<<i;

  01b54	e59d2008	 ldr         r2, [sp, #8]
  01b58	e3a03001	 mov         r3, #1
  01b5c	e1a03213	 mov         r3, r3, lsl r2
  01b60	e58d3220	 str         r3, [sp, #0x220]

; 1030 :         if (cpy & mask)

  01b64	e59d2218	 ldr         r2, [sp, #0x218]
  01b68	e59d3220	 ldr         r3, [sp, #0x220]
  01b6c	e1120003	 tst         r2, r3
  01b70	0a000045	 beq         |$LN16@HandleRXMa|

; 1031 :         {
; 1032 :             mailboxCopy[i] = pRegs->MailBoxes[i];

  01b74	e59d320c	 ldr         r3, [sp, #0x20C]
  01b78	e2831a02	 add         r1, r3, #2, 20
  01b7c	e59d2008	 ldr         r2, [sp, #8]
  01b80	e3a03010	 mov         r3, #0x10
  01b84	e0030392	 mul         r3, r2, r3
  01b88	e081e003	 add         lr, r1, r3
  01b8c	e59d1008	 ldr         r1, [sp, #8]
  01b90	e3a03010	 mov         r3, #0x10
  01b94	e0020391	 mul         r2, r1, r3
  01b98	e28d300c	 add         r3, sp, #0xC
  01b9c	e0830002	 add         r0, r3, r2
  01ba0	e1a0100e	 mov         r1, lr
  01ba4	e3a02010	 mov         r2, #0x10
  01ba8	eb000000	 bl          memcpy

; 1033 :             
; 1034 :   
; 1035 :             if (dwRmlStatus &(1<<i))

  01bac	e59d2008	 ldr         r2, [sp, #8]
  01bb0	e3a03001	 mov         r3, #1
  01bb4	e1a02213	 mov         r2, r3, lsl r2
  01bb8	e59d3210	 ldr         r3, [sp, #0x210]
  01bbc	e1130002	 tst         r3, r2
  01bc0	0a000008	 beq         |$LN15@HandleRXMa|

; 1036 :             {
; 1037 : //                RETAILMSG(1,(TEXT("mailbox %d generated a RX LOST interrup\r\n"),i));            
; 1038 :                 OUTREG32(&pRegs->CANRML,(1<<i));

  01bc4	e59d2008	 ldr         r2, [sp, #8]
  01bc8	e3a03001	 mov         r3, #1
  01bcc	e1a02213	 mov         r2, r3, lsl r2
  01bd0	e59d320c	 ldr         r3, [sp, #0x20C]
  01bd4	e283301c	 add         r3, r3, #0x1C
  01bd8	e5832000	 str         r2, [r3]

; 1039 :                 InterlockedIncrement(&pDevice->canStatus.RxLost);

  01bdc	e59d3274	 ldr         r3, [sp, #0x274]
  01be0	e28300a4	 add         r0, r3, #0xA4
  01be4	eb000000	 bl          InterlockedIncrement
  01be8		 |$LN15@HandleRXMa|

; 1040 :             }
; 1041 :             OUTREG32(&pRegs->CANRMP,mask);

  01be8	e59d320c	 ldr         r3, [sp, #0x20C]
  01bec	e2832018	 add         r2, r3, #0x18
  01bf0	e59d3220	 ldr         r3, [sp, #0x220]
  01bf4	e5823000	 str         r3, [r2]

; 1042 :             
; 1043 :             if (LocalRemoteRequestMask & mask)

  01bf8	e59d2004	 ldr         r2, [sp, #4]
  01bfc	e59d3220	 ldr         r3, [sp, #0x220]
  01c00	e1120003	 tst         r2, r3
  01c04	0a00001b	 beq         |$LN14@HandleRXMa|

; 1044 :             {                
; 1045 :                 CLRREG32(&pDevice->pCanRegs->CANME,mask);

  01c08	e59d3274	 ldr         r3, [sp, #0x274]
  01c0c	e283302c	 add         r3, r3, #0x2C
  01c10	e5931000	 ldr         r1, [r3]
  01c14	e59d3220	 ldr         r3, [sp, #0x220]
  01c18	e1e02003	 mvn         r2, r3
  01c1c	e5913000	 ldr         r3, [r1]
  01c20	e0032002	 and         r2, r3, r2
  01c24	e59d3274	 ldr         r3, [sp, #0x274]
  01c28	e283302c	 add         r3, r3, #0x2C
  01c2c	e5933000	 ldr         r3, [r3]
  01c30	e5832000	 str         r2, [r3]

; 1046 :                 pDevice->RemoteRequestMask &= ~mask;

  01c34	e59d3274	 ldr         r3, [sp, #0x274]
  01c38	e28310d0	 add         r1, r3, #0xD0
  01c3c	e59d3220	 ldr         r3, [sp, #0x220]
  01c40	e1e02003	 mvn         r2, r3
  01c44	e5913000	 ldr         r3, [r1]
  01c48	e0032002	 and         r2, r3, r2
  01c4c	e59d3274	 ldr         r3, [sp, #0x274]
  01c50	e28330d0	 add         r3, r3, #0xD0
  01c54	e5832000	 str         r2, [r3]

; 1047 :                 pDevice->FreeMailboxMask |= mask;

  01c58	e59d3274	 ldr         r3, [sp, #0x274]
  01c5c	e28330c4	 add         r3, r3, #0xC4
  01c60	e5932000	 ldr         r2, [r3]
  01c64	e59d3220	 ldr         r3, [sp, #0x220]
  01c68	e1822003	 orr         r2, r2, r3
  01c6c	e59d3274	 ldr         r3, [sp, #0x274]
  01c70	e28330c4	 add         r3, r3, #0xC4
  01c74	e5832000	 str         r2, [r3]
  01c78		 |$LN14@HandleRXMa|

; 1048 :             }
; 1049 :             else
; 1050 :             {
; 1051 :                // SETREG32(&pDevice->pCanRegs->CANME,mask);
; 1052 :             }
; 1053 :             cpy &= ~mask;

  01c78	e59d3220	 ldr         r3, [sp, #0x220]
  01c7c	e1e02003	 mvn         r2, r3
  01c80	e59d3218	 ldr         r3, [sp, #0x218]
  01c84	e0033002	 and         r3, r3, r2
  01c88	e58d3218	 str         r3, [sp, #0x218]
  01c8c		 |$LN16@HandleRXMa|

; 1054 :         }
; 1055 :         i--;

  01c8c	e59d3008	 ldr         r3, [sp, #8]
  01c90	e2433001	 sub         r3, r3, #1
  01c94	e58d3008	 str         r3, [sp, #8]

; 1056 :     }

  01c98	eaffffaa	 b           |$LN18@HandleRXMa|
  01c9c		 |$LN17@HandleRXMa|

; 1057 : 
; 1058 :     LeaveCriticalSection(&pDevice->regcs);

  01c9c	e59d3274	 ldr         r3, [sp, #0x274]
  01ca0	e2830030	 add         r0, r3, #0x30
  01ca4	eb000000	 bl          LeaveCriticalSection

; 1059 :     
; 1060 :     
; 1061 :     // We have a copy of the 'full' mailboxex, we can look at each of them now
; 1062 :     i = NB_MAILBOXES-1;

  01ca8	e3a0301f	 mov         r3, #0x1F
  01cac	e58d3008	 str         r3, [sp, #8]
  01cb0		 |$LN12@HandleRXMa|

; 1063 :     while (dwRmpStatus)

  01cb0	e59d321c	 ldr         r3, [sp, #0x21C]
  01cb4	e3530000	 cmp         r3, #0
  01cb8	0a000096	 beq         |$LN11@HandleRXMa|

; 1064 :     {
; 1065 :         DWORD mask = 1<<i;        

  01cbc	e59d2008	 ldr         r2, [sp, #8]
  01cc0	e3a03001	 mov         r3, #1
  01cc4	e1a03213	 mov         r3, r3, lsl r2
  01cc8	e58d3224	 str         r3, [sp, #0x224]

; 1066 :         if (dwRmpStatus & mask) //Is mailbox full ?

  01ccc	e59d221c	 ldr         r2, [sp, #0x21C]
  01cd0	e59d3224	 ldr         r3, [sp, #0x224]
  01cd4	e1120003	 tst         r2, r3
  01cd8	0a000085	 beq         |$LN10@HandleRXMa|

; 1067 :         {
; 1068 :             CAN_MESSAGE msg;
; 1069 :             OMAP_HECC_SCC_MAILBOX* pMbx;
; 1070 :             pMbx = &mailboxCopy[i];            

  01cdc	e59d1008	 ldr         r1, [sp, #8]
  01ce0	e3a03010	 mov         r3, #0x10
  01ce4	e0020391	 mul         r2, r1, r3
  01ce8	e28d300c	 add         r3, sp, #0xC
  01cec	e0833002	 add         r3, r3, r2
  01cf0	e58d323c	 str         r3, [sp, #0x23C]

; 1071 :             
; 1072 :             RETAILMSG(0,(TEXT("mailbox %d generated a RX interrup\r\n"),i));       

  01cf4	ea000005	 b           |$LN21@HandleRXMa|
  01cf8	e59d1008	 ldr         r1, [sp, #8]
  01cfc	e59f0238	 ldr         r0, [pc, #0x238]
  01d00	eb000000	 bl          NKDbgPrintfW
  01d04	e3a03001	 mov         r3, #1
  01d08	e58d324c	 str         r3, [sp, #0x24C]
  01d0c	ea000001	 b           |$LN22@HandleRXMa|
  01d10		 |$LN21@HandleRXMa|
  01d10	e3a03000	 mov         r3, #0
  01d14	e58d324c	 str         r3, [sp, #0x24C]
  01d18		 |$LN22@HandleRXMa|

; 1073 :             //Translate the mailbox content into a CAN_MESSAGE
; 1074 :             msg.MDH = pMbx->CANMDH;

  01d18	e59d323c	 ldr         r3, [sp, #0x23C]
  01d1c	e283300c	 add         r3, r3, #0xC
  01d20	e5933000	 ldr         r3, [r3]
  01d24	e58d3230	 str         r3, [sp, #0x230]

; 1075 :             msg.MDL = pMbx->CANMDL;

  01d28	e59d323c	 ldr         r3, [sp, #0x23C]
  01d2c	e2833008	 add         r3, r3, #8
  01d30	e5933000	 ldr         r3, [r3]
  01d34	e58d322c	 str         r3, [sp, #0x22C]

; 1076 :             CANMIDtoCANID(pMbx->CANMID,&msg.id);            

  01d38	e28d1f8e	 add         r1, sp, #0x8E, 30
  01d3c	e59d323c	 ldr         r3, [sp, #0x23C]
  01d40	e5930000	 ldr         r0, [r3]
  01d44	eb000000	 bl          |?CANMIDtoCANID@@YAXIPATCAN_ID@@@Z|

; 1077 :             msg.length = (BYTE) (pMbx->CANMCF & 0xF);

  01d48	e59d323c	 ldr         r3, [sp, #0x23C]
  01d4c	e2833004	 add         r3, r3, #4
  01d50	e5933000	 ldr         r3, [r3]
  01d54	e203300f	 and         r3, r3, #0xF
  01d58	e20330ff	 and         r3, r3, #0xFF
  01d5c	e5cd3234	 strb        r3, [sp, #0x234]

; 1078 :             InterlockedIncrement(&pDevice->canStatus.TotalReceived);

  01d60	e59d3274	 ldr         r3, [sp, #0x274]
  01d64	e28300ac	 add         r0, r3, #0xAC
  01d68	eb000000	 bl          InterlockedIncrement

; 1079 : 
; 1080 :             // Filter the message out
; 1081 :             BOOL fAccepted = TRUE;

  01d6c	e3a03001	 mov         r3, #1
  01d70	e58d3228	 str         r3, [sp, #0x228]

; 1082 :             if (LocalRemoteRequestMask & mask)

  01d74	e59d2004	 ldr         r2, [sp, #4]
  01d78	e59d3224	 ldr         r3, [sp, #0x224]
  01d7c	e1120003	 tst         r2, r3
  01d80	0a000013	 beq         |$LN9@HandleRXMa|

; 1083 :             {
; 1084 :                 RETAILMSG(1,(TEXT("remote request answer received\r\n")));

  01d84	e59f01ac	 ldr         r0, [pc, #0x1AC]
  01d88	eb000000	 bl          NKDbgPrintfW
  01d8c	e3a03001	 mov         r3, #1
  01d90	e58d3250	 str         r3, [sp, #0x250]
  01d94	ea000001	 b           |$LN24@HandleRXMa|
  01d98	e3a03000	 mov         r3, #0
  01d9c	e58d3250	 str         r3, [sp, #0x250]
  01da0		 |$LN24@HandleRXMa|

; 1085 :                 RETAILMSG(1,(TEXT("Remote 0x%08x 0x%08x %d | %i\r\n"),msg.MDH,msg.MDL,msg.length,i));                

  01da0	e59d3008	 ldr         r3, [sp, #8]
  01da4	e58d3000	 str         r3, [sp]
  01da8	e5dd3234	 ldrb        r3, [sp, #0x234]
  01dac	e59d222c	 ldr         r2, [sp, #0x22C]
  01db0	e59d1230	 ldr         r1, [sp, #0x230]
  01db4	e59f0178	 ldr         r0, [pc, #0x178]
  01db8	eb000000	 bl          NKDbgPrintfW
  01dbc	e3a03001	 mov         r3, #1
  01dc0	e58d3254	 str         r3, [sp, #0x254]
  01dc4	ea000001	 b           |$LN26@HandleRXMa|
  01dc8	e3a03000	 mov         r3, #0
  01dcc	e58d3254	 str         r3, [sp, #0x254]
  01dd0		 |$LN26@HandleRXMa|

; 1086 :             }
; 1087 :             else

  01dd0	ea00002c	 b           |$LN8@HandleRXMa|
  01dd4		 |$LN9@HandleRXMa|

; 1088 :             {
; 1089 :                 
; 1090 :                 pClassFilter = FindClassFilterFromMailbox(pDevice,i);            

  01dd4	e59d1008	 ldr         r1, [sp, #8]
  01dd8	e59d0274	 ldr         r0, [sp, #0x274]
  01ddc	eb000000	 bl          |?FindClassFilterFromMailbox@@YAPAUCLASS_FILTER_INTERNAL@@PAUT_CAN_DEVICE@@H@Z|
  01de0	e58d0258	 str         r0, [sp, #0x258]
  01de4	e59d3258	 ldr         r3, [sp, #0x258]
  01de8	e58d3214	 str         r3, [sp, #0x214]

; 1091 :                 if (pClassFilter == NULL)

  01dec	e59d3214	 ldr         r3, [sp, #0x214]
  01df0	e3530000	 cmp         r3, #0
  01df4	1a000018	 bne         |$LN7@HandleRXMa|

; 1092 :                 {
; 1093 :                     ERRORMSG(1,(TEXT("Received a message with no filter. Very strange. Accept it just in case\r\n")));                    

  01df8	e3a02b01	 mov         r2, #1, 22
  01dfc	e3822045	 orr         r2, r2, #0x45
  01e00	e59f1128	 ldr         r1, [pc, #0x128]
  01e04	e59f0120	 ldr         r0, [pc, #0x120]
  01e08	eb000000	 bl          NKDbgPrintfW
  01e0c	e59f0114	 ldr         r0, [pc, #0x114]
  01e10	eb000000	 bl          NKDbgPrintfW
  01e14	e3a03001	 mov         r3, #1
  01e18	e58d325c	 str         r3, [sp, #0x25C]
  01e1c	ea000001	 b           |$LN28@HandleRXMa|
  01e20	e3a03000	 mov         r3, #0
  01e24	e58d325c	 str         r3, [sp, #0x25C]
  01e28		 |$LN28@HandleRXMa|

; 1094 :                     RETAILMSG(1,(TEXT("unknown  0x%08x 0x%08x %d | %i\r\n"),msg.MDH,msg.MDL,msg.length,i));

  01e28	e59d3008	 ldr         r3, [sp, #8]
  01e2c	e58d3000	 str         r3, [sp]
  01e30	e5dd3234	 ldrb        r3, [sp, #0x234]
  01e34	e59d222c	 ldr         r2, [sp, #0x22C]
  01e38	e59d1230	 ldr         r1, [sp, #0x230]
  01e3c	e59f00e0	 ldr         r0, [pc, #0xE0]
  01e40	eb000000	 bl          NKDbgPrintfW
  01e44	e3a03001	 mov         r3, #1
  01e48	e58d3260	 str         r3, [sp, #0x260]
  01e4c	ea000001	 b           |$LN30@HandleRXMa|
  01e50	e3a03000	 mov         r3, #0
  01e54	e58d3260	 str         r3, [sp, #0x260]
  01e58		 |$LN30@HandleRXMa|

; 1095 :                 }
; 1096 :                 else  if (CANisIDAccepted(msg.id,pClassFilter->subFilter) == FALSE)

  01e58	ea00000a	 b           |$LN6@HandleRXMa|
  01e5c		 |$LN7@HandleRXMa|
  01e5c	e59d3214	 ldr         r3, [sp, #0x214]
  01e60	e283300c	 add         r3, r3, #0xC
  01e64	e5931000	 ldr         r1, [r3]
  01e68	e59d0238	 ldr         r0, [sp, #0x238]
  01e6c	eb000000	 bl          |?CANisIDAccepted@@YAHTCAN_ID@@PAUSUBCLASS_FILTER_INTERNAL@@@Z|
  01e70	e58d0264	 str         r0, [sp, #0x264]
  01e74	e59d3264	 ldr         r3, [sp, #0x264]
  01e78	e3530000	 cmp         r3, #0
  01e7c	1a000001	 bne         |$LN5@HandleRXMa|

; 1097 :                 {
; 1098 :                     fAccepted = FALSE;

  01e80	e3a03000	 mov         r3, #0
  01e84	e58d3228	 str         r3, [sp, #0x228]
  01e88		 |$LN5@HandleRXMa|
  01e88		 |$LN6@HandleRXMa|
  01e88		 |$LN8@HandleRXMa|

; 1099 :                 }
; 1100 :             }
; 1101 : 
; 1102 :             // If the message is accepted, then post it in the RX queue
; 1103 :             if (fAccepted)

  01e88	e59d3228	 ldr         r3, [sp, #0x228]
  01e8c	e3530000	 cmp         r3, #0
  01e90	0a000014	 beq         |$LN4@HandleRXMa|

; 1104 :             {
; 1105 :                 if (WriteMsgQueue(pDevice->RxMsgQ[MSQ_WRITER],&msg,sizeof(msg),0,0) == FALSE)

  01e94	e3a03000	 mov         r3, #0
  01e98	e58d3000	 str         r3, [sp]
  01e9c	e3a03000	 mov         r3, #0
  01ea0	e3a02010	 mov         r2, #0x10
  01ea4	e28d1f8b	 add         r1, sp, #0x8B, 30
  01ea8	e59d0274	 ldr         r0, [sp, #0x274]
  01eac	e280005c	 add         r0, r0, #0x5C
  01eb0	e5900000	 ldr         r0, [r0]
  01eb4	eb000000	 bl          WriteMsgQueue
  01eb8	e58d0268	 str         r0, [sp, #0x268]
  01ebc	e59d3268	 ldr         r3, [sp, #0x268]
  01ec0	e3530000	 cmp         r3, #0
  01ec4	1a000003	 bne         |$LN3@HandleRXMa|

; 1106 :                 {
; 1107 :                     InterlockedIncrement(& pDevice->canStatus.RxDiscarded);

  01ec8	e59d3274	 ldr         r3, [sp, #0x274]
  01ecc	e28300a0	 add         r0, r3, #0xA0
  01ed0	eb000000	 bl          InterlockedIncrement

; 1108 :                 }
; 1109 :                 else

  01ed4	ea000002	 b           |$LN2@HandleRXMa|
  01ed8		 |$LN3@HandleRXMa|

; 1110 :                 {
; 1111 :                     InterlockedIncrement(& pDevice->canStatus.currentRxMsg);

  01ed8	e59d3274	 ldr         r3, [sp, #0x274]
  01edc	e2830078	 add         r0, r3, #0x78
  01ee0	eb000000	 bl          InterlockedIncrement
  01ee4		 |$LN2@HandleRXMa|

; 1112 :                 }
; 1113 :             }
; 1114 :             else

  01ee4	ea000002	 b           |$LN1@HandleRXMa|
  01ee8		 |$LN4@HandleRXMa|

; 1115 :             {
; 1116 :                 InterlockedIncrement(& pDevice->canStatus.FilteredOut);

  01ee8	e59d3274	 ldr         r3, [sp, #0x274]
  01eec	e28300a8	 add         r0, r3, #0xA8
  01ef0	eb000000	 bl          InterlockedIncrement
  01ef4		 |$LN1@HandleRXMa|
  01ef4		 |$LN10@HandleRXMa|

; 1117 :             }            
; 1118 :         }
; 1119 :         //Process next message
; 1120 :         dwRmpStatus &= ~mask;

  01ef4	e59d3224	 ldr         r3, [sp, #0x224]
  01ef8	e1e02003	 mvn         r2, r3
  01efc	e59d321c	 ldr         r3, [sp, #0x21C]
  01f00	e0033002	 and         r3, r3, r2
  01f04	e58d321c	 str         r3, [sp, #0x21C]

; 1121 :         i--;

  01f08	e59d3008	 ldr         r3, [sp, #8]
  01f0c	e2433001	 sub         r3, r3, #1
  01f10	e58d3008	 str         r3, [sp, #8]

; 1122 :     }

  01f14	eaffff65	 b           |$LN12@HandleRXMa|
  01f18		 |$LN11@HandleRXMa|

; 1123 : }

  01f18	e28ddf9b	 add         sp, sp, #0x9B, 30
  01f1c	e89d6000	 ldmia       sp, {sp, lr}
  01f20	e12fff1e	 bx          lr
  01f24		 |$LN34@HandleRXMa|
  01f24		 |$LN35@HandleRXMa|
  01f24	00000000	 DCD         |??_C@_1EC@IIGLFKGD@?$AAu?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?5?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AA?$CF?$AAd?$AA?5?$AA?$HM?$AA?5?$AA?$CF?$AAi?$AA?$AN?$AA?6@|
  01f28		 |$LN36@HandleRXMa|
  01f28	00000000	 DCD         |??_C@_1JE@PINEAJCM@?$AAR?$AAe?$AAc?$AAe?$AAi?$AAv?$AAe?$AAd?$AA?5?$AAa?$AA?5?$AAm?$AAe?$AAs?$AAs?$AAa?$AAg?$AAe?$AA?5?$AAw?$AAi?$AAt?$AAh?$AA?5?$AAn?$AAo?$AA?5?$AAf?$AAi?$AAl?$AAt?$AAe@|
  01f2c		 |$LN37@HandleRXMa|
  01f2c	00000000	 DCD         |??_C@_1CI@OHCJFJPM@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AA?$CF?$AAs?$AA?5?$AAl?$AAi?$AAn?$AAe?$AA?5?$AA?$CF?$AAd?$AA?3?$AA?5?$AA?$AA@|
  01f30		 |$LN38@HandleRXMa|
  01f30	00000000	 DCD         |??_C@_1KA@HGKICKLA@?$AAC?$AA?3?$AA?2?$AAW?$AAI?$AAN?$AAC?$AAE?$AA6?$AA0?$AA0?$AA?2?$AAP?$AAL?$AAA?$AAT?$AAF?$AAO?$AAR?$AAM?$AA?2?$AAC?$AAO?$AAM?$AAM?$AAO?$AAN?$AA?2?$AAS?$AAR?$AAC?$AA?2@|
  01f34		 |$LN39@HandleRXMa|
  01f34	00000000	 DCD         |??_C@_1DO@FOGLPLCN@?$AAR?$AAe?$AAm?$AAo?$AAt?$AAe?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AA0?$AAx?$AA?$CF?$AA0?$AA8?$AAx?$AA?5?$AA?$CF?$AAd?$AA?5?$AA?$HM?$AA?5?$AA?$CF?$AAi?$AA?$AN?$AA?6?$AA?$AA@|
  01f38		 |$LN40@HandleRXMa|
  01f38	00000000	 DCD         |??_C@_1EC@BCDBGOBM@?$AAr?$AAe?$AAm?$AAo?$AAt?$AAe?$AA?5?$AAr?$AAe?$AAq?$AAu?$AAe?$AAs?$AAt?$AA?5?$AAa?$AAn?$AAs?$AAw?$AAe?$AAr?$AA?5?$AAr?$AAe?$AAc?$AAe?$AAi?$AAv?$AAe?$AAd?$AA?$AN?$AA?6@|
  01f3c		 |$LN41@HandleRXMa|
  01f3c	00000000	 DCD         |??_C@_1EK@LKGONIEK@?$AAm?$AAa?$AAi?$AAl?$AAb?$AAo?$AAx?$AA?5?$AA?$CF?$AAd?$AA?5?$AAg?$AAe?$AAn?$AAe?$AAr?$AAa?$AAt?$AAe?$AAd?$AA?5?$AAa?$AA?5?$AAR?$AAX?$AA?5?$AAi?$AAn?$AAt?$AAe?$AAr?$AAr@|
  01f40		 |$M37983|

			 ENDP  ; |?HandleRXMailboxInterrupt@@YAXPAUT_CAN_DEVICE@@@Z|, HandleRXMailboxInterrupt

	EXPORT	|?HandleRxOverrun@@YAXPAUT_CAN_DEVICE@@@Z| ; HandleRxOverrun

  00098			 AREA	 |.pdata|, PDATA
|$T37998| DCD	|$LN5@HandleRxOv|
	DCD	0x40000503
; Function compile flags: /Odtp

  01f40			 AREA	 |.text|, CODE, ARM

  01f40		 |?HandleRxOverrun@@YAXPAUT_CAN_DEVICE@@@Z| PROC ; HandleRxOverrun

; 1125 : {

  01f40		 |$LN5@HandleRxOv|
  01f40	e1a0c00d	 mov         r12, sp
  01f44	e92d0001	 stmdb       sp!, {r0}
  01f48	e92d5000	 stmdb       sp!, {r12, lr}
  01f4c		 |$M37995|

; 1126 :     UNREFERENCED_PARAMETER(pDevice);
; 1127 : 
; 1128 : }

  01f4c	e89d6000	 ldmia       sp, {sp, lr}
  01f50	e12fff1e	 bx          lr
  01f54		 |$M37996|

			 ENDP  ; |?HandleRxOverrun@@YAXPAUT_CAN_DEVICE@@@Z|, HandleRxOverrun

	EXPORT	|??_C@_1CO@FOMMEIDD@?$AAB?$AAU?$AAS?$AA?5?$AAO?$AAF?$AAF?$AA?4?$AA?5?$AAs?$AAt?$AAa?$AAt?$AAu?$AAs?$AA?5?$AA0?$AAx?$AA?$CF?$AAx?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|?HandleBusOffInterrupt@@YAXPAUT_CAN_DEVICE@@@Z| ; HandleBusOffInterrupt

  000a0			 AREA	 |.pdata|, PDATA
|$T38005| DCD	|$LN7@HandleBusO|
	DCD	0x40001804

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CO@FOMMEIDD@?$AAB?$AAU?$AAS?$AA?5?$AAO?$AAF?$AAF?$AA?4?$AA?5?$AAs?$AAt?$AAa?$AAt?$AAu?$AAs?$AA?5?$AA0?$AAx?$AA?$CF?$AAx?$AA?$AN?$AA?6?$AA?$AA@| DCB "B"
	DCB	0x0, "U", 0x0, "S", 0x0, " ", 0x0, "O", 0x0, "F", 0x0, "F"
	DCB	0x0, ".", 0x0, " ", 0x0, "s", 0x0, "t", 0x0, "a", 0x0, "t"
	DCB	0x0, "u", 0x0, "s", 0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%"
	DCB	0x0, "x", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Odtp

  01f54			 AREA	 |.text|, CODE, ARM

  01f54		 |?HandleBusOffInterrupt@@YAXPAUT_CAN_DEVICE@@@Z| PROC ; HandleBusOffInterrupt

; 1130 : {

  01f54		 |$LN7@HandleBusO|
  01f54	e1a0c00d	 mov         r12, sp
  01f58	e92d0001	 stmdb       sp!, {r0}
  01f5c	e92d5000	 stmdb       sp!, {r12, lr}
  01f60	e24dd004	 sub         sp, sp, #4
  01f64		 |$M38002|

; 1131 : //    OMAP_HECC_SCC_REGS* pRegs = pDevice->pCanRegs;
; 1132 :     RETAILMSG(1,(TEXT("BUS OFF. status 0x%x\r\n"),pDevice->pCanRegs->CANGIF0));

  01f64	e59d300c	 ldr         r3, [sp, #0xC]
  01f68	e283302c	 add         r3, r3, #0x2C
  01f6c	e5933000	 ldr         r3, [r3]
  01f70	e283303c	 add         r3, r3, #0x3C
  01f74	e5931000	 ldr         r1, [r3]
  01f78	e59f0030	 ldr         r0, [pc, #0x30]
  01f7c	eb000000	 bl          NKDbgPrintfW
  01f80	e3a03001	 mov         r3, #1
  01f84	e58d3000	 str         r3, [sp]
  01f88	ea000001	 b           |$LN4@HandleBusO|
  01f8c	e3a03000	 mov         r3, #0
  01f90	e58d3000	 str         r3, [sp]
  01f94		 |$LN4@HandleBusO|

; 1133 :     pDevice->canStatus.BusState = BUS_OFF;

  01f94	e59d300c	 ldr         r3, [sp, #0xC]
  01f98	e2832098	 add         r2, r3, #0x98
  01f9c	e3a03003	 mov         r3, #3
  01fa0	e5823000	 str         r3, [r2]

; 1134 : 
; 1135 : }

  01fa4	e28dd004	 add         sp, sp, #4
  01fa8	e89d6000	 ldmia       sp, {sp, lr}
  01fac	e12fff1e	 bx          lr
  01fb0		 |$LN8@HandleBusO|
  01fb0		 |$LN9@HandleBusO|
  01fb0	00000000	 DCD         |??_C@_1CO@FOMMEIDD@?$AAB?$AAU?$AAS?$AA?5?$AAO?$AAF?$AAF?$AA?4?$AA?5?$AAs?$AAt?$AAa?$AAt?$AAu?$AAs?$AA?5?$AA0?$AAx?$AA?$CF?$AAx?$AA?$AN?$AA?6?$AA?$AA@|
  01fb4		 |$M38003|

			 ENDP  ; |?HandleBusOffInterrupt@@YAXPAUT_CAN_DEVICE@@@Z|, HandleBusOffInterrupt

	EXPORT	|??_C@_1DK@IKHJICBP@?$AAE?$AAr?$AAr?$AAo?$AAr?$AA?5?$AAp?$AAa?$AAs?$AAs?$AAi?$AAv?$AAe?$AA?4?$AA?5?$AAs?$AAt?$AAa?$AAt?$AAu?$AAs?$AA?5?$AA0?$AAx?$AA?$CF?$AAx?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|?HandleErrorPassiveInterrupt@@YAXPAUT_CAN_DEVICE@@@Z| ; HandleErrorPassiveInterrupt

  000a8			 AREA	 |.pdata|, PDATA
|$T38014| DCD	|$LN7@HandleErro|
	DCD	0x40001804

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DK@IKHJICBP@?$AAE?$AAr?$AAr?$AAo?$AAr?$AA?5?$AAp?$AAa?$AAs?$AAs?$AAi?$AAv?$AAe?$AA?4?$AA?5?$AAs?$AAt?$AAa?$AAt?$AAu?$AAs?$AA?5?$AA0?$AAx?$AA?$CF?$AAx?$AA?$AN?$AA?6?$AA?$AA@| DCB "E"
	DCB	0x0, "r", 0x0, "r", 0x0, "o", 0x0, "r", 0x0, " ", 0x0, "p"
	DCB	0x0, "a", 0x0, "s", 0x0, "s", 0x0, "i", 0x0, "v", 0x0, "e"
	DCB	0x0, ".", 0x0, " ", 0x0, "s", 0x0, "t", 0x0, "a", 0x0, "t"
	DCB	0x0, "u", 0x0, "s", 0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%"
	DCB	0x0, "x", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Odtp

  01fb4			 AREA	 |.text|, CODE, ARM

  01fb4		 |?HandleErrorPassiveInterrupt@@YAXPAUT_CAN_DEVICE@@@Z| PROC ; HandleErrorPassiveInterrupt

; 1137 : {

  01fb4		 |$LN7@HandleErro|
  01fb4	e1a0c00d	 mov         r12, sp
  01fb8	e92d0001	 stmdb       sp!, {r0}
  01fbc	e92d5000	 stmdb       sp!, {r12, lr}
  01fc0	e24dd004	 sub         sp, sp, #4
  01fc4		 |$M38011|

; 1138 : //    OMAP_HECC_SCC_REGS* pRegs = pDevice->pCanRegs;
; 1139 :     RETAILMSG(1,(TEXT("Error passive. status 0x%x\r\n"),pDevice->pCanRegs->CANGIF0));

  01fc4	e59d300c	 ldr         r3, [sp, #0xC]
  01fc8	e283302c	 add         r3, r3, #0x2C
  01fcc	e5933000	 ldr         r3, [r3]
  01fd0	e283303c	 add         r3, r3, #0x3C
  01fd4	e5931000	 ldr         r1, [r3]
  01fd8	e59f0030	 ldr         r0, [pc, #0x30]
  01fdc	eb000000	 bl          NKDbgPrintfW
  01fe0	e3a03001	 mov         r3, #1
  01fe4	e58d3000	 str         r3, [sp]
  01fe8	ea000001	 b           |$LN4@HandleErro|
  01fec	e3a03000	 mov         r3, #0
  01ff0	e58d3000	 str         r3, [sp]
  01ff4		 |$LN4@HandleErro|

; 1140 :     pDevice->canStatus.BusState = ERROR_PASSIVE;

  01ff4	e59d300c	 ldr         r3, [sp, #0xC]
  01ff8	e2832098	 add         r2, r3, #0x98
  01ffc	e3a03002	 mov         r3, #2
  02000	e5823000	 str         r3, [r2]

; 1141 : }

  02004	e28dd004	 add         sp, sp, #4
  02008	e89d6000	 ldmia       sp, {sp, lr}
  0200c	e12fff1e	 bx          lr
  02010		 |$LN8@HandleErro|
  02010		 |$LN9@HandleErro|
  02010	00000000	 DCD         |??_C@_1DK@IKHJICBP@?$AAE?$AAr?$AAr?$AAo?$AAr?$AA?5?$AAp?$AAa?$AAs?$AAs?$AAi?$AAv?$AAe?$AA?4?$AA?5?$AAs?$AAt?$AAa?$AAt?$AAu?$AAs?$AA?5?$AA0?$AAx?$AA?$CF?$AAx?$AA?$AN?$AA?6?$AA?$AA@|
  02014		 |$M38012|

			 ENDP  ; |?HandleErrorPassiveInterrupt@@YAXPAUT_CAN_DEVICE@@@Z|, HandleErrorPassiveInterrupt

	EXPORT	|??_C@_1DK@MEOEDCIG@?$AAW?$AAa?$AAr?$AAn?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAe?$AAv?$AAe?$AAl?$AA?4?$AA?5?$AAs?$AAt?$AAa?$AAt?$AAu?$AAs?$AA?5?$AA0?$AAx?$AA?$CF?$AAx?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|?HandleWarningLevelInterrupt@@YAXPAUT_CAN_DEVICE@@@Z| ; HandleWarningLevelInterrupt

  000b0			 AREA	 |.pdata|, PDATA
|$T38023| DCD	|$LN7@HandleWarn|
	DCD	0x40001804

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DK@MEOEDCIG@?$AAW?$AAa?$AAr?$AAn?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAe?$AAv?$AAe?$AAl?$AA?4?$AA?5?$AAs?$AAt?$AAa?$AAt?$AAu?$AAs?$AA?5?$AA0?$AAx?$AA?$CF?$AAx?$AA?$AN?$AA?6?$AA?$AA@| DCB "W"
	DCB	0x0, "a", 0x0, "r", 0x0, "n", 0x0, "i", 0x0, "n", 0x0, "g"
	DCB	0x0, " ", 0x0, "l", 0x0, "e", 0x0, "v", 0x0, "e", 0x0, "l"
	DCB	0x0, ".", 0x0, " ", 0x0, "s", 0x0, "t", 0x0, "a", 0x0, "t"
	DCB	0x0, "u", 0x0, "s", 0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%"
	DCB	0x0, "x", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Odtp

  02014			 AREA	 |.text|, CODE, ARM

  02014		 |?HandleWarningLevelInterrupt@@YAXPAUT_CAN_DEVICE@@@Z| PROC ; HandleWarningLevelInterrupt

; 1143 : {

  02014		 |$LN7@HandleWarn|
  02014	e1a0c00d	 mov         r12, sp
  02018	e92d0001	 stmdb       sp!, {r0}
  0201c	e92d5000	 stmdb       sp!, {r12, lr}
  02020	e24dd004	 sub         sp, sp, #4
  02024		 |$M38020|

; 1144 : //    OMAP_HECC_SCC_REGS* pRegs = pDevice->pCanRegs;
; 1145 :     RETAILMSG(1,(TEXT("Warning level. status 0x%x\r\n"),pDevice->pCanRegs->CANGIF0));

  02024	e59d300c	 ldr         r3, [sp, #0xC]
  02028	e283302c	 add         r3, r3, #0x2C
  0202c	e5933000	 ldr         r3, [r3]
  02030	e283303c	 add         r3, r3, #0x3C
  02034	e5931000	 ldr         r1, [r3]
  02038	e59f0030	 ldr         r0, [pc, #0x30]
  0203c	eb000000	 bl          NKDbgPrintfW
  02040	e3a03001	 mov         r3, #1
  02044	e58d3000	 str         r3, [sp]
  02048	ea000001	 b           |$LN4@HandleWarn|
  0204c	e3a03000	 mov         r3, #0
  02050	e58d3000	 str         r3, [sp]
  02054		 |$LN4@HandleWarn|

; 1146 :     pDevice->canStatus.BusState = ERROR_ACTIVE_WARNED;

  02054	e59d300c	 ldr         r3, [sp, #0xC]
  02058	e2832098	 add         r2, r3, #0x98
  0205c	e3a03001	 mov         r3, #1
  02060	e5823000	 str         r3, [r2]

; 1147 : }

  02064	e28dd004	 add         sp, sp, #4
  02068	e89d6000	 ldmia       sp, {sp, lr}
  0206c	e12fff1e	 bx          lr
  02070		 |$LN8@HandleWarn|
  02070		 |$LN9@HandleWarn|
  02070	00000000	 DCD         |??_C@_1DK@MEOEDCIG@?$AAW?$AAa?$AAr?$AAn?$AAi?$AAn?$AAg?$AA?5?$AAl?$AAe?$AAv?$AAe?$AAl?$AA?4?$AA?5?$AAs?$AAt?$AAa?$AAt?$AAu?$AAs?$AA?5?$AA0?$AAx?$AA?$CF?$AAx?$AA?$AN?$AA?6?$AA?$AA@|
  02074		 |$M38021|

			 ENDP  ; |?HandleWarningLevelInterrupt@@YAXPAUT_CAN_DEVICE@@@Z|, HandleWarningLevelInterrupt

	EXPORT	|??_C@_1GK@NPAAMFPP@?$AAH?$AAE?$AAC?$AAC?$AA?5?$AA?3?$AA?5?$AAH?$AAa?$AAn?$AAd?$AAl?$AAe?$AAO?$AAt?$AAh?$AAe?$AAr?$AAI?$AAn?$AAt?$AAe?$AAr?$AAr?$AAu?$AAp?$AAt?$AAs?$AA?5?$AA?3?$AA?5?$AAr@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EA@MJKOPJDB@?$AAH?$AAE?$AAC?$AAC?$AA?5?$AA?3?$AA?5?$AAW?$AAa?$AAk?$AAe?$AA?5?$AAU?$AAp?$AA?5?$AAi?$AAn?$AAt?$AAe?$AAr?$AAr?$AAu?$AAt?$AAp?$AA?5?$AA0?$AAx?$AA?$CF?$AAx?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DG@OJMHPLO@?$AAH?$AAE?$AAC?$AAC?$AA?5?$AA?3?$AA?5?$AAw?$AAr?$AAi?$AAt?$AAe?$AA?5?$AAd?$AAe?$AAn?$AAi?$AAe?$AAd?$AA?5?$AA0?$AAx?$AA?$CF?$AAx?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|?HandleOtherInterrupts@@YAKPAUT_CAN_DEVICE@@@Z| ; HandleOtherInterrupts

  000b8			 AREA	 |.pdata|, PDATA
|$T38037| DCD	|$LN16@HandleOthe|
	DCD	0x40005204

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1GK@NPAAMFPP@?$AAH?$AAE?$AAC?$AAC?$AA?5?$AA?3?$AA?5?$AAH?$AAa?$AAn?$AAd?$AAl?$AAe?$AAO?$AAt?$AAh?$AAe?$AAr?$AAI?$AAn?$AAt?$AAe?$AAr?$AAr?$AAu?$AAp?$AAt?$AAs?$AA?5?$AA?3?$AA?5?$AAr@| DCB "H"
	DCB	0x0, "E", 0x0, "C", 0x0, "C", 0x0, " ", 0x0, ":", 0x0, " "
	DCB	0x0, "H", 0x0, "a", 0x0, "n", 0x0, "d", 0x0, "l", 0x0, "e"
	DCB	0x0, "O", 0x0, "t", 0x0, "h", 0x0, "e", 0x0, "r", 0x0, "I"
	DCB	0x0, "n", 0x0, "t", 0x0, "e", 0x0, "r", 0x0, "r", 0x0, "u"
	DCB	0x0, "p", 0x0, "t", 0x0, "s", 0x0, " ", 0x0, ":", 0x0, " "
	DCB	0x0, "r", 0x0, "e", 0x0, "m", 0x0, "a", 0x0, "i", 0x0, "n"
	DCB	0x0, "i", 0x0, "n", 0x0, "g", 0x0, " ", 0x0, "b", 0x0, "i"
	DCB	0x0, "t", 0x0, "s", 0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%"
	DCB	0x0, "x", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EA@MJKOPJDB@?$AAH?$AAE?$AAC?$AAC?$AA?5?$AA?3?$AA?5?$AAW?$AAa?$AAk?$AAe?$AA?5?$AAU?$AAp?$AA?5?$AAi?$AAn?$AAt?$AAe?$AAr?$AAr?$AAu?$AAt?$AAp?$AA?5?$AA0?$AAx?$AA?$CF?$AAx?$AA?$AN?$AA?6?$AA?$AA@| DCB "H"
	DCB	0x0, "E", 0x0, "C", 0x0, "C", 0x0, " ", 0x0, ":", 0x0, " "
	DCB	0x0, "W", 0x0, "a", 0x0, "k", 0x0, "e", 0x0, " ", 0x0, "U"
	DCB	0x0, "p", 0x0, " ", 0x0, "i", 0x0, "n", 0x0, "t", 0x0, "e"
	DCB	0x0, "r", 0x0, "r", 0x0, "u", 0x0, "t", 0x0, "p", 0x0, " "
	DCB	0x0, "0", 0x0, "x", 0x0, "%", 0x0, "x", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DG@OJMHPLO@?$AAH?$AAE?$AAC?$AAC?$AA?5?$AA?3?$AA?5?$AAw?$AAr?$AAi?$AAt?$AAe?$AA?5?$AAd?$AAe?$AAn?$AAi?$AAe?$AAd?$AA?5?$AA0?$AAx?$AA?$CF?$AAx?$AA?$AN?$AA?6?$AA?$AA@| DCB "H"
	DCB	0x0, "E", 0x0, "C", 0x0, "C", 0x0, " ", 0x0, ":", 0x0, " "
	DCB	0x0, "w", 0x0, "r", 0x0, "i", 0x0, "t", 0x0, "e", 0x0, " "
	DCB	0x0, "d", 0x0, "e", 0x0, "n", 0x0, "i", 0x0, "e", 0x0, "d"
	DCB	0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%", 0x0, "x", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'
; Function compile flags: /Odtp

  02074			 AREA	 |.text|, CODE, ARM

  02074		 |?HandleOtherInterrupts@@YAKPAUT_CAN_DEVICE@@@Z| PROC ; HandleOtherInterrupts

; 1151 : {

  02074		 |$LN16@HandleOthe|
  02074	e1a0c00d	 mov         r12, sp
  02078	e92d0001	 stmdb       sp!, {r0}
  0207c	e92d5000	 stmdb       sp!, {r12, lr}
  02080	e24dd018	 sub         sp, sp, #0x18
  02084		 |$M38034|

; 1152 :     DWORD clearMask = 0;

  02084	e3a03000	 mov         r3, #0
  02088	e58d3004	 str         r3, [sp, #4]

; 1153 :     DWORD dwStatus = INREG32(&pDevice->pCanRegs->CANGIF0);

  0208c	e59d3020	 ldr         r3, [sp, #0x20]
  02090	e283302c	 add         r3, r3, #0x2C
  02094	e5933000	 ldr         r3, [r3]
  02098	e283303c	 add         r3, r3, #0x3C
  0209c	e5933000	 ldr         r3, [r3]
  020a0	e58d3000	 str         r3, [sp]

; 1154 : //    OMAP_HECC_SCC_REGS* pRegs = pDevice->pCanRegs;
; 1155 :     
; 1156 :     if (dwStatus & CANGIx_RMLIM)

  020a4	e59d3000	 ldr         r3, [sp]
  020a8	e3130b02	 tst         r3, #2, 22
  020ac	0a000004	 beq         |$LN5@HandleOthe|

; 1157 :     {        
; 1158 :         HandleRxOverrun(pDevice);

  020b0	e59d0020	 ldr         r0, [sp, #0x20]
  020b4	eb000000	 bl          |?HandleRxOverrun@@YAXPAUT_CAN_DEVICE@@@Z|

; 1159 :         clearMask |= CANGIx_RMLIM;

  020b8	e59d3004	 ldr         r3, [sp, #4]
  020bc	e3833b02	 orr         r3, r3, #2, 22
  020c0	e58d3004	 str         r3, [sp, #4]
  020c4		 |$LN5@HandleOthe|

; 1160 :     }
; 1161 :     if (dwStatus & CANGIx_AAIM)

  020c4	e59d3000	 ldr         r3, [sp]
  020c8	e3130901	 tst         r3, #1, 18
  020cc	0a000004	 beq         |$LN4@HandleOthe|

; 1162 :     {
; 1163 :         HandleTXMailboxInterrupt(pDevice);

  020d0	e59d0020	 ldr         r0, [sp, #0x20]
  020d4	eb000000	 bl          |?HandleTXMailboxInterrupt@@YAXPAUT_CAN_DEVICE@@@Z|

; 1164 :         clearMask |= CANGIx_AAIM;

  020d8	e59d3004	 ldr         r3, [sp, #4]
  020dc	e3833901	 orr         r3, r3, #1, 18
  020e0	e58d3004	 str         r3, [sp, #4]
  020e4		 |$LN4@HandleOthe|

; 1165 :     }
; 1166 :     if (dwStatus & CANGIx_WDIM)

  020e4	e59d3000	 ldr         r3, [sp]
  020e8	e3130a02	 tst         r3, #2, 20
  020ec	0a00000a	 beq         |$LN3@HandleOthe|

; 1167 :     {        
; 1168 :         RETAILMSG(1,(TEXT("HECC : write denied 0x%x\r\n"),dwStatus));

  020f0	e59d1000	 ldr         r1, [sp]
  020f4	e59f00bc	 ldr         r0, [pc, #0xBC]
  020f8	eb000000	 bl          NKDbgPrintfW
  020fc	e3a03001	 mov         r3, #1
  02100	e58d300c	 str         r3, [sp, #0xC]
  02104	ea000001	 b           |$LN9@HandleOthe|
  02108	e3a03000	 mov         r3, #0
  0210c	e58d300c	 str         r3, [sp, #0xC]
  02110		 |$LN9@HandleOthe|

; 1169 :         clearMask |= CANGIx_WDIM;

  02110	e59d3004	 ldr         r3, [sp, #4]
  02114	e3833a02	 orr         r3, r3, #2, 20
  02118	e58d3004	 str         r3, [sp, #4]
  0211c		 |$LN3@HandleOthe|

; 1170 :     }
; 1171 :     if (dwStatus & CANGIx_WUIM)

  0211c	e59d3000	 ldr         r3, [sp]
  02120	e3130a01	 tst         r3, #1, 20
  02124	0a00000a	 beq         |$LN2@HandleOthe|

; 1172 :     {        
; 1173 :         RETAILMSG(1,(TEXT("HECC : Wake Up interrutp 0x%x\r\n"),dwStatus));

  02128	e59d1000	 ldr         r1, [sp]
  0212c	e59f0080	 ldr         r0, [pc, #0x80]
  02130	eb000000	 bl          NKDbgPrintfW
  02134	e3a03001	 mov         r3, #1
  02138	e58d3010	 str         r3, [sp, #0x10]
  0213c	ea000001	 b           |$LN11@HandleOthe|
  02140	e3a03000	 mov         r3, #0
  02144	e58d3010	 str         r3, [sp, #0x10]
  02148		 |$LN11@HandleOthe|

; 1174 :         clearMask |= CANGIx_WUIM;

  02148	e59d3004	 ldr         r3, [sp, #4]
  0214c	e3833a01	 orr         r3, r3, #1, 20
  02150	e58d3004	 str         r3, [sp, #4]
  02154		 |$LN2@HandleOthe|

; 1175 :     }
; 1176 : 
; 1177 : #ifdef DEBUG
; 1178 :     if ((dwStatus & CANGIx_OTHER_INTERRUPTS) & ~clearMask)

  02154	e59d3000	 ldr         r3, [sp]
  02158	e2032b1e	 and         r2, r3, #0x1E, 22
  0215c	e59d3004	 ldr         r3, [sp, #4]
  02160	e1e03003	 mvn         r3, r3
  02164	e1120003	 tst         r2, r3
  02168	0a00000a	 beq         |$LN1@HandleOthe|

; 1179 :     {        
; 1180 :         RETAILMSG(1,(TEXT("HECC : HandleOtherInterrupts : remaining bits 0x%x\r\n"),dwStatus & ~clearMask));

  0216c	e59d3004	 ldr         r3, [sp, #4]
  02170	e1e02003	 mvn         r2, r3
  02174	e59d3000	 ldr         r3, [sp]
  02178	e0031002	 and         r1, r3, r2
  0217c	e59f002c	 ldr         r0, [pc, #0x2C]
  02180	eb000000	 bl          NKDbgPrintfW
  02184	e3a03001	 mov         r3, #1
  02188	e58d3014	 str         r3, [sp, #0x14]
  0218c	ea000001	 b           |$LN13@HandleOthe|
  02190	e3a03000	 mov         r3, #0
  02194	e58d3014	 str         r3, [sp, #0x14]
  02198		 |$LN13@HandleOthe|
  02198		 |$LN1@HandleOthe|

; 1181 :     }
; 1182 : #endif
; 1183 :     return clearMask;

  02198	e59d3004	 ldr         r3, [sp, #4]
  0219c	e58d3008	 str         r3, [sp, #8]

; 1184 : }

  021a0	e59d0008	 ldr         r0, [sp, #8]
  021a4	e28dd018	 add         sp, sp, #0x18
  021a8	e89d6000	 ldmia       sp, {sp, lr}
  021ac	e12fff1e	 bx          lr
  021b0		 |$LN17@HandleOthe|
  021b0		 |$LN18@HandleOthe|
  021b0	00000000	 DCD         |??_C@_1GK@NPAAMFPP@?$AAH?$AAE?$AAC?$AAC?$AA?5?$AA?3?$AA?5?$AAH?$AAa?$AAn?$AAd?$AAl?$AAe?$AAO?$AAt?$AAh?$AAe?$AAr?$AAI?$AAn?$AAt?$AAe?$AAr?$AAr?$AAu?$AAp?$AAt?$AAs?$AA?5?$AA?3?$AA?5?$AAr@|
  021b4		 |$LN19@HandleOthe|
  021b4	00000000	 DCD         |??_C@_1EA@MJKOPJDB@?$AAH?$AAE?$AAC?$AAC?$AA?5?$AA?3?$AA?5?$AAW?$AAa?$AAk?$AAe?$AA?5?$AAU?$AAp?$AA?5?$AAi?$AAn?$AAt?$AAe?$AAr?$AAr?$AAu?$AAt?$AAp?$AA?5?$AA0?$AAx?$AA?$CF?$AAx?$AA?$AN?$AA?6?$AA?$AA@|
  021b8		 |$LN20@HandleOthe|
  021b8	00000000	 DCD         |??_C@_1DG@OJMHPLO@?$AAH?$AAE?$AAC?$AAC?$AA?5?$AA?3?$AA?5?$AAw?$AAr?$AAi?$AAt?$AAe?$AA?5?$AAd?$AAe?$AAn?$AAi?$AAe?$AAd?$AA?5?$AA0?$AAx?$AA?$CF?$AAx?$AA?$AN?$AA?6?$AA?$AA@|
  021bc		 |$M38035|

			 ENDP  ; |?HandleOtherInterrupts@@YAKPAUT_CAN_DEVICE@@@Z|, HandleOtherInterrupts

	EXPORT	|??_C@_1FM@FBLAFLGP@?$AAC?$AAA?$AAN?$AAE?$AAS?$AA1?$AA?5?$AA0?$AAx?$AA?$CF?$AAx?$AA?7?$AAC?$AAA?$AAN?$AAE?$AAS?$AA2?$AA?5?$AA0?$AAx?$AA?$CF?$AAx?$AA?7?$AAC?$AAA?$AAN?$AAR?$AAE?$AAC?$AA?5?$AA?$CF@| [ DATA ] ; `string'
	EXPORT	|?ShowErrors@@YAXPAUOMAP_HECC_SCC_REGS@@@Z| ; ShowErrors

  000c0			 AREA	 |.pdata|, PDATA
|$T38049| DCD	|$LN7@ShowErrors|
	DCD	0x40002804

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FM@FBLAFLGP@?$AAC?$AAA?$AAN?$AAE?$AAS?$AA1?$AA?5?$AA0?$AAx?$AA?$CF?$AAx?$AA?7?$AAC?$AAA?$AAN?$AAE?$AAS?$AA2?$AA?5?$AA0?$AAx?$AA?$CF?$AAx?$AA?7?$AAC?$AAA?$AAN?$AAR?$AAE?$AAC?$AA?5?$AA?$CF@| DCB "C"
	DCB	0x0, "A", 0x0, "N", 0x0, "E", 0x0, "S", 0x0, "1", 0x0, " "
	DCB	0x0, "0", 0x0, "x", 0x0, "%", 0x0, "x", 0x0, 0x9, 0x0, "C"
	DCB	0x0, "A", 0x0, "N", 0x0, "E", 0x0, "S", 0x0, "2", 0x0, " "
	DCB	0x0, "0", 0x0, "x", 0x0, "%", 0x0, "x", 0x0, 0x9, 0x0, "C"
	DCB	0x0, "A", 0x0, "N", 0x0, "R", 0x0, "E", 0x0, "C", 0x0, " "
	DCB	0x0, "%", 0x0, "d", 0x0, 0x9, 0x0, "C", 0x0, "A", 0x0, "N"
	DCB	0x0, "T", 0x0, "E", 0x0, "C", 0x0, " ", 0x0, "%", 0x0, "d"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'
; Function compile flags: /Odtp

  021bc			 AREA	 |.text|, CODE, ARM

  021bc		 |?ShowErrors@@YAXPAUOMAP_HECC_SCC_REGS@@@Z| PROC ; ShowErrors

; 1188 : {

  021bc		 |$LN7@ShowErrors|
  021bc	e1a0c00d	 mov         r12, sp
  021c0	e92d0001	 stmdb       sp!, {r0}
  021c4	e92d5000	 stmdb       sp!, {r12, lr}
  021c8	e24dd014	 sub         sp, sp, #0x14
  021cc		 |$M38046|

; 1189 : #ifdef DEBUG
; 1190 :     DWORD CANES1,CANES2;
; 1191 :     CANES1 = INREG32(&pRegs->CANES);

  021cc	e59d301c	 ldr         r3, [sp, #0x1C]
  021d0	e2833030	 add         r3, r3, #0x30
  021d4	e5933000	 ldr         r3, [r3]
  021d8	e58d3004	 str         r3, [sp, #4]

; 1192 :     OUTREG32(&pRegs->CANES,CANES1);

  021dc	e59d301c	 ldr         r3, [sp, #0x1C]
  021e0	e2832030	 add         r2, r3, #0x30
  021e4	e59d3004	 ldr         r3, [sp, #4]
  021e8	e5823000	 str         r3, [r2]

; 1193 :     CANES2 = INREG32(&pRegs->CANES);

  021ec	e59d301c	 ldr         r3, [sp, #0x1C]
  021f0	e2833030	 add         r3, r3, #0x30
  021f4	e5933000	 ldr         r3, [r3]
  021f8	e58d3008	 str         r3, [sp, #8]

; 1194 :     OUTREG32(&pRegs->CANES,CANES2);

  021fc	e59d301c	 ldr         r3, [sp, #0x1C]
  02200	e2832030	 add         r2, r3, #0x30
  02204	e59d3008	 ldr         r3, [sp, #8]
  02208	e5823000	 str         r3, [r2]

; 1195 :     DEBUGMSG(1,(TEXT("CANES1 0x%x\tCANES2 0x%x\tCANREC %d\tCANTEC %d\r\n"),
; 1196 :         CANES1,CANES2,pRegs->CANREC,pRegs->CANTEC));

  0220c	e59d301c	 ldr         r3, [sp, #0x1C]
  02210	e2833034	 add         r3, r3, #0x34
  02214	e5933000	 ldr         r3, [r3]
  02218	e58d3000	 str         r3, [sp]
  0221c	e59d301c	 ldr         r3, [sp, #0x1C]
  02220	e2833038	 add         r3, r3, #0x38
  02224	e5933000	 ldr         r3, [r3]
  02228	e59d2008	 ldr         r2, [sp, #8]
  0222c	e59d1004	 ldr         r1, [sp, #4]
  02230	e59f0020	 ldr         r0, [pc, #0x20]
  02234	eb000000	 bl          NKDbgPrintfW
  02238	e3a03001	 mov         r3, #1
  0223c	e58d3010	 str         r3, [sp, #0x10]
  02240	ea000001	 b           |$LN4@ShowErrors|
  02244	e3a03000	 mov         r3, #0
  02248	e58d3010	 str         r3, [sp, #0x10]
  0224c		 |$LN4@ShowErrors|

; 1197 : #else
; 1198 :     UNREFERENCED_PARAMETER(pRegs);
; 1199 : #endif
; 1200 : }

  0224c	e28dd014	 add         sp, sp, #0x14
  02250	e89d6000	 ldmia       sp, {sp, lr}
  02254	e12fff1e	 bx          lr
  02258		 |$LN8@ShowErrors|
  02258		 |$LN9@ShowErrors|
  02258	00000000	 DCD         |??_C@_1FM@FBLAFLGP@?$AAC?$AAA?$AAN?$AAE?$AAS?$AA1?$AA?5?$AA0?$AAx?$AA?$CF?$AAx?$AA?7?$AAC?$AAA?$AAN?$AAE?$AAS?$AA2?$AA?5?$AA0?$AAx?$AA?$CF?$AAx?$AA?7?$AAC?$AAA?$AAN?$AAR?$AAE?$AAC?$AA?5?$AA?$CF@|
  0225c		 |$M38047|

			 ENDP  ; |?ShowErrors@@YAXPAUOMAP_HECC_SCC_REGS@@@Z|, ShowErrors

	EXPORT	|?CANHandleIrq@@YAHPAUT_CAN_DEVICE@@@Z|	; CANHandleIrq

  000c8			 AREA	 |.pdata|, PDATA
|$T38059| DCD	|$LN15@CANHandleI|
	DCD	0x40008204
; Function compile flags: /Odtp

  0225c			 AREA	 |.text|, CODE, ARM

  0225c		 |?CANHandleIrq@@YAHPAUT_CAN_DEVICE@@@Z| PROC ; CANHandleIrq

; 1203 : {

  0225c		 |$LN15@CANHandleI|
  0225c	e1a0c00d	 mov         r12, sp
  02260	e92d0001	 stmdb       sp!, {r0}
  02264	e92d5000	 stmdb       sp!, {r12, lr}
  02268	e24dd020	 sub         sp, sp, #0x20
  0226c		 |$M38056|

; 1204 :     BOOL fSpurious = TRUE;

  0226c	e3a03001	 mov         r3, #1
  02270	e58d3000	 str         r3, [sp]

; 1205 :     OMAP_HECC_SCC_REGS* pRegs = pDevice->pCanRegs;

  02274	e59d3028	 ldr         r3, [sp, #0x28]
  02278	e283302c	 add         r3, r3, #0x2C
  0227c	e5933000	 ldr         r3, [r3]
  02280	e58d3004	 str         r3, [sp, #4]

; 1206 :     DWORD status0,status1;
; 1207 :     status0 = INREG32(&pRegs->CANGIF0);

  02284	e59d3004	 ldr         r3, [sp, #4]
  02288	e283303c	 add         r3, r3, #0x3C
  0228c	e5933000	 ldr         r3, [r3]
  02290	e58d300c	 str         r3, [sp, #0xC]

; 1208 :     status1 = INREG32(&pRegs->CANGIF1);

  02294	e59d3004	 ldr         r3, [sp, #4]
  02298	e2833044	 add         r3, r3, #0x44
  0229c	e5933000	 ldr         r3, [r3]
  022a0	e58d3008	 str         r3, [sp, #8]

; 1209 : 
; 1210 :     if (((status0 & CANGIx_BOIM) == 0) && ((status0 & CANGIx_EPIM) == 0))

  022a4	e59d300c	 ldr         r3, [sp, #0xC]
  022a8	e3130b01	 tst         r3, #1, 22
  022ac	1a00000d	 bne         |$LN8@CANHandleI|
  022b0	e59d300c	 ldr         r3, [sp, #0xC]
  022b4	e3130c02	 tst         r3, #2, 24
  022b8	1a00000a	 bne         |$LN8@CANHandleI|

; 1211 :     {
; 1212 :         if (pDevice->canStatus.BusState != ERROR_ACTIVE)

  022bc	e59d3028	 ldr         r3, [sp, #0x28]
  022c0	e2833098	 add         r3, r3, #0x98
  022c4	e5933000	 ldr         r3, [r3]
  022c8	e3530000	 cmp         r3, #0
  022cc	0a000005	 beq         |$LN7@CANHandleI|

; 1213 :         {
; 1214 :             pDevice->canStatus.BusState = ERROR_ACTIVE;

  022d0	e59d3028	 ldr         r3, [sp, #0x28]
  022d4	e2832098	 add         r2, r3, #0x98
  022d8	e3a03000	 mov         r3, #0
  022dc	e5823000	 str         r3, [r2]

; 1215 :             // In case the trasnmit is stopped, re-start it.
; 1216 :             StartTransmit(pDevice);

  022e0	e59d0028	 ldr         r0, [sp, #0x28]
  022e4	eb000000	 bl          |?StartTransmit@@YAXPAUT_CAN_DEVICE@@@Z|
  022e8		 |$LN7@CANHandleI|
  022e8		 |$LN8@CANHandleI|

; 1217 :         }
; 1218 :     }
; 1219 : 
; 1220 :     if (status1 & CANGIF_GMIFx)

  022e8	e59d3008	 ldr         r3, [sp, #8]
  022ec	e3130902	 tst         r3, #2, 18
  022f0	0a000003	 beq         |$LN6@CANHandleI|

; 1221 :     {
; 1222 :         fSpurious = FALSE;

  022f4	e3a03000	 mov         r3, #0
  022f8	e58d3000	 str         r3, [sp]

; 1223 :         HandleRXMailboxInterrupt(pDevice);

  022fc	e59d0028	 ldr         r0, [sp, #0x28]
  02300	eb000000	 bl          |?HandleRXMailboxInterrupt@@YAXPAUT_CAN_DEVICE@@@Z|
  02304		 |$LN6@CANHandleI|

; 1224 :     }
; 1225 :     if (status0 & CANGIF_GMIFx)

  02304	e59d300c	 ldr         r3, [sp, #0xC]
  02308	e3130902	 tst         r3, #2, 18
  0230c	0a000003	 beq         |$LN5@CANHandleI|

; 1226 :     {
; 1227 :         fSpurious = FALSE;

  02310	e3a03000	 mov         r3, #0
  02314	e58d3000	 str         r3, [sp]

; 1228 :         HandleTXMailboxInterrupt(pDevice);

  02318	e59d0028	 ldr         r0, [sp, #0x28]
  0231c	eb000000	 bl          |?HandleTXMailboxInterrupt@@YAXPAUT_CAN_DEVICE@@@Z|
  02320		 |$LN5@CANHandleI|

; 1229 :     }    
; 1230 : 
; 1231 :     if (status0 & CANGIx_BOIM)

  02320	e59d300c	 ldr         r3, [sp, #0xC]
  02324	e3130b01	 tst         r3, #1, 22
  02328	0a00000d	 beq         |$LN4@CANHandleI|

; 1232 :     {
; 1233 :         fSpurious = FALSE;

  0232c	e3a03000	 mov         r3, #0
  02330	e58d3000	 str         r3, [sp]

; 1234 :         HandleBusOffInterrupt(pDevice);

  02334	e59d0028	 ldr         r0, [sp, #0x28]
  02338	eb000000	 bl          |?HandleBusOffInterrupt@@YAXPAUT_CAN_DEVICE@@@Z|

; 1235 :         OUTREG32(&pDevice->pCanRegs->CANGIF0,CANGIx_BOIM);

  0233c	e59d3028	 ldr         r3, [sp, #0x28]
  02340	e283302c	 add         r3, r3, #0x2C
  02344	e5933000	 ldr         r3, [r3]
  02348	e283203c	 add         r2, r3, #0x3C
  0234c	e3a03b01	 mov         r3, #1, 22
  02350	e5823000	 str         r3, [r2]

; 1236 :         ShowErrors(pDevice->pCanRegs);

  02354	e59d3028	 ldr         r3, [sp, #0x28]
  02358	e283302c	 add         r3, r3, #0x2C
  0235c	e5930000	 ldr         r0, [r3]
  02360	eb000000	 bl          |?ShowErrors@@YAXPAUOMAP_HECC_SCC_REGS@@@Z|
  02364		 |$LN4@CANHandleI|

; 1237 :     }
; 1238 :     
; 1239 :     if (status0 & CANGIx_EPIM)

  02364	e59d300c	 ldr         r3, [sp, #0xC]
  02368	e3130c02	 tst         r3, #2, 24
  0236c	0a00000d	 beq         |$LN3@CANHandleI|

; 1240 :     {
; 1241 :         fSpurious = FALSE;

  02370	e3a03000	 mov         r3, #0
  02374	e58d3000	 str         r3, [sp]

; 1242 :         HandleErrorPassiveInterrupt(pDevice);

  02378	e59d0028	 ldr         r0, [sp, #0x28]
  0237c	eb000000	 bl          |?HandleErrorPassiveInterrupt@@YAXPAUT_CAN_DEVICE@@@Z|

; 1243 :         OUTREG32(&pDevice->pCanRegs->CANGIF0,CANGIx_EPIM);

  02380	e59d3028	 ldr         r3, [sp, #0x28]
  02384	e283302c	 add         r3, r3, #0x2C
  02388	e5933000	 ldr         r3, [r3]
  0238c	e283203c	 add         r2, r3, #0x3C
  02390	e3a03c02	 mov         r3, #2, 24
  02394	e5823000	 str         r3, [r2]

; 1244 :         ShowErrors(pDevice->pCanRegs);

  02398	e59d3028	 ldr         r3, [sp, #0x28]
  0239c	e283302c	 add         r3, r3, #0x2C
  023a0	e5930000	 ldr         r0, [r3]
  023a4	eb000000	 bl          |?ShowErrors@@YAXPAUOMAP_HECC_SCC_REGS@@@Z|
  023a8		 |$LN3@CANHandleI|

; 1245 :     }
; 1246 : 
; 1247 :     if (status0 & CANGIx_WLIM)

  023a8	e59d300c	 ldr         r3, [sp, #0xC]
  023ac	e3130c01	 tst         r3, #1, 24
  023b0	0a00000d	 beq         |$LN2@CANHandleI|

; 1248 :     {
; 1249 :         fSpurious = FALSE;

  023b4	e3a03000	 mov         r3, #0
  023b8	e58d3000	 str         r3, [sp]

; 1250 :         HandleWarningLevelInterrupt(pDevice);

  023bc	e59d0028	 ldr         r0, [sp, #0x28]
  023c0	eb000000	 bl          |?HandleWarningLevelInterrupt@@YAXPAUT_CAN_DEVICE@@@Z|

; 1251 :         OUTREG32(&pDevice->pCanRegs->CANGIF0,CANGIx_WLIM);

  023c4	e59d3028	 ldr         r3, [sp, #0x28]
  023c8	e283302c	 add         r3, r3, #0x2C
  023cc	e5933000	 ldr         r3, [r3]
  023d0	e283203c	 add         r2, r3, #0x3C
  023d4	e3a03c01	 mov         r3, #1, 24
  023d8	e5823000	 str         r3, [r2]

; 1252 :         ShowErrors(pDevice->pCanRegs);

  023dc	e59d3028	 ldr         r3, [sp, #0x28]
  023e0	e283302c	 add         r3, r3, #0x2C
  023e4	e5930000	 ldr         r0, [r3]
  023e8	eb000000	 bl          |?ShowErrors@@YAXPAUOMAP_HECC_SCC_REGS@@@Z|
  023ec		 |$LN2@CANHandleI|

; 1253 :     }
; 1254 :     
; 1255 :     if (status0 & CANGIx_OTHER_INTERRUPTS)

  023ec	e59d300c	 ldr         r3, [sp, #0xC]
  023f0	e3130b1e	 tst         r3, #0x1E, 22
  023f4	0a00000c	 beq         |$LN1@CANHandleI|

; 1256 :     {
; 1257 :         DWORD clearMask;
; 1258 :         fSpurious = FALSE;

  023f8	e3a03000	 mov         r3, #0
  023fc	e58d3000	 str         r3, [sp]

; 1259 :         clearMask = HandleOtherInterrupts(pDevice);

  02400	e59d0028	 ldr         r0, [sp, #0x28]
  02404	eb000000	 bl          |?HandleOtherInterrupts@@YAKPAUT_CAN_DEVICE@@@Z|
  02408	e58d0018	 str         r0, [sp, #0x18]
  0240c	e59d3018	 ldr         r3, [sp, #0x18]
  02410	e58d3010	 str         r3, [sp, #0x10]

; 1260 :         OUTREG32(&pDevice->pCanRegs->CANGIF0, clearMask);

  02414	e59d3028	 ldr         r3, [sp, #0x28]
  02418	e283302c	 add         r3, r3, #0x2C
  0241c	e5933000	 ldr         r3, [r3]
  02420	e283203c	 add         r2, r3, #0x3C
  02424	e59d3010	 ldr         r3, [sp, #0x10]
  02428	e5823000	 str         r3, [r2]
  0242c		 |$LN1@CANHandleI|

; 1261 :     }
; 1262 : 
; 1263 :     return !fSpurious;   

  0242c	e59d3000	 ldr         r3, [sp]
  02430	e3530000	 cmp         r3, #0
  02434	1a000002	 bne         |$LN11@CANHandleI|
  02438	e3a03001	 mov         r3, #1
  0243c	e58d301c	 str         r3, [sp, #0x1C]
  02440	ea000001	 b           |$LN12@CANHandleI|
  02444		 |$LN11@CANHandleI|
  02444	e3a03000	 mov         r3, #0
  02448	e58d301c	 str         r3, [sp, #0x1C]
  0244c		 |$LN12@CANHandleI|
  0244c	e59d301c	 ldr         r3, [sp, #0x1C]
  02450	e58d3014	 str         r3, [sp, #0x14]

; 1264 : }

  02454	e59d0014	 ldr         r0, [sp, #0x14]
  02458	e28dd020	 add         sp, sp, #0x20
  0245c	e89d6000	 ldmia       sp, {sp, lr}
  02460	e12fff1e	 bx          lr
  02464		 |$M38057|

			 ENDP  ; |?CANHandleIrq@@YAHPAUT_CAN_DEVICE@@@Z|, CANHandleIrq

	EXPORT	|??_C@_1CC@OIGBEJBL@?$AA?9?$AAC?$AAA?$AAN?$AAI?$AAn?$AAt?$AAr?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	IMPORT	|InterruptDone|

  000d0			 AREA	 |.pdata|, PDATA
|$T38067| DCD	|$LN13@CANIntrThr|
	DCD	0x40003804

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CC@OIGBEJBL@?$AA?9?$AAC?$AAA?$AAN?$AAI?$AAn?$AAt?$AAr?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?$AN?$AA?6?$AA?$AA@| DCB "-"
	DCB	0x0, "C", 0x0, "A", 0x0, "N", 0x0, "I", 0x0, "n", 0x0, "t"
	DCB	0x0, "r", 0x0, "T", 0x0, "h", 0x0, "r", 0x0, "e", 0x0, "a"
	DCB	0x0, "d", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Odtp

  02464			 AREA	 |.text|, CODE, ARM

  02464		 |?CANIntrThread@@YAKPAX@Z| PROC	; CANIntrThread

; 1275 : {

  02464		 |$LN13@CANIntrThr|
  02464	e1a0c00d	 mov         r12, sp
  02468	e92d0001	 stmdb       sp!, {r0}
  0246c	e92d5000	 stmdb       sp!, {r12, lr}
  02470	e24dd014	 sub         sp, sp, #0x14
  02474		 |$M38064|

; 1276 :     T_CAN_DEVICE *pDevice = (T_CAN_DEVICE*) pContext;

  02474	e59d301c	 ldr         r3, [sp, #0x1C]
  02478	e58d3000	 str         r3, [sp]
  0247c		 |$LN6@CANIntrThr|

; 1277 :     while (!pDevice->fTerminateThread)

  0247c	e59d3000	 ldr         r3, [sp]
  02480	e283300c	 add         r3, r3, #0xC
  02484	e5933000	 ldr         r3, [r3]
  02488	e3530000	 cmp         r3, #0
  0248c	1a000019	 bne         |$LN5@CANIntrThr|

; 1278 :     {
; 1279 :         InterruptDone(pDevice->dwSysintr);

  02490	e59d3000	 ldr         r3, [sp]
  02494	e5930000	 ldr         r0, [r3]
  02498	eb000000	 bl          InterruptDone

; 1280 :         // Wait for CAN interrupt
; 1281 :         if (WaitForSingleObject(pDevice->hIntrEvent, INFINITE) == WAIT_OBJECT_0)

  0249c	e3e01000	 mvn         r1, #0
  024a0	e59d3000	 ldr         r3, [sp]
  024a4	e2833004	 add         r3, r3, #4
  024a8	e5930000	 ldr         r0, [r3]
  024ac	eb000000	 bl          WaitForSingleObject
  024b0	e58d0008	 str         r0, [sp, #8]
  024b4	e59d3008	 ldr         r3, [sp, #8]
  024b8	e3530000	 cmp         r3, #0
  024bc	1a00000c	 bne         |$LN4@CANIntrThr|

; 1282 :         {
; 1283 :             if (pDevice->fTerminateThread)

  024c0	e59d3000	 ldr         r3, [sp]
  024c4	e283300c	 add         r3, r3, #0xC
  024c8	e5933000	 ldr         r3, [r3]
  024cc	e3530000	 cmp         r3, #0
  024d0	0a000000	 beq         |$LN3@CANIntrThr|

; 1284 :             {
; 1285 :                 break;

  024d4	ea000007	 b           |$LN5@CANIntrThr|
  024d8		 |$LN3@CANIntrThr|
  024d8		 |$LN2@CANIntrThr|

; 1286 :             }
; 1287 :             while (CANHandleIrq(pDevice)); 

  024d8	e59d0000	 ldr         r0, [sp]
  024dc	eb000000	 bl          |?CANHandleIrq@@YAHPAUT_CAN_DEVICE@@@Z|
  024e0	e58d000c	 str         r0, [sp, #0xC]
  024e4	e59d300c	 ldr         r3, [sp, #0xC]
  024e8	e3530000	 cmp         r3, #0
  024ec	0a000000	 beq         |$LN1@CANIntrThr|
  024f0	eafffff8	 b           |$LN2@CANIntrThr|
  024f4		 |$LN1@CANIntrThr|
  024f4		 |$LN4@CANIntrThr|

; 1288 :         }
; 1289 : 
; 1290 :     }

  024f4	eaffffe0	 b           |$LN6@CANIntrThr|
  024f8		 |$LN5@CANIntrThr|

; 1291 : 
; 1292 :     DEBUGMSG(ZONE_IST, (L"-CANIntrThread\r\n"));

  024f8	e59f3040	 ldr         r3, [pc, #0x40]
  024fc	e5933440	 ldr         r3, [r3, #0x440]
  02500	e3130010	 tst         r3, #0x10
  02504	0a000004	 beq         |$LN9@CANIntrThr|
  02508	e59f002c	 ldr         r0, [pc, #0x2C]
  0250c	eb000000	 bl          NKDbgPrintfW
  02510	e3a03001	 mov         r3, #1
  02514	e58d3010	 str         r3, [sp, #0x10]
  02518	ea000001	 b           |$LN10@CANIntrThr|
  0251c		 |$LN9@CANIntrThr|
  0251c	e3a03000	 mov         r3, #0
  02520	e58d3010	 str         r3, [sp, #0x10]
  02524		 |$LN10@CANIntrThr|

; 1293 :     return ERROR_SUCCESS;

  02524	e3a03000	 mov         r3, #0
  02528	e58d3004	 str         r3, [sp, #4]

; 1294 : }

  0252c	e59d0004	 ldr         r0, [sp, #4]
  02530	e28dd014	 add         sp, sp, #0x14
  02534	e89d6000	 ldmia       sp, {sp, lr}
  02538	e12fff1e	 bx          lr
  0253c		 |$LN14@CANIntrThr|
  0253c		 |$LN15@CANIntrThr|
  0253c	00000000	 DCD         |??_C@_1CC@OIGBEJBL@?$AA?9?$AAC?$AAA?$AAN?$AAI?$AAn?$AAt?$AAr?$AAT?$AAh?$AAr?$AAe?$AAa?$AAd?$AA?$AN?$AA?6?$AA?$AA@|
  02540		 |$LN16@CANIntrThr|
  02540	00000000	 DCD         |dpCurSettings|
  02544		 |$M38065|

			 ENDP  ; |?CANIntrThread@@YAKPAX@Z|, CANIntrThread

	EXPORT	|DllMain|
	IMPORT	|DisableThreadLibraryCalls|
	IMPORT	|RegisterDbgZones|

  000d8			 AREA	 |.pdata|, PDATA
|$T38076| DCD	|$LN8@DllMain|
	DCD	0x40001404
; Function compile flags: /Odtp

  02544			 AREA	 |.text|, CODE, ARM

  02544		 |DllMain| PROC

; 1309 : {

  02544		 |$LN8@DllMain|
  02544	e1a0c00d	 mov         r12, sp
  02548	e92d0007	 stmdb       sp!, {r0 - r2}
  0254c	e92d5000	 stmdb       sp!, {r12, lr}
  02550	e24dd004	 sub         sp, sp, #4
  02554		 |$M38073|

; 1310 :     UNREFERENCED_PARAMETER(pReserved);
; 1311 :     switch (reason)

  02554	e59d3010	 ldr         r3, [sp, #0x10]
  02558	e3530001	 cmp         r3, #1
  0255c	0a000000	 beq         |$LN1@DllMain|
  02560	ea000004	 b           |$LN2@DllMain|
  02564		 |$LN1@DllMain|

; 1312 :     {
; 1313 :     case DLL_PROCESS_ATTACH:
; 1314 :         RETAILREGISTERZONES((HMODULE)hDLL);

  02564	e59f1024	 ldr         r1, [pc, #0x24]
  02568	e59d000c	 ldr         r0, [sp, #0xC]
  0256c	eb000000	 bl          RegisterDbgZones

; 1315 :         DisableThreadLibraryCalls((HMODULE)hDLL);

  02570	e59d000c	 ldr         r0, [sp, #0xC]
  02574	eb000000	 bl          DisableThreadLibraryCalls
  02578		 |$LN2@DllMain|

; 1316 :         break;
; 1317 :     }
; 1318 :     return TRUE;

  02578	e3a03001	 mov         r3, #1
  0257c	e58d3000	 str         r3, [sp]

; 1319 : }

  02580	e59d0000	 ldr         r0, [sp]
  02584	e28dd004	 add         sp, sp, #4
  02588	e89d6000	 ldmia       sp, {sp, lr}
  0258c	e12fff1e	 bx          lr
  02590		 |$LN9@DllMain|
  02590		 |$LN10@DllMain|
  02590	00000000	 DCD         |dpCurSettings|
  02594		 |$M38074|

			 ENDP  ; |DllMain|

	IMPORT	|Sleep|

  000e0			 AREA	 |.pdata|, PDATA
|$T38084| DCD	|$LN11@CANInitHar|
	DCD	0x40006404
; Function compile flags: /Odtp

  02594			 AREA	 |.text|, CODE, ARM

  02594		 |?CANInitHardware@@YAHPAX@Z| PROC	; CANInitHardware

; 1326 : {

  02594		 |$LN11@CANInitHar|
  02594	e1a0c00d	 mov         r12, sp
  02598	e92d0001	 stmdb       sp!, {r0}
  0259c	e92d5000	 stmdb       sp!, {r12, lr}
  025a0	e24dd010	 sub         sp, sp, #0x10
  025a4		 |$M38081|

; 1327 :     T_CAN_DEVICE *pDevice = (T_CAN_DEVICE*) ctxt;

  025a4	e59d3018	 ldr         r3, [sp, #0x18]
  025a8	e58d3000	 str         r3, [sp]

; 1328 :     int i;
; 1329 :         
; 1330 :     // Soft reset the CTRL
; 1331 :     OUTREG32(&pDevice->pCanRegs->CANMC,CANMC_SRES);

  025ac	e59d3000	 ldr         r3, [sp]
  025b0	e283302c	 add         r3, r3, #0x2C
  025b4	e5933000	 ldr         r3, [r3]
  025b8	e2832028	 add         r2, r3, #0x28
  025bc	e3a03020	 mov         r3, #0x20
  025c0	e5823000	 str         r3, [r2]

; 1332 :     Sleep(1);

  025c4	e3a00001	 mov         r0, #1
  025c8	eb000000	 bl          Sleep

; 1333 : 
; 1334 :     //Configure PIn as CAN pins (not IOs)
; 1335 : 
; 1336 : 
; 1337 :     pDevice->pCanRegs->CANTIOC = CANTIOC_TXFUNC;

  025cc	e59d3000	 ldr         r3, [sp]
  025d0	e283302c	 add         r3, r3, #0x2C
  025d4	e5933000	 ldr         r3, [r3]
  025d8	e2832054	 add         r2, r3, #0x54
  025dc	e3a03008	 mov         r3, #8
  025e0	e5823000	 str         r3, [r2]

; 1338 :     pDevice->pCanRegs->CANRIOC = CANRIOC_RXFUNC;

  025e4	e59d3000	 ldr         r3, [sp]
  025e8	e283302c	 add         r3, r3, #0x2C
  025ec	e5933000	 ldr         r3, [r3]
  025f0	e2832058	 add         r2, r3, #0x58
  025f4	e3a03008	 mov         r3, #8
  025f8	e5823000	 str         r3, [r2]

; 1339 : 
; 1340 : 
; 1341 :     OUTREG32(&pDevice->pCanRegs->CANMC,CANMC_SCM | CANMC_LNTC | CANMC_LNTM | CANMC_ABO | CANMC_DBO |/*CANMC_STM |*/ CANMC_WUBA);

  025fc	e59d3000	 ldr         r3, [sp]
  02600	e283302c	 add         r3, r3, #0x2C
  02604	e5933000	 ldr         r3, [r3]
  02608	e2832028	 add         r2, r3, #0x28
  0260c	e3a03ce6	 mov         r3, #0xE6, 24
  02610	e3833080	 orr         r3, r3, #0x80
  02614	e5823000	 str         r3, [r2]

; 1342 :     
; 1343 : 
; 1344 : 
; 1345 :     // Set default baudrate
; 1346 :     CANConfigureBaudrate(pDevice,pDevice->BaudRate);

  02618	e59d3000	 ldr         r3, [sp]
  0261c	e2833020	 add         r3, r3, #0x20
  02620	e5931000	 ldr         r1, [r3]
  02624	e59d0000	 ldr         r0, [sp]
  02628	eb000000	 bl          |?CANConfigureBaudrate@@YAHPAXK@Z|

; 1347 : 
; 1348 :     // Init Mailboxes
; 1349 :     OUTREG32(&pDevice->pCanRegs->CANME,0);

  0262c	e59d3000	 ldr         r3, [sp]
  02630	e283302c	 add         r3, r3, #0x2C
  02634	e5932000	 ldr         r2, [r3]
  02638	e3a03000	 mov         r3, #0
  0263c	e5823000	 str         r3, [r2]

; 1350 :     for (i=0;i<NB_MAILBOXES;i++)

  02640	e3a03000	 mov         r3, #0
  02644	e58d3004	 str         r3, [sp, #4]
  02648	ea000002	 b           |$LN6@CANInitHar|
  0264c		 |$LN5@CANInitHar|
  0264c	e59d3004	 ldr         r3, [sp, #4]
  02650	e2833001	 add         r3, r3, #1
  02654	e58d3004	 str         r3, [sp, #4]
  02658		 |$LN6@CANInitHar|
  02658	e59d3004	 ldr         r3, [sp, #4]
  0265c	e3530020	 cmp         r3, #0x20
  02660	aa000015	 bge         |$LN4@CANInitHar|

; 1351 :     {        
; 1352 :         pDevice->pCanRegs->MailBoxes[i].CANMCF = 0;

  02664	e59d3000	 ldr         r3, [sp]
  02668	e283302c	 add         r3, r3, #0x2C
  0266c	e5933000	 ldr         r3, [r3]
  02670	e2831a02	 add         r1, r3, #2, 20
  02674	e59d2004	 ldr         r2, [sp, #4]
  02678	e3a03010	 mov         r3, #0x10
  0267c	e0030392	 mul         r3, r2, r3
  02680	e0813003	 add         r3, r1, r3
  02684	e2832004	 add         r2, r3, #4
  02688	e3a03000	 mov         r3, #0
  0268c	e5823000	 str         r3, [r2]

; 1353 :         pDevice->pCanRegs->MailBoxes[i].CANMID = 0;

  02690	e59d3000	 ldr         r3, [sp]
  02694	e283302c	 add         r3, r3, #0x2C
  02698	e5933000	 ldr         r3, [r3]
  0269c	e2831a02	 add         r1, r3, #2, 20
  026a0	e59d2004	 ldr         r2, [sp, #4]
  026a4	e3a03010	 mov         r3, #0x10
  026a8	e0030392	 mul         r3, r2, r3
  026ac	e0812003	 add         r2, r1, r3
  026b0	e3a03000	 mov         r3, #0
  026b4	e5823000	 str         r3, [r2]

; 1354 :     }

  026b8	eaffffe3	 b           |$LN5@CANInitHar|
  026bc		 |$LN4@CANInitHar|

; 1355 : 
; 1356 :     pDevice->pCanRegs->CANGIM =  CANGIx_AAIM    |
; 1357 :                                  CANES_EP    |
; 1358 :                                  CANGIx_WUIM    |
; 1359 :                                  CANGIx_RMLIM   |
; 1360 :                                  CANGIx_BOIM    |
; 1361 :                                  CANGIx_EPIM    |
; 1362 :                                  CANGIx_WLIM    ;

  026bc	e59d3000	 ldr         r3, [sp]
  026c0	e283302c	 add         r3, r3, #0x2C
  026c4	e5933000	 ldr         r3, [r3]
  026c8	e2832040	 add         r2, r3, #0x40
  026cc	e3a03b97	 mov         r3, #0x97, 22
  026d0	e3833c03	 orr         r3, r3, #3, 24
  026d4	e5823000	 str         r3, [r2]

; 1363 : 
; 1364 :     
; 1365 :     for (int TxMailBox=FIRST_TX_MAILBOX;TxMailBox<=LAST_TX_MAILBOX;TxMailBox++)

  026d8	e3a03013	 mov         r3, #0x13
  026dc	e58d3008	 str         r3, [sp, #8]
  026e0	ea000002	 b           |$LN3@CANInitHar|
  026e4		 |$LN2@CANInitHar|
  026e4	e59d3008	 ldr         r3, [sp, #8]
  026e8	e2833001	 add         r3, r3, #1
  026ec	e58d3008	 str         r3, [sp, #8]
  026f0		 |$LN3@CANInitHar|
  026f0	e59d3008	 ldr         r3, [sp, #8]
  026f4	e3530015	 cmp         r3, #0x15
  026f8	ca000003	 bgt         |$LN1@CANInitHar|

; 1366 :     {
; 1367 :         ConfigureTxMailbox(pDevice, TxMailBox);

  026fc	e59d1008	 ldr         r1, [sp, #8]
  02700	e59d0000	 ldr         r0, [sp]
  02704	eb000000	 bl          |?ConfigureTxMailbox@@YAHPAUT_CAN_DEVICE@@K@Z|

; 1368 :     }

  02708	eafffff5	 b           |$LN2@CANInitHar|
  0270c		 |$LN1@CANInitHar|

; 1369 :     
; 1370 :     return TRUE;

  0270c	e3a03001	 mov         r3, #1
  02710	e58d300c	 str         r3, [sp, #0xC]

; 1371 : }

  02714	e59d000c	 ldr         r0, [sp, #0xC]
  02718	e28dd010	 add         sp, sp, #0x10
  0271c	e89d6000	 ldmia       sp, {sp, lr}
  02720	e12fff1e	 bx          lr
  02724		 |$M38082|

			 ENDP  ; |?CANInitHardware@@YAHPAX@Z|, CANInitHardware

	IMPORT	|SetLastError|

  000e8			 AREA	 |.pdata|, PDATA
|$T38094| DCD	|$LN25@CANCommand|
	DCD	0x4000f904
; Function compile flags: /Odtp

  02724			 AREA	 |.text|, CODE, ARM

  02724		 |?CANCommand@@YAHPAXW4CAN_COMMAND@@@Z| PROC ; CANCommand

; 1373 : {

  02724		 |$LN25@CANCommand|
  02724	e1a0c00d	 mov         r12, sp
  02728	e92d0003	 stmdb       sp!, {r0, r1}
  0272c	e92d5010	 stmdb       sp!, {r4, r12, lr}
  02730	e24dd068	 sub         sp, sp, #0x68
  02734		 |$M38091|

; 1374 :     DWORD flags;
; 1375 :     BOOL rc = TRUE;

  02734	e3a03001	 mov         r3, #1
  02738	e58d300c	 str         r3, [sp, #0xC]

; 1376 :     T_CAN_DEVICE *pDevice = (T_CAN_DEVICE*) ctxt;

  0273c	e59d3074	 ldr         r3, [sp, #0x74]
  02740	e58d3008	 str         r3, [sp, #8]

; 1377 :     switch(cmd)

  02744	e59d3078	 ldr         r3, [sp, #0x78]
  02748	e58d3054	 str         r3, [sp, #0x54]
  0274c	e59d3054	 ldr         r3, [sp, #0x54]
  02750	e3530000	 cmp         r3, #0
  02754	0a0000c7	 beq         |$LN2@CANCommand|
  02758	e59d3054	 ldr         r3, [sp, #0x54]
  0275c	e3530001	 cmp         r3, #1
  02760	0a000003	 beq         |$LN18@CANCommand|
  02764	e59d3054	 ldr         r3, [sp, #0x54]
  02768	e3530002	 cmp         r3, #2
  0276c	0a000019	 beq         |$LN17@CANCommand|
  02770	ea0000da	 b           |$LN1@CANCommand|
  02774		 |$LN18@CANCommand|

; 1378 :     {
; 1379 :     case START:
; 1380 :         pDevice->canStatus.CtrlState = STARTED;

  02774	e59d3008	 ldr         r3, [sp, #8]
  02778	e283209c	 add         r2, r3, #0x9C
  0277c	e3a03001	 mov         r3, #1
  02780	e5823000	 str         r3, [r2]

; 1381 :         
; 1382 :         EnterCriticalSection(&pDevice->regcs);        

  02784	e59d3008	 ldr         r3, [sp, #8]
  02788	e2830030	 add         r0, r3, #0x30
  0278c	eb000000	 bl          EnterCriticalSection

; 1383 :         
; 1384 :         //Enable the interrupts       
; 1385 :         SETREG32(&pDevice->pCanRegs->CANGIM,CANGIM_I0EN | CANGIM_I1EN);

  02790	e59d3008	 ldr         r3, [sp, #8]
  02794	e283302c	 add         r3, r3, #0x2C
  02798	e5933000	 ldr         r3, [r3]
  0279c	e2833040	 add         r3, r3, #0x40
  027a0	e5933000	 ldr         r3, [r3]
  027a4	e3832003	 orr         r2, r3, #3
  027a8	e59d3008	 ldr         r3, [sp, #8]
  027ac	e283302c	 add         r3, r3, #0x2C
  027b0	e5933000	 ldr         r3, [r3]
  027b4	e2833040	 add         r3, r3, #0x40
  027b8	e5832000	 str         r2, [r3]

; 1386 :         
; 1387 :         LeaveCriticalSection(&pDevice->regcs);

  027bc	e59d3008	 ldr         r3, [sp, #8]
  027c0	e2830030	 add         r0, r3, #0x30
  027c4	eb000000	 bl          LeaveCriticalSection

; 1388 : 
; 1389 :         //assert the Strobe
; 1390 :         StrobeActive(pDevice,TRUE);

  027c8	e3a01001	 mov         r1, #1
  027cc	e59d0008	 ldr         r0, [sp, #8]
  027d0	eb000000	 bl          |?StrobeActive@@YAXPAUT_CAN_DEVICE@@H@Z|

; 1391 : 
; 1392 :         break;

  027d4	ea0000c5	 b           |$LN19@CANCommand|
  027d8		 |$LN17@CANCommand|

; 1393 :     case RESET:                
; 1394 :         
; 1395 :         //Clear the status
; 1396 :         memset(&pDevice->canStatus,0,sizeof(pDevice->canStatus));

  027d8	e3a02044	 mov         r2, #0x44
  027dc	e3a01000	 mov         r1, #0
  027e0	e59d3008	 ldr         r3, [sp, #8]
  027e4	e2830078	 add         r0, r3, #0x78
  027e8	eb000000	 bl          memset

; 1397 :         // move to the stopped state
; 1398 :         CANCommand(ctxt,STOP);

  027ec	e3a01000	 mov         r1, #0
  027f0	e59d0074	 ldr         r0, [sp, #0x74]
  027f4	eb000000	 bl          |?CANCommand@@YAHPAXW4CAN_COMMAND@@@Z|

; 1399 : 
; 1400 :         CLASS_FILTER_INTERNAL* pClassFilter;        
; 1401 :         pClassFilter = pDevice->ClassFilterList;

  027f8	e59d3008	 ldr         r3, [sp, #8]
  027fc	e28330d8	 add         r3, r3, #0xD8
  02800	e5933000	 ldr         r3, [r3]
  02804	e58d3028	 str         r3, [sp, #0x28]
  02808		 |$LN16@CANCommand|

; 1402 :         while (pClassFilter)

  02808	e59d3028	 ldr         r3, [sp, #0x28]
  0280c	e3530000	 cmp         r3, #0
  02810	0a00001a	 beq         |$LN15@CANCommand|

; 1403 :         {
; 1404 :             CLASS_FILTER_INTERNAL* pNext;
; 1405 :             SUBCLASS_FILTER_INTERNAL* pSubFilter;
; 1406 :             pNext = (CLASS_FILTER_INTERNAL*) NextElement(&pClassFilter->sle);

  02814	e59d0028	 ldr         r0, [sp, #0x28]
  02818	eb000000	 bl          |?NextElement@@YAPAU_SLE@@PAU1@@Z|
  0281c	e58d0058	 str         r0, [sp, #0x58]
  02820	e59d3058	 ldr         r3, [sp, #0x58]
  02824	e58d302c	 str         r3, [sp, #0x2C]

; 1407 :             pSubFilter = pClassFilter->subFilter;

  02828	e59d3028	 ldr         r3, [sp, #0x28]
  0282c	e283300c	 add         r3, r3, #0xC
  02830	e5933000	 ldr         r3, [r3]
  02834	e58d3030	 str         r3, [sp, #0x30]
  02838		 |$LN14@CANCommand|

; 1408 :             while (pSubFilter)

  02838	e59d3030	 ldr         r3, [sp, #0x30]
  0283c	e3530000	 cmp         r3, #0
  02840	0a000009	 beq         |$LN13@CANCommand|

; 1409 :             {
; 1410 :                 SUBCLASS_FILTER_INTERNAL* pNextSub;
; 1411 :                 pNextSub = (SUBCLASS_FILTER_INTERNAL*) NextElement(&pSubFilter->sle);

  02844	e59d0030	 ldr         r0, [sp, #0x30]
  02848	eb000000	 bl          |?NextElement@@YAPAU_SLE@@PAU1@@Z|
  0284c	e58d005c	 str         r0, [sp, #0x5C]
  02850	e59d305c	 ldr         r3, [sp, #0x5C]
  02854	e58d3034	 str         r3, [sp, #0x34]

; 1412 :                 LocalFree(pSubFilter);

  02858	e59d0030	 ldr         r0, [sp, #0x30]
  0285c	eb000000	 bl          LocalFree

; 1413 :                 pSubFilter = pNextSub;

  02860	e59d3034	 ldr         r3, [sp, #0x34]
  02864	e58d3030	 str         r3, [sp, #0x30]

; 1414 :             }

  02868	eafffff2	 b           |$LN14@CANCommand|
  0286c		 |$LN13@CANCommand|

; 1415 :             LocalFree(pClassFilter);

  0286c	e59d0028	 ldr         r0, [sp, #0x28]
  02870	eb000000	 bl          LocalFree

; 1416 :             pClassFilter = pNext;

  02874	e59d302c	 ldr         r3, [sp, #0x2C]
  02878	e58d3028	 str         r3, [sp, #0x28]

; 1417 :         }

  0287c	eaffffe1	 b           |$LN16@CANCommand|
  02880		 |$LN15@CANCommand|

; 1418 : 
; 1419 :         pDevice->ClassFilterList = NULL;

  02880	e59d3008	 ldr         r3, [sp, #8]
  02884	e28320d8	 add         r2, r3, #0xD8
  02888	e3a03000	 mov         r3, #0
  0288c	e5823000	 str         r3, [r2]

; 1420 :         pDevice->nbFreeClassFilter = NB_MAX_CLASS_FILTER; 

  02890	e59d3008	 ldr         r3, [sp, #8]
  02894	e28320dc	 add         r2, r3, #0xDC
  02898	e3a03020	 mov         r3, #0x20
  0289c	e5823000	 str         r3, [r2]

; 1421 :         
; 1422 :         pDevice->FreeMailboxMask = (DWORD) (((UINT64)1<<NB_MAILBOXES)-1);

  028a0	e59d3008	 ldr         r3, [sp, #8]
  028a4	e28320c4	 add         r2, r3, #0xC4
  028a8	e3e03000	 mvn         r3, #0
  028ac	e5823000	 str         r3, [r2]

; 1423 :         pDevice->TxMailBoxMask = 0;

  028b0	e59d3008	 ldr         r3, [sp, #8]
  028b4	e28320c0	 add         r2, r3, #0xC0
  028b8	e3a03000	 mov         r3, #0
  028bc	e5823000	 str         r3, [r2]

; 1424 :         pDevice->AutoAnswerMask = 0;

  028c0	e59d3008	 ldr         r3, [sp, #8]
  028c4	e28320cc	 add         r2, r3, #0xCC
  028c8	e3a03000	 mov         r3, #0
  028cc	e5823000	 str         r3, [r2]

; 1425 :         pDevice->RxMailboxMask = 0;

  028d0	e59d3008	 ldr         r3, [sp, #8]
  028d4	e28320c8	 add         r2, r3, #0xC8
  028d8	e3a03000	 mov         r3, #0
  028dc	e5823000	 str         r3, [r2]

; 1426 :         pDevice->RemoteRequestMask = 0;

  028e0	e59d3008	 ldr         r3, [sp, #8]
  028e4	e28320d0	 add         r2, r3, #0xD0
  028e8	e3a03000	 mov         r3, #0
  028ec	e5823000	 str         r3, [r2]

; 1427 :         for (int TxMailBox=FIRST_TX_MAILBOX;TxMailBox<=LAST_TX_MAILBOX;TxMailBox++)

  028f0	e3a03013	 mov         r3, #0x13
  028f4	e58d3038	 str         r3, [sp, #0x38]
  028f8	ea000002	 b           |$LN12@CANCommand|
  028fc		 |$LN11@CANCommand|
  028fc	e59d3038	 ldr         r3, [sp, #0x38]
  02900	e2833001	 add         r3, r3, #1
  02904	e58d3038	 str         r3, [sp, #0x38]
  02908		 |$LN12@CANCommand|
  02908	e59d3038	 ldr         r3, [sp, #0x38]
  0290c	e3530015	 cmp         r3, #0x15
  02910	ca000015	 bgt         |$LN10@CANCommand|

; 1428 :         {
; 1429 :             pDevice->TxMailBoxMask |= (1<<TxMailBox);

  02914	e59d3008	 ldr         r3, [sp, #8]
  02918	e28310c0	 add         r1, r3, #0xC0
  0291c	e59d2038	 ldr         r2, [sp, #0x38]
  02920	e3a03001	 mov         r3, #1
  02924	e1a02213	 mov         r2, r3, lsl r2
  02928	e5913000	 ldr         r3, [r1]
  0292c	e1832002	 orr         r2, r3, r2
  02930	e59d3008	 ldr         r3, [sp, #8]
  02934	e28330c0	 add         r3, r3, #0xC0
  02938	e5832000	 str         r2, [r3]

; 1430 :             pDevice->FreeMailboxMask &= ~(1<<TxMailBox);

  0293c	e59d3008	 ldr         r3, [sp, #8]
  02940	e28310c4	 add         r1, r3, #0xC4
  02944	e59d2038	 ldr         r2, [sp, #0x38]
  02948	e3a03001	 mov         r3, #1
  0294c	e1a03213	 mov         r3, r3, lsl r2
  02950	e1e02003	 mvn         r2, r3
  02954	e5913000	 ldr         r3, [r1]
  02958	e0032002	 and         r2, r3, r2
  0295c	e59d3008	 ldr         r3, [sp, #8]
  02960	e28330c4	 add         r3, r3, #0xC4
  02964	e5832000	 str         r2, [r3]

; 1431 :         }

  02968	eaffffe3	 b           |$LN11@CANCommand|
  0296c		 |$LN10@CANCommand|

; 1432 :         pDevice->TxMailBoxAvailableMask = pDevice->TxMailBoxMask;

  0296c	e59d3008	 ldr         r3, [sp, #8]
  02970	e28310c0	 add         r1, r3, #0xC0
  02974	e59d3008	 ldr         r3, [sp, #8]
  02978	e28320bc	 add         r2, r3, #0xBC
  0297c	e5913000	 ldr         r3, [r1]
  02980	e5823000	 str         r3, [r2]

; 1433 : 
; 1434 :         // Reinit the hardware
; 1435 :         CANInitHardware(pDevice);               

  02984	e59d0008	 ldr         r0, [sp, #8]
  02988	eb000000	 bl          |?CANInitHardware@@YAHPAX@Z|

; 1436 : 
; 1437 :         //Reset the Messages Queues        
; 1438 :         CAN_MESSAGE msg;
; 1439 :         DWORD nbRead;
; 1440 :         for (int i=0;i<NB_TX_PRIORITIES;i++)

  0298c	e3a03000	 mov         r3, #0
  02990	e58d303c	 str         r3, [sp, #0x3C]
  02994	ea000002	 b           |$LN9@CANCommand|
  02998		 |$LN8@CANCommand|
  02998	e59d303c	 ldr         r3, [sp, #0x3C]
  0299c	e2833001	 add         r3, r3, #1
  029a0	e58d303c	 str         r3, [sp, #0x3C]
  029a4		 |$LN9@CANCommand|
  029a4	e59d303c	 ldr         r3, [sp, #0x3C]
  029a8	e3530003	 cmp         r3, #3
  029ac	aa00001e	 bge         |$LN7@CANCommand|
  029b0		 |$LN6@CANCommand|

; 1441 :         {            
; 1442 :             while (ReadMsgQueue(pDevice->TxMsgQ[i][MSQ_READER],&msg,sizeof(msg),&nbRead,0,&flags) == TRUE) Sleep(1);

  029b0	e28d3010	 add         r3, sp, #0x10
  029b4	e58d3004	 str         r3, [sp, #4]
  029b8	e3a03000	 mov         r3, #0
  029bc	e58d3000	 str         r3, [sp]
  029c0	e28d3014	 add         r3, sp, #0x14
  029c4	e3a02010	 mov         r2, #0x10
  029c8	e28d1018	 add         r1, sp, #0x18
  029cc	e59d0008	 ldr         r0, [sp, #8]
  029d0	e2804060	 add         r4, r0, #0x60
  029d4	e59de03c	 ldr         lr, [sp, #0x3C]
  029d8	e3a00008	 mov         r0, #8
  029dc	e000009e	 mul         r0, lr, r0
  029e0	e0840000	 add         r0, r4, r0
  029e4	e5900000	 ldr         r0, [r0]
  029e8	eb000000	 bl          ReadMsgQueue
  029ec	e58d0060	 str         r0, [sp, #0x60]
  029f0	e59d3060	 ldr         r3, [sp, #0x60]
  029f4	e3530001	 cmp         r3, #1
  029f8	1a000002	 bne         |$LN5@CANCommand|
  029fc	e3a00001	 mov         r0, #1
  02a00	eb000000	 bl          Sleep
  02a04	eaffffe9	 b           |$LN6@CANCommand|
  02a08		 |$LN5@CANCommand|

; 1443 :             pDevice->canStatus.currentTxMsg[i] = 0;

  02a08	e59d3008	 ldr         r3, [sp, #8]
  02a0c	e2831080	 add         r1, r3, #0x80
  02a10	e59d203c	 ldr         r2, [sp, #0x3C]
  02a14	e3a03004	 mov         r3, #4
  02a18	e0030392	 mul         r3, r2, r3
  02a1c	e0812003	 add         r2, r1, r3
  02a20	e3a03000	 mov         r3, #0
  02a24	e5823000	 str         r3, [r2]

; 1444 :         }

  02a28	eaffffda	 b           |$LN8@CANCommand|
  02a2c		 |$LN7@CANCommand|
  02a2c		 |$LN4@CANCommand|

; 1445 :         while (ReadMsgQueue(pDevice->RxMsgQ[MSQ_READER],&msg,sizeof(msg),&nbRead,0,&flags) == TRUE) Sleep(1);

  02a2c	e28d3010	 add         r3, sp, #0x10
  02a30	e58d3004	 str         r3, [sp, #4]
  02a34	e3a03000	 mov         r3, #0
  02a38	e58d3000	 str         r3, [sp]
  02a3c	e28d3014	 add         r3, sp, #0x14
  02a40	e3a02010	 mov         r2, #0x10
  02a44	e28d1018	 add         r1, sp, #0x18
  02a48	e59d0008	 ldr         r0, [sp, #8]
  02a4c	e2800058	 add         r0, r0, #0x58
  02a50	e5900000	 ldr         r0, [r0]
  02a54	eb000000	 bl          ReadMsgQueue
  02a58	e58d0064	 str         r0, [sp, #0x64]
  02a5c	e59d3064	 ldr         r3, [sp, #0x64]
  02a60	e3530001	 cmp         r3, #1
  02a64	1a000002	 bne         |$LN3@CANCommand|
  02a68	e3a00001	 mov         r0, #1
  02a6c	eb000000	 bl          Sleep
  02a70	eaffffed	 b           |$LN4@CANCommand|
  02a74		 |$LN3@CANCommand|

; 1446 :                 
; 1447 :         break;

  02a74	ea00001d	 b           |$LN19@CANCommand|
  02a78		 |$LN2@CANCommand|

; 1448 : 
; 1449 :     case STOP:
; 1450 :         pDevice->canStatus.CtrlState = STOPPED;

  02a78	e59d3008	 ldr         r3, [sp, #8]
  02a7c	e283209c	 add         r2, r3, #0x9C
  02a80	e3a03000	 mov         r3, #0
  02a84	e5823000	 str         r3, [r2]

; 1451 : 
; 1452 :         //Deassert the Strobe
; 1453 :         StrobeActive(pDevice,FALSE);

  02a88	e3a01000	 mov         r1, #0
  02a8c	e59d0008	 ldr         r0, [sp, #8]
  02a90	eb000000	 bl          |?StrobeActive@@YAXPAUT_CAN_DEVICE@@H@Z|

; 1454 : 
; 1455 :         EnterCriticalSection(&pDevice->regcs);       

  02a94	e59d3008	 ldr         r3, [sp, #8]
  02a98	e2830030	 add         r0, r3, #0x30
  02a9c	eb000000	 bl          EnterCriticalSection

; 1456 : 
; 1457 :         //Disable the interrupts
; 1458 :         CLRREG32(&pDevice->pCanRegs->CANGIM,CANGIM_I0EN  | CANGIM_I1EN);        

  02aa0	e59d3008	 ldr         r3, [sp, #8]
  02aa4	e283302c	 add         r3, r3, #0x2C
  02aa8	e5933000	 ldr         r3, [r3]
  02aac	e2833040	 add         r3, r3, #0x40
  02ab0	e5932000	 ldr         r2, [r3]
  02ab4	e3e03003	 mvn         r3, #3
  02ab8	e0022003	 and         r2, r2, r3
  02abc	e59d3008	 ldr         r3, [sp, #8]
  02ac0	e283302c	 add         r3, r3, #0x2C
  02ac4	e5933000	 ldr         r3, [r3]
  02ac8	e2833040	 add         r3, r3, #0x40
  02acc	e5832000	 str         r2, [r3]

; 1459 :         
; 1460 :         LeaveCriticalSection(&pDevice->regcs);

  02ad0	e59d3008	 ldr         r3, [sp, #8]
  02ad4	e2830030	 add         r0, r3, #0x30
  02ad8	eb000000	 bl          LeaveCriticalSection

; 1461 : 
; 1462 :         break;

  02adc	ea000003	 b           |$LN19@CANCommand|
  02ae0		 |$LN1@CANCommand|

; 1463 :     default:
; 1464 :         SetLastError(ERROR_INVALID_PARAMETER);

  02ae0	e3a00057	 mov         r0, #0x57
  02ae4	eb000000	 bl          SetLastError

; 1465 :         rc = FALSE;

  02ae8	e3a03000	 mov         r3, #0
  02aec	e58d300c	 str         r3, [sp, #0xC]
  02af0		 |$LN19@CANCommand|

; 1466 :         break;
; 1467 :     }
; 1468 :     return rc;

  02af0	e59d300c	 ldr         r3, [sp, #0xC]
  02af4	e58d3050	 str         r3, [sp, #0x50]

; 1469 : }

  02af8	e59d0050	 ldr         r0, [sp, #0x50]
  02afc	e28dd068	 add         sp, sp, #0x68
  02b00	e89d6010	 ldmia       sp, {r4, sp, lr}
  02b04	e12fff1e	 bx          lr
  02b08		 |$M38092|

			 ENDP  ; |?CANCommand@@YAHPAXW4CAN_COMMAND@@@Z|, CANCommand

	EXPORT	|?CANAllowConfigChange@@YAXPAUOMAP_HECC_SCC_REGS@@H@Z| ; CANAllowConfigChange

  000f0			 AREA	 |.pdata|, PDATA
|$T38099| DCD	|$LN11@CANAllowCo|
	DCD	0x40002903
; Function compile flags: /Odtp

  02b08			 AREA	 |.text|, CODE, ARM

  02b08		 |?CANAllowConfigChange@@YAXPAUOMAP_HECC_SCC_REGS@@H@Z| PROC ; CANAllowConfigChange

; 1471 : {    

  02b08		 |$LN11@CANAllowCo|
  02b08	e1a0c00d	 mov         r12, sp
  02b0c	e92d0003	 stmdb       sp!, {r0, r1}
  02b10	e92d5000	 stmdb       sp!, {r12, lr}
  02b14		 |$M38096|

; 1472 :     if (fAllowed)

  02b14	e59d300c	 ldr         r3, [sp, #0xC]
  02b18	e3530000	 cmp         r3, #0
  02b1c	0a00000f	 beq         |$LN6@CANAllowCo|

; 1473 :     {
; 1474 :         
; 1475 :         SETREG32(&pRegs->CANMC,CANMC_CCR);

  02b20	e59d3008	 ldr         r3, [sp, #8]
  02b24	e2833028	 add         r3, r3, #0x28
  02b28	e5933000	 ldr         r3, [r3]
  02b2c	e3832a01	 orr         r2, r3, #1, 20
  02b30	e59d3008	 ldr         r3, [sp, #8]
  02b34	e2833028	 add         r3, r3, #0x28
  02b38	e5832000	 str         r2, [r3]
  02b3c		 |$LN5@CANAllowCo|

; 1476 :         while ((INREG32(&pRegs->CANES) & CANES_CCE) == 0) Sleep(1);

  02b3c	e59d3008	 ldr         r3, [sp, #8]
  02b40	e2833030	 add         r3, r3, #0x30
  02b44	e5933000	 ldr         r3, [r3]
  02b48	e3130010	 tst         r3, #0x10
  02b4c	1a000002	 bne         |$LN4@CANAllowCo|
  02b50	e3a00001	 mov         r0, #1
  02b54	eb000000	 bl          Sleep
  02b58	eafffff7	 b           |$LN5@CANAllowCo|
  02b5c		 |$LN4@CANAllowCo|

; 1477 :     }
; 1478 :     else

  02b5c	ea000010	 b           |$LN3@CANAllowCo|
  02b60		 |$LN6@CANAllowCo|

; 1479 :     {
; 1480 :         CLRREG32(&pRegs->CANMC,CANMC_CCR);

  02b60	e59d3008	 ldr         r3, [sp, #8]
  02b64	e2833028	 add         r3, r3, #0x28
  02b68	e5932000	 ldr         r2, [r3]
  02b6c	e3e03a01	 mvn         r3, #1, 20
  02b70	e0022003	 and         r2, r2, r3
  02b74	e59d3008	 ldr         r3, [sp, #8]
  02b78	e2833028	 add         r3, r3, #0x28
  02b7c	e5832000	 str         r2, [r3]
  02b80		 |$LN2@CANAllowCo|

; 1481 :         while ((INREG32(&pRegs->CANES) & CANES_CCE) == CANES_CCE) Sleep(1);

  02b80	e59d3008	 ldr         r3, [sp, #8]
  02b84	e2833030	 add         r3, r3, #0x30
  02b88	e5933000	 ldr         r3, [r3]
  02b8c	e2033010	 and         r3, r3, #0x10
  02b90	e3530010	 cmp         r3, #0x10
  02b94	1a000002	 bne         |$LN1@CANAllowCo|
  02b98	e3a00001	 mov         r0, #1
  02b9c	eb000000	 bl          Sleep
  02ba0	eafffff6	 b           |$LN2@CANAllowCo|
  02ba4		 |$LN1@CANAllowCo|
  02ba4		 |$LN3@CANAllowCo|

; 1482 :     }    
; 1483 : }

  02ba4	e89d6000	 ldmia       sp, {sp, lr}
  02ba8	e12fff1e	 bx          lr
  02bac		 |$M38097|

			 ENDP  ; |?CANAllowConfigChange@@YAXPAUOMAP_HECC_SCC_REGS@@H@Z|, CANAllowConfigChange

	EXPORT	|?FindBestCanBitTiming@@YAHHHPAH00@Z|	; FindBestCanBitTiming
	IMPORT	|__rt_sdiv|

  000f8			 AREA	 |.pdata|, PDATA
|$T38106| DCD	|$LN11@FindBestCa|
	DCD	0x40005004
; Function compile flags: /Odtp

  02bac			 AREA	 |.text|, CODE, ARM

  02bac		 |?FindBestCanBitTiming@@YAHHHPAH00@Z| PROC ; FindBestCanBitTiming

; 1486 : {

  02bac		 |$LN11@FindBestCa|
  02bac	e1a0c00d	 mov         r12, sp
  02bb0	e92d000f	 stmdb       sp!, {r0 - r3}
  02bb4	e92d5010	 stmdb       sp!, {r4, r12, lr}
  02bb8	e24dd018	 sub         sp, sp, #0x18
  02bbc		 |$M38103|

; 1487 : #define MAX_ERROR_PERTHOUSAND   10
; 1488 :     int TSEG1,TSEG2,BRP;
; 1489 :     int TSEGTotal = 0;    

  02bbc	e3a03000	 mov         r3, #0
  02bc0	e58d3008	 str         r3, [sp, #8]

; 1490 :     BOOL found;
; 1491 :     //bitrate = Fin / (BRP *(TSEG1+TSEG2+1);
; 1492 : 
; 1493 :     found = FALSE;

  02bc4	e3a03000	 mov         r3, #0
  02bc8	e58d3000	 str         r3, [sp]

; 1494 :     BRP = 255;

  02bcc	e3a030ff	 mov         r3, #0xFF
  02bd0	e58d3004	 str         r3, [sp, #4]
  02bd4		 |$LN6@FindBestCa|

; 1495 :     while (BRP)

  02bd4	e59d3004	 ldr         r3, [sp, #4]
  02bd8	e3530000	 cmp         r3, #0
  02bdc	0a00001e	 beq         |$LN5@FindBestCa|

; 1496 :     {
; 1497 :         TSEGTotal = Fin / (bitrate * BRP);

  02be0	e59d2028	 ldr         r2, [sp, #0x28]
  02be4	e59d3004	 ldr         r3, [sp, #4]
  02be8	e0000392	 mul         r0, r2, r3
  02bec	e59d1024	 ldr         r1, [sp, #0x24]
  02bf0	eb000000	 bl          __rt_sdiv
  02bf4	e58d0008	 str         r0, [sp, #8]

; 1498 :         if (((Fin-(TSEGTotal * (bitrate * BRP))) / (Fin/1000)) < MAX_ERROR_PERTHOUSAND)

  02bf8	e59d1028	 ldr         r1, [sp, #0x28]
  02bfc	e59d3004	 ldr         r3, [sp, #4]
  02c00	e0020391	 mul         r2, r1, r3
  02c04	e59d3008	 ldr         r3, [sp, #8]
  02c08	e0020293	 mul         r2, r3, r2
  02c0c	e59d3024	 ldr         r3, [sp, #0x24]
  02c10	e0434002	 sub         r4, r3, r2
  02c14	e59d1024	 ldr         r1, [sp, #0x24]
  02c18	e3a00ffa	 mov         r0, #0xFA, 30
  02c1c	eb000000	 bl          __rt_sdiv
  02c20	e1a01004	 mov         r1, r4
  02c24	eb000000	 bl          __rt_sdiv
  02c28	e350000a	 cmp         r0, #0xA
  02c2c	aa000006	 bge         |$LN4@FindBestCa|

; 1499 :         {     
; 1500 :             if ((TSEGTotal < (16+8+1)) && (TSEGTotal >=4))

  02c30	e59d3008	 ldr         r3, [sp, #8]
  02c34	e3530019	 cmp         r3, #0x19
  02c38	aa000003	 bge         |$LN3@FindBestCa|
  02c3c	e59d3008	 ldr         r3, [sp, #8]
  02c40	e3530004	 cmp         r3, #4
  02c44	ba000000	 blt         |$LN3@FindBestCa|

; 1501 :             {
; 1502 :                 break;

  02c48	ea000003	 b           |$LN5@FindBestCa|
  02c4c		 |$LN3@FindBestCa|
  02c4c		 |$LN4@FindBestCa|

; 1503 :             }   
; 1504 :         }
; 1505 :         BRP--;

  02c4c	e59d3004	 ldr         r3, [sp, #4]
  02c50	e2433001	 sub         r3, r3, #1
  02c54	e58d3004	 str         r3, [sp, #4]

; 1506 :     }

  02c58	eaffffdd	 b           |$LN6@FindBestCa|
  02c5c		 |$LN5@FindBestCa|

; 1507 :     if (BRP==0)

  02c5c	e59d3004	 ldr         r3, [sp, #4]
  02c60	e3530000	 cmp         r3, #0
  02c64	1a000002	 bne         |$LN2@FindBestCa|

; 1508 :     {
; 1509 :         return FALSE;

  02c68	e3a03000	 mov         r3, #0
  02c6c	e58d3014	 str         r3, [sp, #0x14]
  02c70	ea000019	 b           |$LN7@FindBestCa|
  02c74		 |$LN2@FindBestCa|

; 1510 :     }
; 1511 :     TSEG2 = (TSEGTotal-1)/3; //sample point at 66%

  02c74	e59d3008	 ldr         r3, [sp, #8]
  02c78	e2431001	 sub         r1, r3, #1
  02c7c	e3a00003	 mov         r0, #3
  02c80	eb000000	 bl          __rt_sdiv
  02c84	e58d000c	 str         r0, [sp, #0xC]

; 1512 :     if (TSEG2 == 0) TSEG2 = 1;

  02c88	e59d300c	 ldr         r3, [sp, #0xC]
  02c8c	e3530000	 cmp         r3, #0
  02c90	1a000001	 bne         |$LN1@FindBestCa|
  02c94	e3a03001	 mov         r3, #1
  02c98	e58d300c	 str         r3, [sp, #0xC]
  02c9c		 |$LN1@FindBestCa|

; 1513 :     TSEG1 = (TSEGTotal-1)-TSEG2;

  02c9c	e59d3008	 ldr         r3, [sp, #8]
  02ca0	e2432001	 sub         r2, r3, #1
  02ca4	e59d300c	 ldr         r3, [sp, #0xC]
  02ca8	e0423003	 sub         r3, r2, r3
  02cac	e58d3010	 str         r3, [sp, #0x10]

; 1514 : 
; 1515 : 
; 1516 :     *pBrp = BRP;

  02cb0	e59d2004	 ldr         r2, [sp, #4]
  02cb4	e59d302c	 ldr         r3, [sp, #0x2C]
  02cb8	e5832000	 str         r2, [r3]

; 1517 :     *Tseg1 = TSEG1;

  02cbc	e59d2010	 ldr         r2, [sp, #0x10]
  02cc0	e59d3030	 ldr         r3, [sp, #0x30]
  02cc4	e5832000	 str         r2, [r3]

; 1518 :     *Tseg2 = TSEG2;

  02cc8	e59d200c	 ldr         r2, [sp, #0xC]
  02ccc	e59d3034	 ldr         r3, [sp, #0x34]
  02cd0	e5832000	 str         r2, [r3]

; 1519 :     return TRUE;

  02cd4	e3a03001	 mov         r3, #1
  02cd8	e58d3014	 str         r3, [sp, #0x14]
  02cdc		 |$LN7@FindBestCa|

; 1520 : }

  02cdc	e59d0014	 ldr         r0, [sp, #0x14]
  02ce0	e28dd018	 add         sp, sp, #0x18
  02ce4	e89d6010	 ldmia       sp, {r4, sp, lr}
  02ce8	e12fff1e	 bx          lr
  02cec		 |$M38104|

			 ENDP  ; |?FindBestCanBitTiming@@YAHHHPAH00@Z|, FindBestCanBitTiming


  00100			 AREA	 |.pdata|, PDATA
|$T38117| DCD	|$LN11@CANConfigu|
	DCD	0x40005704
; Function compile flags: /Odtp

  02cec			 AREA	 |.text|, CODE, ARM

  02cec		 |?CANConfigureBaudrate@@YAHPAXK@Z| PROC ; CANConfigureBaudrate

; 1524 : {

  02cec		 |$LN11@CANConfigu|
  02cec	e1a0c00d	 mov         r12, sp
  02cf0	e92d0003	 stmdb       sp!, {r0, r1}
  02cf4	e92d5000	 stmdb       sp!, {r12, lr}
  02cf8	e24dd02c	 sub         sp, sp, #0x2C
  02cfc		 |$M38114|

; 1525 :     int brp,tseg1,tseg2;
; 1526 : 
; 1527 :     T_CAN_DEVICE *pDevice = (T_CAN_DEVICE*) ctxt;

  02cfc	e59d3034	 ldr         r3, [sp, #0x34]
  02d00	e58d3004	 str         r3, [sp, #4]

; 1528 :     OMAP_HECC_SCC_REGS* pRegs = pDevice->pCanRegs;

  02d04	e59d3004	 ldr         r3, [sp, #4]
  02d08	e283302c	 add         r3, r3, #0x2C
  02d0c	e5933000	 ldr         r3, [r3]
  02d10	e58d3010	 str         r3, [sp, #0x10]

; 1529 :     if (pDevice->canStatus.CtrlState != STOPPED)

  02d14	e59d3004	 ldr         r3, [sp, #4]
  02d18	e283309c	 add         r3, r3, #0x9C
  02d1c	e5933000	 ldr         r3, [r3]
  02d20	e3530000	 cmp         r3, #0
  02d24	0a000002	 beq         |$LN2@CANConfigu|

; 1530 :     {
; 1531 :         return FALSE;

  02d28	e3a03000	 mov         r3, #0
  02d2c	e58d3018	 str         r3, [sp, #0x18]
  02d30	ea00003f	 b           |$LN3@CANConfigu|
  02d34		 |$LN2@CANConfigu|

; 1532 :     }
; 1533 :     if (FindBestCanBitTiming(13000000,baudrate,&brp,&tseg1,&tseg2) == FALSE)

  02d34	e28d300c	 add         r3, sp, #0xC
  02d38	e58d3000	 str         r3, [sp]
  02d3c	e28d3008	 add         r3, sp, #8
  02d40	e28d2014	 add         r2, sp, #0x14
  02d44	e59d1038	 ldr         r1, [sp, #0x38]
  02d48	e59f00f4	 ldr         r0, [pc, #0xF4]
  02d4c	eb000000	 bl          |?FindBestCanBitTiming@@YAHHHPAH00@Z|
  02d50	e58d0020	 str         r0, [sp, #0x20]
  02d54	e59d3020	 ldr         r3, [sp, #0x20]
  02d58	e3530000	 cmp         r3, #0
  02d5c	1a000002	 bne         |$LN1@CANConfigu|

; 1534 :     {
; 1535 :         return FALSE;

  02d60	e3a03000	 mov         r3, #0
  02d64	e58d3018	 str         r3, [sp, #0x18]
  02d68	ea000031	 b           |$LN3@CANConfigu|
  02d6c		 |$LN1@CANConfigu|

; 1536 :     }
; 1537 : 
; 1538 :     EnterCriticalSection(&pDevice->regcs);

  02d6c	e59d3004	 ldr         r3, [sp, #4]
  02d70	e2830030	 add         r0, r3, #0x30
  02d74	eb000000	 bl          EnterCriticalSection

; 1539 :     CANAllowConfigChange(pRegs,TRUE);

  02d78	e3a01001	 mov         r1, #1
  02d7c	e59d0010	 ldr         r0, [sp, #0x10]
  02d80	eb000000	 bl          |?CANAllowConfigChange@@YAXPAUOMAP_HECC_SCC_REGS@@H@Z|

; 1540 : 
; 1541 :     
; 1542 :     OUTREG32(&pRegs->CANBTC,
; 1543 :         ((brp-1) << 16) | ((tseg2-1) << 0) | ((tseg1-1) << 3)   |   //BRP | TSEG2 | TSEG1
; 1544 :         ((min(tseg2,4)-1) << 8)                                 |   //SJW
; 1545 :         (CANBTC_ERM )|                                                // resync on both edges
; 1546 :         ((brp >= 5) ? CANBTC_SAM : 0)                                // Use oversampling if possible
; 1547 :         );

  02d84	e59d300c	 ldr         r3, [sp, #0xC]
  02d88	e3530004	 cmp         r3, #4
  02d8c	aa000002	 bge         |$LN5@CANConfigu|
  02d90	e59d300c	 ldr         r3, [sp, #0xC]
  02d94	e58d3024	 str         r3, [sp, #0x24]
  02d98	ea000001	 b           |$LN6@CANConfigu|
  02d9c		 |$LN5@CANConfigu|
  02d9c	e3a03004	 mov         r3, #4
  02da0	e58d3024	 str         r3, [sp, #0x24]
  02da4		 |$LN6@CANConfigu|
  02da4	e59d3014	 ldr         r3, [sp, #0x14]
  02da8	e3530005	 cmp         r3, #5
  02dac	ba000002	 blt         |$LN7@CANConfigu|
  02db0	e3a03080	 mov         r3, #0x80
  02db4	e58d3028	 str         r3, [sp, #0x28]
  02db8	ea000001	 b           |$LN8@CANConfigu|
  02dbc		 |$LN7@CANConfigu|
  02dbc	e3a03000	 mov         r3, #0
  02dc0	e58d3028	 str         r3, [sp, #0x28]
  02dc4		 |$LN8@CANConfigu|
  02dc4	e59d3014	 ldr         r3, [sp, #0x14]
  02dc8	e2433001	 sub         r3, r3, #1
  02dcc	e1a02803	 mov         r2, r3, lsl #16
  02dd0	e59d300c	 ldr         r3, [sp, #0xC]
  02dd4	e2433001	 sub         r3, r3, #1
  02dd8	e1822003	 orr         r2, r2, r3
  02ddc	e59d3008	 ldr         r3, [sp, #8]
  02de0	e2433001	 sub         r3, r3, #1
  02de4	e1a03183	 mov         r3, r3, lsl #3
  02de8	e1822003	 orr         r2, r2, r3
  02dec	e59d3024	 ldr         r3, [sp, #0x24]
  02df0	e2433001	 sub         r3, r3, #1
  02df4	e1a03403	 mov         r3, r3, lsl #8
  02df8	e1823003	 orr         r3, r2, r3
  02dfc	e3832b01	 orr         r2, r3, #1, 22
  02e00	e59d3028	 ldr         r3, [sp, #0x28]
  02e04	e1822003	 orr         r2, r2, r3
  02e08	e59d3010	 ldr         r3, [sp, #0x10]
  02e0c	e283302c	 add         r3, r3, #0x2C
  02e10	e5832000	 str         r2, [r3]

; 1548 :     
; 1549 :     CANAllowConfigChange(pRegs,FALSE);

  02e14	e3a01000	 mov         r1, #0
  02e18	e59d0010	 ldr         r0, [sp, #0x10]
  02e1c	eb000000	 bl          |?CANAllowConfigChange@@YAXPAUOMAP_HECC_SCC_REGS@@H@Z|

; 1550 :     LeaveCriticalSection(&pDevice->regcs);

  02e20	e59d3004	 ldr         r3, [sp, #4]
  02e24	e2830030	 add         r0, r3, #0x30
  02e28	eb000000	 bl          LeaveCriticalSection

; 1551 : 
; 1552 : 
; 1553 :     return TRUE;

  02e2c	e3a03001	 mov         r3, #1
  02e30	e58d3018	 str         r3, [sp, #0x18]
  02e34		 |$LN3@CANConfigu|

; 1554 : }

  02e34	e59d0018	 ldr         r0, [sp, #0x18]
  02e38	e28dd02c	 add         sp, sp, #0x2C
  02e3c	e89d6000	 ldmia       sp, {sp, lr}
  02e40	e12fff1e	 bx          lr
  02e44		 |$LN12@CANConfigu|
  02e44		 |$LN13@CANConfigu|
  02e44	00c65d40	 DCD         0xc65d40
  02e48		 |$M38115|

			 ENDP  ; |?CANConfigureBaudrate@@YAHPAXK@Z|, CANConfigureBaudrate


  00108			 AREA	 |.pdata|, PDATA
|$T38125| DCD	|$LN7@CANStatus|
	DCD	0x40003b04
; Function compile flags: /Odtp

  02e48			 AREA	 |.text|, CODE, ARM

  02e48		 |?CANStatus@@YAHPAXPAUCAN_STATUS@@@Z| PROC ; CANStatus

; 1557 : {

  02e48		 |$LN7@CANStatus|
  02e48	e1a0c00d	 mov         r12, sp
  02e4c	e92d0003	 stmdb       sp!, {r0, r1}
  02e50	e92d5000	 stmdb       sp!, {r12, lr}
  02e54	e24dd00c	 sub         sp, sp, #0xC
  02e58		 |$M38122|

; 1558 :     T_CAN_DEVICE *pDevice = (T_CAN_DEVICE*) ctxt;

  02e58	e59d3014	 ldr         r3, [sp, #0x14]
  02e5c	e58d3000	 str         r3, [sp]

; 1559 :     if (((pDevice->pCanRegs->CANGIF0 & CANGIx_BOIM) == 0) && 
; 1560 :         ((pDevice->pCanRegs->CANGIF0 & CANGIx_EPIM) == 0))

  02e60	e59d3000	 ldr         r3, [sp]
  02e64	e283302c	 add         r3, r3, #0x2C
  02e68	e5933000	 ldr         r3, [r3]
  02e6c	e283303c	 add         r3, r3, #0x3C
  02e70	e5933000	 ldr         r3, [r3]
  02e74	e3130b01	 tst         r3, #1, 22
  02e78	1a00000a	 bne         |$LN2@CANStatus|
  02e7c	e59d3000	 ldr         r3, [sp]
  02e80	e283302c	 add         r3, r3, #0x2C
  02e84	e5933000	 ldr         r3, [r3]
  02e88	e283303c	 add         r3, r3, #0x3C
  02e8c	e5933000	 ldr         r3, [r3]
  02e90	e3130c02	 tst         r3, #2, 24
  02e94	1a000003	 bne         |$LN2@CANStatus|

; 1561 :     {
; 1562 :         pDevice->canStatus.BusState = ERROR_ACTIVE;

  02e98	e59d3000	 ldr         r3, [sp]
  02e9c	e2832098	 add         r2, r3, #0x98
  02ea0	e3a03000	 mov         r3, #0
  02ea4	e5823000	 str         r3, [r2]
  02ea8		 |$LN2@CANStatus|

; 1563 :     }
; 1564 :     if (pStatus)

  02ea8	e59d3018	 ldr         r3, [sp, #0x18]
  02eac	e3530000	 cmp         r3, #0
  02eb0	0a000019	 beq         |$LN1@CANStatus|

; 1565 :     {
; 1566 :         memcpy(pStatus,&pDevice->canStatus,sizeof(CAN_STATUS));

  02eb4	e59d3018	 ldr         r3, [sp, #0x18]
  02eb8	e58d3008	 str         r3, [sp, #8]
  02ebc	e59d3000	 ldr         r3, [sp]
  02ec0	e2831078	 add         r1, r3, #0x78
  02ec4	e59d0008	 ldr         r0, [sp, #8]
  02ec8	e3a02044	 mov         r2, #0x44
  02ecc	eb000000	 bl          memcpy

; 1567 :         pStatus->CANREC = pDevice->pCanRegs->CANREC;

  02ed0	e59d3000	 ldr         r3, [sp]
  02ed4	e283302c	 add         r3, r3, #0x2C
  02ed8	e5933000	 ldr         r3, [r3]
  02edc	e2833038	 add         r3, r3, #0x38
  02ee0	e5932000	 ldr         r2, [r3]
  02ee4	e59d3018	 ldr         r3, [sp, #0x18]
  02ee8	e2833040	 add         r3, r3, #0x40
  02eec	e5832000	 str         r2, [r3]

; 1568 :         pStatus->CANTEC = pDevice->pCanRegs->CANTEC;

  02ef0	e59d3000	 ldr         r3, [sp]
  02ef4	e283302c	 add         r3, r3, #0x2C
  02ef8	e5933000	 ldr         r3, [r3]
  02efc	e2833034	 add         r3, r3, #0x34
  02f00	e5932000	 ldr         r2, [r3]
  02f04	e59d3018	 ldr         r3, [sp, #0x18]
  02f08	e283303c	 add         r3, r3, #0x3C
  02f0c	e5832000	 str         r2, [r3]

; 1569 :         return TRUE;

  02f10	e3a03001	 mov         r3, #1
  02f14	e58d3004	 str         r3, [sp, #4]
  02f18	ea000001	 b           |$LN3@CANStatus|
  02f1c		 |$LN1@CANStatus|

; 1570 :     }
; 1571 :     return FALSE;

  02f1c	e3a03000	 mov         r3, #0
  02f20	e58d3004	 str         r3, [sp, #4]
  02f24		 |$LN3@CANStatus|

; 1572 : }

  02f24	e59d0004	 ldr         r0, [sp, #4]
  02f28	e28dd00c	 add         sp, sp, #0xC
  02f2c	e89d6000	 ldmia       sp, {sp, lr}
  02f30	e12fff1e	 bx          lr
  02f34		 |$M38123|

			 ENDP  ; |?CANStatus@@YAHPAXPAUCAN_STATUS@@@Z|, CANStatus

	EXPORT	|??_C@_1FE@INAHIDFN@?$AAm?$AAs?$AAg?$AA?5?$AAl?$AAe?$AAn?$AAg?$AAh?$AAt?$AA?5?$AA?$CI?$AA?$CF?$AAd?$AA?$CJ?$AA?5?$AAi?$AAs?$AA?5?$AA?$DO?$AA?5?$AA8?$AA?4?$AA?5?$AAM?$AAe?$AAs?$AAs?$AAa?$AAg?$AAe?$AA?5@| [ DATA ] ; `string'

  00110			 AREA	 |.pdata|, PDATA
|$T38136| DCD	|$LN16@CANSend|
	DCD	0x40006704

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FE@INAHIDFN@?$AAm?$AAs?$AAg?$AA?5?$AAl?$AAe?$AAn?$AAg?$AAh?$AAt?$AA?5?$AA?$CI?$AA?$CF?$AAd?$AA?$CJ?$AA?5?$AAi?$AAs?$AA?5?$AA?$DO?$AA?5?$AA8?$AA?4?$AA?5?$AAM?$AAe?$AAs?$AAs?$AAa?$AAg?$AAe?$AA?5@| DCB "m"
	DCB	0x0, "s", 0x0, "g", 0x0, " ", 0x0, "l", 0x0, "e", 0x0, "n"
	DCB	0x0, "g", 0x0, "h", 0x0, "t", 0x0, " ", 0x0, "(", 0x0, "%"
	DCB	0x0, "d", 0x0, ")", 0x0, " ", 0x0, "i", 0x0, "s", 0x0, " "
	DCB	0x0, ">", 0x0, " ", 0x0, "8", 0x0, ".", 0x0, " ", 0x0, "M"
	DCB	0x0, "e", 0x0, "s", 0x0, "s", 0x0, "a", 0x0, "g", 0x0, "e"
	DCB	0x0, " ", 0x0, "s", 0x0, "k", 0x0, "i", 0x0, "p", 0x0, "p"
	DCB	0x0, "e", 0x0, "d", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Odtp

  02f34			 AREA	 |.text|, CODE, ARM

  02f34		 |?CANSend@@YAHPAXPAUCAN_MESSAGE@@KPAKW4TXCAN_PRIORITY@@K@Z| PROC ; CANSend

; 1575 : {

  02f34		 |$LN16@CANSend|
  02f34	e1a0c00d	 mov         r12, sp
  02f38	e92d000f	 stmdb       sp!, {r0 - r3}
  02f3c	e92d5010	 stmdb       sp!, {r4, r12, lr}
  02f40	e24dd028	 sub         sp, sp, #0x28
  02f44		 |$M38133|

; 1576 :     BOOL fFirstMsg = TRUE;

  02f44	e3a03001	 mov         r3, #1
  02f48	e58d3008	 str         r3, [sp, #8]

; 1577 :     DWORD nbMsgRemaining = nbMsg;

  02f4c	e59d303c	 ldr         r3, [sp, #0x3C]
  02f50	e58d3010	 str         r3, [sp, #0x10]

; 1578 :     DWORD nbSentOk = 0;

  02f54	e3a03000	 mov         r3, #0
  02f58	e58d300c	 str         r3, [sp, #0xC]

; 1579 :     T_CAN_DEVICE *pDevice = (T_CAN_DEVICE*) ctxt;

  02f5c	e59d3034	 ldr         r3, [sp, #0x34]
  02f60	e58d3004	 str         r3, [sp, #4]

; 1580 :     if (priority < NB_TX_PRIORITIES)

  02f64	e59d3044	 ldr         r3, [sp, #0x44]
  02f68	e3530003	 cmp         r3, #3
  02f6c	aa000043	 bge         |$LN7@CANSend|
  02f70		 |$LN6@CANSend|

; 1581 :     {                       
; 1582 :         while (nbMsgRemaining)

  02f70	e59d3010	 ldr         r3, [sp, #0x10]
  02f74	e3530000	 cmp         r3, #0
  02f78	0a00003e	 beq         |$LN5@CANSend|

; 1583 :         {       
; 1584 :             if (msg->length > 8)

  02f7c	e59d3038	 ldr         r3, [sp, #0x38]
  02f80	e2833008	 add         r3, r3, #8
  02f84	e5d33000	 ldrb        r3, [r3]
  02f88	e3530008	 cmp         r3, #8
  02f8c	da000010	 ble         |$LN4@CANSend|

; 1585 :             {
; 1586 :                 ERRORMSG(1,(TEXT("msg lenght (%d) is > 8. Message skipped\r\n"),msg->length));

  02f90	e3a02c06	 mov         r2, #6, 24
  02f94	e3822032	 orr         r2, r2, #0x32
  02f98	e59f112c	 ldr         r1, [pc, #0x12C]
  02f9c	e59f0124	 ldr         r0, [pc, #0x124]
  02fa0	eb000000	 bl          NKDbgPrintfW
  02fa4	e59d3038	 ldr         r3, [sp, #0x38]
  02fa8	e2833008	 add         r3, r3, #8
  02fac	e5d33000	 ldrb        r3, [r3]
  02fb0	e1a01003	 mov         r1, r3
  02fb4	e59f0108	 ldr         r0, [pc, #0x108]
  02fb8	eb000000	 bl          NKDbgPrintfW
  02fbc	e3a03001	 mov         r3, #1
  02fc0	e58d301c	 str         r3, [sp, #0x1C]
  02fc4	ea000001	 b           |$LN11@CANSend|
  02fc8	e3a03000	 mov         r3, #0
  02fcc	e58d301c	 str         r3, [sp, #0x1C]
  02fd0		 |$LN11@CANSend|

; 1587 :             }
; 1588 :             else 

  02fd0	ea000021	 b           |$LN3@CANSend|
  02fd4		 |$LN4@CANSend|

; 1589 :             {
; 1590 :                 if (WriteMsgQueue(pDevice->TxMsgQ[priority][MSQ_WRITER],msg,sizeof(*msg),timeout,0) == FALSE)

  02fd4	e3a03000	 mov         r3, #0
  02fd8	e58d3000	 str         r3, [sp]
  02fdc	e59d3048	 ldr         r3, [sp, #0x48]
  02fe0	e3a02010	 mov         r2, #0x10
  02fe4	e59d1038	 ldr         r1, [sp, #0x38]
  02fe8	e59d0004	 ldr         r0, [sp, #4]
  02fec	e2804060	 add         r4, r0, #0x60
  02ff0	e59de044	 ldr         lr, [sp, #0x44]
  02ff4	e3a00008	 mov         r0, #8
  02ff8	e000009e	 mul         r0, lr, r0
  02ffc	e0840000	 add         r0, r4, r0
  03000	e2800004	 add         r0, r0, #4
  03004	e5900000	 ldr         r0, [r0]
  03008	eb000000	 bl          WriteMsgQueue
  0300c	e58d0020	 str         r0, [sp, #0x20]
  03010	e59d3020	 ldr         r3, [sp, #0x20]
  03014	e3530000	 cmp         r3, #0
  03018	1a000000	 bne         |$LN2@CANSend|

; 1591 :                 {
; 1592 :                     break;

  0301c	ea000015	 b           |$LN5@CANSend|
  03020		 |$LN2@CANSend|

; 1593 :                 }
; 1594 :                 if (fFirstMsg)

  03020	e59d3008	 ldr         r3, [sp, #8]
  03024	e3530000	 cmp         r3, #0
  03028	0a000001	 beq         |$LN1@CANSend|

; 1595 :                 {
; 1596 :                     timeout = 0; 

  0302c	e3a03000	 mov         r3, #0
  03030	e58d3048	 str         r3, [sp, #0x48]
  03034		 |$LN1@CANSend|

; 1597 :                 }
; 1598 :                 InterlockedIncrement(&pDevice->canStatus.currentTxMsg[priority]);                

  03034	e59d3004	 ldr         r3, [sp, #4]
  03038	e2831080	 add         r1, r3, #0x80
  0303c	e59d2044	 ldr         r2, [sp, #0x44]
  03040	e3a03004	 mov         r3, #4
  03044	e0030392	 mul         r3, r2, r3
  03048	e0810003	 add         r0, r1, r3
  0304c	eb000000	 bl          InterlockedIncrement

; 1599 :                 nbSentOk++;

  03050	e59d300c	 ldr         r3, [sp, #0xC]
  03054	e2833001	 add         r3, r3, #1
  03058	e58d300c	 str         r3, [sp, #0xC]
  0305c		 |$LN3@CANSend|

; 1600 :             }
; 1601 :             nbMsgRemaining--;

  0305c	e59d3010	 ldr         r3, [sp, #0x10]
  03060	e2433001	 sub         r3, r3, #1
  03064	e58d3010	 str         r3, [sp, #0x10]

; 1602 :             msg++;

  03068	e59d3038	 ldr         r3, [sp, #0x38]
  0306c	e2833010	 add         r3, r3, #0x10
  03070	e58d3038	 str         r3, [sp, #0x38]

; 1603 :         }

  03074	eaffffbd	 b           |$LN6@CANSend|
  03078		 |$LN5@CANSend|

; 1604 :         
; 1605 :         // In case the trasnmit is stopped, re-start it.
; 1606 :         StartTransmit(pDevice);

  03078	e59d0004	 ldr         r0, [sp, #4]
  0307c	eb000000	 bl          |?StartTransmit@@YAXPAUT_CAN_DEVICE@@@Z|
  03080		 |$LN7@CANSend|

; 1607 :     }
; 1608 :     *nbMsgSent = nbSentOk;

  03080	e59d200c	 ldr         r2, [sp, #0xC]
  03084	e59d3040	 ldr         r3, [sp, #0x40]
  03088	e5832000	 str         r2, [r3]

; 1609 :     return (nbSentOk != 0) ? TRUE : FALSE;

  0308c	e59d300c	 ldr         r3, [sp, #0xC]
  03090	e3530000	 cmp         r3, #0
  03094	0a000002	 beq         |$LN12@CANSend|
  03098	e3a03001	 mov         r3, #1
  0309c	e58d3024	 str         r3, [sp, #0x24]
  030a0	ea000001	 b           |$LN13@CANSend|
  030a4		 |$LN12@CANSend|
  030a4	e3a03000	 mov         r3, #0
  030a8	e58d3024	 str         r3, [sp, #0x24]
  030ac		 |$LN13@CANSend|
  030ac	e59d3024	 ldr         r3, [sp, #0x24]
  030b0	e58d3018	 str         r3, [sp, #0x18]

; 1610 : }

  030b4	e59d0018	 ldr         r0, [sp, #0x18]
  030b8	e28dd028	 add         sp, sp, #0x28
  030bc	e89d6010	 ldmia       sp, {r4, sp, lr}
  030c0	e12fff1e	 bx          lr
  030c4		 |$LN17@CANSend|
  030c4		 |$LN18@CANSend|
  030c4	00000000	 DCD         |??_C@_1FE@INAHIDFN@?$AAm?$AAs?$AAg?$AA?5?$AAl?$AAe?$AAn?$AAg?$AAh?$AAt?$AA?5?$AA?$CI?$AA?$CF?$AAd?$AA?$CJ?$AA?5?$AAi?$AAs?$AA?5?$AA?$DO?$AA?5?$AA8?$AA?4?$AA?5?$AAM?$AAe?$AAs?$AAs?$AAa?$AAg?$AAe?$AA?5@|
  030c8		 |$LN19@CANSend|
  030c8	00000000	 DCD         |??_C@_1CI@OHCJFJPM@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AA?$CF?$AAs?$AA?5?$AAl?$AAi?$AAn?$AAe?$AA?5?$AA?$CF?$AAd?$AA?3?$AA?5?$AA?$AA@|
  030cc		 |$LN20@CANSend|
  030cc	00000000	 DCD         |??_C@_1KA@HGKICKLA@?$AAC?$AA?3?$AA?2?$AAW?$AAI?$AAN?$AAC?$AAE?$AA6?$AA0?$AA0?$AA?2?$AAP?$AAL?$AAA?$AAT?$AAF?$AAO?$AAR?$AAM?$AA?2?$AAC?$AAO?$AAM?$AAM?$AAO?$AAN?$AA?2?$AAS?$AAR?$AAC?$AA?2@|
  030d0		 |$M38134|

			 ENDP  ; |?CANSend@@YAHPAXPAUCAN_MESSAGE@@KPAKW4TXCAN_PRIORITY@@K@Z|, CANSend


  00118			 AREA	 |.pdata|, PDATA
|$T38150| DCD	|$LN10@CANReceive|
	DCD	0x40003f04
; Function compile flags: /Odtp

  030d0			 AREA	 |.text|, CODE, ARM

  030d0		 |?CANReceive@@YAHPAXPAUCAN_MESSAGE@@KPAKK@Z| PROC ; CANReceive

; 1612 : {

  030d0		 |$LN10@CANReceive|
  030d0	e1a0c00d	 mov         r12, sp
  030d4	e92d000f	 stmdb       sp!, {r0 - r3}
  030d8	e92d5000	 stmdb       sp!, {r12, lr}
  030dc	e24dd030	 sub         sp, sp, #0x30
  030e0		 |$M38147|

; 1613 :     DWORD nbMsgRemaining = nbMaxMsg; 

  030e0	e59d3040	 ldr         r3, [sp, #0x40]
  030e4	e58d3018	 str         r3, [sp, #0x18]

; 1614 :     DWORD nbRead,flags;
; 1615 :     T_CAN_DEVICE *pDevice = (T_CAN_DEVICE*) ctxt;

  030e8	e59d3038	 ldr         r3, [sp, #0x38]
  030ec	e58d3008	 str         r3, [sp, #8]

; 1616 :     BOOL fFirstMsg = TRUE;

  030f0	e3a03001	 mov         r3, #1
  030f4	e58d3014	 str         r3, [sp, #0x14]
  030f8		 |$LN3@CANReceive|

; 1617 : 
; 1618 :     while (nbMsgRemaining && ReadMsgQueue(pDevice->RxMsgQ[MSQ_READER],msg,sizeof(*msg),&nbRead,timeout,&flags))

  030f8	e59d3018	 ldr         r3, [sp, #0x18]
  030fc	e3530000	 cmp         r3, #0
  03100	0a00001d	 beq         |$LN2@CANReceive|
  03104	e28d300c	 add         r3, sp, #0xC
  03108	e58d3004	 str         r3, [sp, #4]
  0310c	e59d3048	 ldr         r3, [sp, #0x48]
  03110	e58d3000	 str         r3, [sp]
  03114	e28d3010	 add         r3, sp, #0x10
  03118	e3a02010	 mov         r2, #0x10
  0311c	e59d103c	 ldr         r1, [sp, #0x3C]
  03120	e59d0008	 ldr         r0, [sp, #8]
  03124	e2800058	 add         r0, r0, #0x58
  03128	e5900000	 ldr         r0, [r0]
  0312c	eb000000	 bl          ReadMsgQueue
  03130	e58d0028	 str         r0, [sp, #0x28]
  03134	e59d3028	 ldr         r3, [sp, #0x28]
  03138	e3530000	 cmp         r3, #0
  0313c	0a00000e	 beq         |$LN2@CANReceive|

; 1619 :     {
; 1620 :         if (fFirstMsg)

  03140	e59d3014	 ldr         r3, [sp, #0x14]
  03144	e3530000	 cmp         r3, #0
  03148	0a000001	 beq         |$LN1@CANReceive|

; 1621 :         {
; 1622 :             timeout = 0;

  0314c	e3a03000	 mov         r3, #0
  03150	e58d3048	 str         r3, [sp, #0x48]
  03154		 |$LN1@CANReceive|

; 1623 :         }
; 1624 :         InterlockedDecrement(&pDevice->canStatus.currentRxMsg);    

  03154	e59d3008	 ldr         r3, [sp, #8]
  03158	e2830078	 add         r0, r3, #0x78
  0315c	eb000000	 bl          InterlockedDecrement

; 1625 :         nbMsgRemaining--;

  03160	e59d3018	 ldr         r3, [sp, #0x18]
  03164	e2433001	 sub         r3, r3, #1
  03168	e58d3018	 str         r3, [sp, #0x18]

; 1626 :         msg++;

  0316c	e59d303c	 ldr         r3, [sp, #0x3C]
  03170	e2833010	 add         r3, r3, #0x10
  03174	e58d303c	 str         r3, [sp, #0x3C]

; 1627 :     }

  03178	eaffffde	 b           |$LN3@CANReceive|
  0317c		 |$LN2@CANReceive|

; 1628 :     *nbMsgReceived = nbMaxMsg - nbMsgRemaining;

  0317c	e59d2040	 ldr         r2, [sp, #0x40]
  03180	e59d3018	 ldr         r3, [sp, #0x18]
  03184	e0422003	 sub         r2, r2, r3
  03188	e59d3044	 ldr         r3, [sp, #0x44]
  0318c	e5832000	 str         r2, [r3]

; 1629 : 
; 1630 :     return (*nbMsgReceived != 0) ? TRUE : FALSE;

  03190	e59d3044	 ldr         r3, [sp, #0x44]
  03194	e5933000	 ldr         r3, [r3]
  03198	e3530000	 cmp         r3, #0
  0319c	0a000002	 beq         |$LN6@CANReceive|
  031a0	e3a03001	 mov         r3, #1
  031a4	e58d302c	 str         r3, [sp, #0x2C]
  031a8	ea000001	 b           |$LN7@CANReceive|
  031ac		 |$LN6@CANReceive|
  031ac	e3a03000	 mov         r3, #0
  031b0	e58d302c	 str         r3, [sp, #0x2C]
  031b4		 |$LN7@CANReceive|
  031b4	e59d302c	 ldr         r3, [sp, #0x2C]
  031b8	e58d3024	 str         r3, [sp, #0x24]

; 1631 : }

  031bc	e59d0024	 ldr         r0, [sp, #0x24]
  031c0	e28dd030	 add         sp, sp, #0x30
  031c4	e89d6000	 ldmia       sp, {sp, lr}
  031c8	e12fff1e	 bx          lr
  031cc		 |$M38148|

			 ENDP  ; |?CANReceive@@YAHPAXPAUCAN_MESSAGE@@KPAKK@Z|, CANReceive


  00120			 AREA	 |.pdata|, PDATA
|$T38156| DCD	|$LN19@CANConfigu@2|
	DCD	0x4000fb04
; Function compile flags: /Odtp

  031cc			 AREA	 |.text|, CODE, ARM

  031cc		 |?CANConfigureAutoAnswer@@YAHPAXPAUCAN_MESSAGE@@H@Z| PROC ; CANConfigureAutoAnswer

; 1636 : {

  031cc		 |$LN19@CANConfigu@2|
  031cc	e1a0c00d	 mov         r12, sp
  031d0	e92d0007	 stmdb       sp!, {r0 - r2}
  031d4	e92d5000	 stmdb       sp!, {r12, lr}
  031d8	e24dd030	 sub         sp, sp, #0x30
  031dc		 |$M38153|

; 1637 :     UINT32 AutoAnswerMask;    
; 1638 :     int mailbox = -1;

  031dc	e3e03000	 mvn         r3, #0
  031e0	e58d3004	 str         r3, [sp, #4]

; 1639 :     int i;
; 1640 :     T_CAN_DEVICE *pDevice = (T_CAN_DEVICE*) ctxt;

  031e4	e59d3038	 ldr         r3, [sp, #0x38]
  031e8	e58d3000	 str         r3, [sp]

; 1641 :     
; 1642 :     if ((msg->length > 8) && fEnabled)

  031ec	e59d303c	 ldr         r3, [sp, #0x3C]
  031f0	e2833008	 add         r3, r3, #8
  031f4	e5d33000	 ldrb        r3, [r3]
  031f8	e3530008	 cmp         r3, #8
  031fc	da000005	 ble         |$LN14@CANConfigu@2|
  03200	e59d3040	 ldr         r3, [sp, #0x40]
  03204	e3530000	 cmp         r3, #0
  03208	0a000002	 beq         |$LN14@CANConfigu@2|

; 1643 :     {
; 1644 :         return FALSE;

  0320c	e3a03000	 mov         r3, #0
  03210	e58d301c	 str         r3, [sp, #0x1C]
  03214	ea0000e3	 b           |$LN15@CANConfigu@2|
  03218		 |$LN14@CANConfigu@2|

; 1645 :     }
; 1646 : 
; 1647 :     EnterCriticalSection(&pDevice->regcs);

  03218	e59d3000	 ldr         r3, [sp]
  0321c	e2830030	 add         r0, r3, #0x30
  03220	eb000000	 bl          EnterCriticalSection

; 1648 : 
; 1649 :     AutoAnswerMask = pDevice->AutoAnswerMask;

  03224	e59d3000	 ldr         r3, [sp]
  03228	e28330cc	 add         r3, r3, #0xCC
  0322c	e5933000	 ldr         r3, [r3]
  03230	e58d3008	 str         r3, [sp, #8]

; 1650 :     //Find matching mailbox if it already exists
; 1651 :     i = 0;

  03234	e3a03000	 mov         r3, #0
  03238	e58d300c	 str         r3, [sp, #0xC]
  0323c		 |$LN13@CANConfigu@2|

; 1652 :     while (AutoAnswerMask)

  0323c	e59d3008	 ldr         r3, [sp, #8]
  03240	e3530000	 cmp         r3, #0
  03244	0a000022	 beq         |$LN12@CANConfigu@2|

; 1653 :     {
; 1654 :         if (AutoAnswerMask & 0x1)

  03248	e59d3008	 ldr         r3, [sp, #8]
  0324c	e3130001	 tst         r3, #1
  03250	0a000018	 beq         |$LN11@CANConfigu@2|

; 1655 :         {
; 1656 :         CAN_ID mbxId;
; 1657 :         
; 1658 :             CANMIDtoCANID(pDevice->pCanRegs->MailBoxes[i].CANMID,&mbxId);

  03254	e28d1010	 add         r1, sp, #0x10
  03258	e59d3000	 ldr         r3, [sp]
  0325c	e283302c	 add         r3, r3, #0x2C
  03260	e5933000	 ldr         r3, [r3]
  03264	e2830a02	 add         r0, r3, #2, 20
  03268	e59d200c	 ldr         r2, [sp, #0xC]
  0326c	e3a03010	 mov         r3, #0x10
  03270	e0030392	 mul         r3, r2, r3
  03274	e0803003	 add         r3, r0, r3
  03278	e5930000	 ldr         r0, [r3]
  0327c	eb000000	 bl          |?CANMIDtoCANID@@YAXIPATCAN_ID@@@Z|

; 1659 : 
; 1660 :             if (IDequal(mbxId,msg->id))

  03280	e59d303c	 ldr         r3, [sp, #0x3C]
  03284	e283300c	 add         r3, r3, #0xC
  03288	e58d3020	 str         r3, [sp, #0x20]
  0328c	e59d3020	 ldr         r3, [sp, #0x20]
  03290	e5931000	 ldr         r1, [r3]
  03294	e59d0010	 ldr         r0, [sp, #0x10]
  03298	eb000000	 bl          |?IDequal@@YAHTCAN_ID@@0@Z|
  0329c	e58d0024	 str         r0, [sp, #0x24]
  032a0	e59d3024	 ldr         r3, [sp, #0x24]
  032a4	e3530000	 cmp         r3, #0
  032a8	0a000002	 beq         |$LN10@CANConfigu@2|

; 1661 :             {
; 1662 :                 mailbox = i;

  032ac	e59d300c	 ldr         r3, [sp, #0xC]
  032b0	e58d3004	 str         r3, [sp, #4]

; 1663 :                 break;

  032b4	ea000006	 b           |$LN12@CANConfigu@2|
  032b8		 |$LN10@CANConfigu@2|
  032b8		 |$LN11@CANConfigu@2|

; 1664 :             }
; 1665 :         }
; 1666 :         AutoAnswerMask>>=1;

  032b8	e59d3008	 ldr         r3, [sp, #8]
  032bc	e1a030a3	 mov         r3, r3, lsr #1
  032c0	e58d3008	 str         r3, [sp, #8]

; 1667 :         i++;

  032c4	e59d300c	 ldr         r3, [sp, #0xC]
  032c8	e2833001	 add         r3, r3, #1
  032cc	e58d300c	 str         r3, [sp, #0xC]

; 1668 :     }

  032d0	eaffffd9	 b           |$LN13@CANConfigu@2|
  032d4		 |$LN12@CANConfigu@2|

; 1669 :             
; 1670 :     if (fEnabled && (mailbox == -1)) // no matching mailbox found ?

  032d4	e59d3040	 ldr         r3, [sp, #0x40]
  032d8	e3530000	 cmp         r3, #0
  032dc	0a000022	 beq         |$LN9@CANConfigu@2|
  032e0	e59d3004	 ldr         r3, [sp, #4]
  032e4	e3730001	 cmn         r3, #1
  032e8	1a00001f	 bne         |$LN9@CANConfigu@2|

; 1671 :     {
; 1672 :         //Try to allocate a mailbox
; 1673 :         for (i=NB_MAILBOXES-1;i>=0;i--)

  032ec	e3a0301f	 mov         r3, #0x1F
  032f0	e58d300c	 str         r3, [sp, #0xC]
  032f4	ea000002	 b           |$LN8@CANConfigu@2|
  032f8		 |$LN7@CANConfigu@2|
  032f8	e59d300c	 ldr         r3, [sp, #0xC]
  032fc	e2433001	 sub         r3, r3, #1
  03300	e58d300c	 str         r3, [sp, #0xC]
  03304		 |$LN8@CANConfigu@2|
  03304	e59d300c	 ldr         r3, [sp, #0xC]
  03308	e3530000	 cmp         r3, #0
  0330c	ba000016	 blt         |$LN6@CANConfigu@2|

; 1674 :         {
; 1675 :             if (pDevice->FreeMailboxMask & (1<<i))

  03310	e59d3000	 ldr         r3, [sp]
  03314	e28310c4	 add         r1, r3, #0xC4
  03318	e59d200c	 ldr         r2, [sp, #0xC]
  0331c	e3a03001	 mov         r3, #1
  03320	e1a02213	 mov         r2, r3, lsl r2
  03324	e5913000	 ldr         r3, [r1]
  03328	e1130002	 tst         r3, r2
  0332c	0a00000d	 beq         |$LN5@CANConfigu@2|

; 1676 :             {
; 1677 :                 mailbox = i;

  03330	e59d300c	 ldr         r3, [sp, #0xC]
  03334	e58d3004	 str         r3, [sp, #4]

; 1678 :                 pDevice->FreeMailboxMask &= ~(1<<mailbox);

  03338	e59d3000	 ldr         r3, [sp]
  0333c	e28310c4	 add         r1, r3, #0xC4
  03340	e59d2004	 ldr         r2, [sp, #4]
  03344	e3a03001	 mov         r3, #1
  03348	e1a03213	 mov         r3, r3, lsl r2
  0334c	e1e02003	 mvn         r2, r3
  03350	e5913000	 ldr         r3, [r1]
  03354	e0032002	 and         r2, r3, r2
  03358	e59d3000	 ldr         r3, [sp]
  0335c	e28330c4	 add         r3, r3, #0xC4
  03360	e5832000	 str         r2, [r3]

; 1679 :                 break;

  03364	ea000000	 b           |$LN6@CANConfigu@2|
  03368		 |$LN5@CANConfigu@2|

; 1680 :             }
; 1681 :         }

  03368	eaffffe2	 b           |$LN7@CANConfigu@2|
  0336c		 |$LN6@CANConfigu@2|
  0336c		 |$LN9@CANConfigu@2|

; 1682 :     }
; 1683 : 
; 1684 :     if (mailbox == -1)

  0336c	e59d3004	 ldr         r3, [sp, #4]
  03370	e3730001	 cmn         r3, #1
  03374	1a000006	 bne         |$LN4@CANConfigu@2|

; 1685 :     {
; 1686 :         //no mailbox found
; 1687 :         LeaveCriticalSection(&pDevice->regcs);

  03378	e59d3000	 ldr         r3, [sp]
  0337c	e2830030	 add         r0, r3, #0x30
  03380	eb000000	 bl          LeaveCriticalSection

; 1688 :         return FALSE;

  03384	e3a03000	 mov         r3, #0
  03388	e58d301c	 str         r3, [sp, #0x1C]
  0338c	ea000085	 b           |$LN15@CANConfigu@2|

; 1689 :     }
; 1690 :     else

  03390	ea000084	 b           |$LN3@CANConfigu@2|
  03394		 |$LN4@CANConfigu@2|

; 1691 :     {
; 1692 :         BOOL rc = TRUE;

  03394	e3a03001	 mov         r3, #1
  03398	e58d3014	 str         r3, [sp, #0x14]

; 1693 :         OMAP_HECC_SCC_MAILBOX* pMbx = &pDevice->pCanRegs->MailBoxes[mailbox];

  0339c	e59d3000	 ldr         r3, [sp]
  033a0	e283302c	 add         r3, r3, #0x2C
  033a4	e5933000	 ldr         r3, [r3]
  033a8	e2831a02	 add         r1, r3, #2, 20
  033ac	e59d2004	 ldr         r2, [sp, #4]
  033b0	e3a03010	 mov         r3, #0x10
  033b4	e0030392	 mul         r3, r2, r3
  033b8	e0813003	 add         r3, r1, r3
  033bc	e58d3018	 str         r3, [sp, #0x18]

; 1694 :         if (fEnabled)

  033c0	e59d3040	 ldr         r3, [sp, #0x40]
  033c4	e3530000	 cmp         r3, #0
  033c8	0a00004f	 beq         |$LN2@CANConfigu@2|

; 1695 :         {
; 1696 :             // configure mailbox for autoanswer
; 1697 :             pDevice->pCanRegs->CANME &= ~(1<<mailbox);

  033cc	e59d3000	 ldr         r3, [sp]
  033d0	e283302c	 add         r3, r3, #0x2C
  033d4	e5931000	 ldr         r1, [r3]
  033d8	e59d2004	 ldr         r2, [sp, #4]
  033dc	e3a03001	 mov         r3, #1
  033e0	e1a03213	 mov         r3, r3, lsl r2
  033e4	e1e02003	 mvn         r2, r3
  033e8	e5913000	 ldr         r3, [r1]
  033ec	e0032002	 and         r2, r3, r2
  033f0	e59d3000	 ldr         r3, [sp]
  033f4	e283302c	 add         r3, r3, #0x2C
  033f8	e5933000	 ldr         r3, [r3]
  033fc	e5832000	 str         r2, [r3]

; 1698 :             pDevice->pCanRegs->CANMD &= ~(1<<mailbox);

  03400	e59d3000	 ldr         r3, [sp]
  03404	e283302c	 add         r3, r3, #0x2C
  03408	e5933000	 ldr         r3, [r3]
  0340c	e2831004	 add         r1, r3, #4
  03410	e59d2004	 ldr         r2, [sp, #4]
  03414	e3a03001	 mov         r3, #1
  03418	e1a03213	 mov         r3, r3, lsl r2
  0341c	e1e02003	 mvn         r2, r3
  03420	e5913000	 ldr         r3, [r1]
  03424	e0032002	 and         r2, r3, r2
  03428	e59d3000	 ldr         r3, [sp]
  0342c	e283302c	 add         r3, r3, #0x2C
  03430	e5933000	 ldr         r3, [r3]
  03434	e2833004	 add         r3, r3, #4
  03438	e5832000	 str         r2, [r3]

; 1699 :             pMbx->CANMDH = msg->MDH;

  0343c	e59d303c	 ldr         r3, [sp, #0x3C]
  03440	e2831004	 add         r1, r3, #4
  03444	e59d3018	 ldr         r3, [sp, #0x18]
  03448	e283200c	 add         r2, r3, #0xC
  0344c	e5913000	 ldr         r3, [r1]
  03450	e5823000	 str         r3, [r2]

; 1700 :             pMbx->CANMDL = msg->MDL;

  03454	e59d3018	 ldr         r3, [sp, #0x18]
  03458	e2832008	 add         r2, r3, #8
  0345c	e59d303c	 ldr         r3, [sp, #0x3C]
  03460	e5933000	 ldr         r3, [r3]
  03464	e5823000	 str         r3, [r2]

; 1701 :             pMbx->CANMID = IDtoCANMID(msg->id) | CANMID_AMM;

  03468	e59d303c	 ldr         r3, [sp, #0x3C]
  0346c	e283300c	 add         r3, r3, #0xC
  03470	e58d3028	 str         r3, [sp, #0x28]
  03474	e59d3028	 ldr         r3, [sp, #0x28]
  03478	e5930000	 ldr         r0, [r3]
  0347c	eb000000	 bl          |?IDtoCANMID@@YAITCAN_ID@@@Z|
  03480	e58d002c	 str         r0, [sp, #0x2C]
  03484	e59d302c	 ldr         r3, [sp, #0x2C]
  03488	e3832202	 orr         r2, r3, #2, 4
  0348c	e59d3018	 ldr         r3, [sp, #0x18]
  03490	e5832000	 str         r2, [r3]

; 1702 :             pMbx->CANMCF = msg->length | (0x3 << 8);    //use highest priority for Remote frames

  03494	e59d303c	 ldr         r3, [sp, #0x3C]
  03498	e2833008	 add         r3, r3, #8
  0349c	e5d33000	 ldrb        r3, [r3]
  034a0	e3832c03	 orr         r2, r3, #3, 24
  034a4	e59d3018	 ldr         r3, [sp, #0x18]
  034a8	e2833004	 add         r3, r3, #4
  034ac	e5832000	 str         r2, [r3]

; 1703 :             pDevice->pCanRegs->CANME |= (1<<mailbox);

  034b0	e59d3000	 ldr         r3, [sp]
  034b4	e283302c	 add         r3, r3, #0x2C
  034b8	e5931000	 ldr         r1, [r3]
  034bc	e59d2004	 ldr         r2, [sp, #4]
  034c0	e3a03001	 mov         r3, #1
  034c4	e1a02213	 mov         r2, r3, lsl r2
  034c8	e5913000	 ldr         r3, [r1]
  034cc	e1832002	 orr         r2, r3, r2
  034d0	e59d3000	 ldr         r3, [sp]
  034d4	e283302c	 add         r3, r3, #0x2C
  034d8	e5933000	 ldr         r3, [r3]
  034dc	e5832000	 str         r2, [r3]

; 1704 :             pDevice->AutoAnswerMask |= (1<<mailbox);

  034e0	e59d3000	 ldr         r3, [sp]
  034e4	e28310cc	 add         r1, r3, #0xCC
  034e8	e59d2004	 ldr         r2, [sp, #4]
  034ec	e3a03001	 mov         r3, #1
  034f0	e1a02213	 mov         r2, r3, lsl r2
  034f4	e5913000	 ldr         r3, [r1]
  034f8	e1832002	 orr         r2, r3, r2
  034fc	e59d3000	 ldr         r3, [sp]
  03500	e28330cc	 add         r3, r3, #0xCC
  03504	e5832000	 str         r2, [r3]

; 1705 :         }
; 1706 :         else

  03508	ea000021	 b           |$LN1@CANConfigu@2|
  0350c		 |$LN2@CANConfigu@2|

; 1707 :         {
; 1708 :             // unconfigure mailbox
; 1709 :             pDevice->pCanRegs->CANME &= ~(1<<mailbox);            

  0350c	e59d3000	 ldr         r3, [sp]
  03510	e283302c	 add         r3, r3, #0x2C
  03514	e5931000	 ldr         r1, [r3]
  03518	e59d2004	 ldr         r2, [sp, #4]
  0351c	e3a03001	 mov         r3, #1
  03520	e1a03213	 mov         r3, r3, lsl r2
  03524	e1e02003	 mvn         r2, r3
  03528	e5913000	 ldr         r3, [r1]
  0352c	e0032002	 and         r2, r3, r2
  03530	e59d3000	 ldr         r3, [sp]
  03534	e283302c	 add         r3, r3, #0x2C
  03538	e5933000	 ldr         r3, [r3]
  0353c	e5832000	 str         r2, [r3]

; 1710 :             // and release it
; 1711 :             pDevice->FreeMailboxMask |= (1<<mailbox);

  03540	e59d3000	 ldr         r3, [sp]
  03544	e28310c4	 add         r1, r3, #0xC4
  03548	e59d2004	 ldr         r2, [sp, #4]
  0354c	e3a03001	 mov         r3, #1
  03550	e1a02213	 mov         r2, r3, lsl r2
  03554	e5913000	 ldr         r3, [r1]
  03558	e1832002	 orr         r2, r3, r2
  0355c	e59d3000	 ldr         r3, [sp]
  03560	e28330c4	 add         r3, r3, #0xC4
  03564	e5832000	 str         r2, [r3]

; 1712 :             pDevice->AutoAnswerMask &= ~(1<<mailbox);

  03568	e59d3000	 ldr         r3, [sp]
  0356c	e28310cc	 add         r1, r3, #0xCC
  03570	e59d2004	 ldr         r2, [sp, #4]
  03574	e3a03001	 mov         r3, #1
  03578	e1a03213	 mov         r3, r3, lsl r2
  0357c	e1e02003	 mvn         r2, r3
  03580	e5913000	 ldr         r3, [r1]
  03584	e0032002	 and         r2, r3, r2
  03588	e59d3000	 ldr         r3, [sp]
  0358c	e28330cc	 add         r3, r3, #0xCC
  03590	e5832000	 str         r2, [r3]
  03594		 |$LN1@CANConfigu@2|

; 1713 :         }
; 1714 :         LeaveCriticalSection(&pDevice->regcs);

  03594	e59d3000	 ldr         r3, [sp]
  03598	e2830030	 add         r0, r3, #0x30
  0359c	eb000000	 bl          LeaveCriticalSection

; 1715 :         return rc;

  035a0	e59d3014	 ldr         r3, [sp, #0x14]
  035a4	e58d301c	 str         r3, [sp, #0x1C]
  035a8		 |$LN3@CANConfigu@2|
  035a8		 |$LN15@CANConfigu@2|

; 1716 :     }
; 1717 : }

  035a8	e59d001c	 ldr         r0, [sp, #0x1C]
  035ac	e28dd030	 add         sp, sp, #0x30
  035b0	e89d6000	 ldmia       sp, {sp, lr}
  035b4	e12fff1e	 bx          lr
  035b8		 |$M38154|

			 ENDP  ; |?CANConfigureAutoAnswer@@YAHPAXPAUCAN_MESSAGE@@H@Z|, CANConfigureAutoAnswer


  00128			 AREA	 |.pdata|, PDATA
|$T38162| DCD	|$LN9@IDequal|
	DCD	0x40002b04
; Function compile flags: /Odtp

  035b8			 AREA	 |.text|, CODE, ARM

  035b8		 |?IDequal@@YAHTCAN_ID@@0@Z| PROC	; IDequal

; 279  : {

  035b8		 |$LN9@IDequal|
  035b8	e1a0c00d	 mov         r12, sp
  035bc	e92d0003	 stmdb       sp!, {r0, r1}
  035c0	e92d5000	 stmdb       sp!, {r12, lr}
  035c4	e24dd004	 sub         sp, sp, #4
  035c8		 |$M38159|

; 280  :     if (id1.s_standard.extended)

  035c8	e59d300c	 ldr         r3, [sp, #0xC]
  035cc	e3130102	 tst         r3, #2, 2
  035d0	0a00000f	 beq         |$LN4@IDequal|

; 281  :     {        
; 282  :         if ((id2.s_extended.extended == 1) && (id1.s_extended.id == id2.s_extended.id))

  035d4	e59d3010	 ldr         r3, [sp, #0x10]
  035d8	e1a03fa3	 mov         r3, r3, lsr #31
  035dc	e3530001	 cmp         r3, #1
  035e0	1a00000a	 bne         |$LN3@IDequal|
  035e4	e59d200c	 ldr         r2, [sp, #0xC]
  035e8	e3e0320e	 mvn         r3, #0xE, 4
  035ec	e0021003	 and         r1, r2, r3
  035f0	e59d2010	 ldr         r2, [sp, #0x10]
  035f4	e3e0320e	 mvn         r3, #0xE, 4
  035f8	e0023003	 and         r3, r2, r3
  035fc	e1510003	 cmp         r1, r3
  03600	1a000002	 bne         |$LN3@IDequal|

; 283  :         {
; 284  :             return TRUE;

  03604	e3a03001	 mov         r3, #1
  03608	e58d3000	 str         r3, [sp]
  0360c	ea000010	 b           |$LN5@IDequal|
  03610		 |$LN3@IDequal|

; 285  :         }
; 286  :     }
; 287  :     else

  03610	ea00000d	 b           |$LN2@IDequal|
  03614		 |$LN4@IDequal|

; 288  :     {
; 289  :         if ((id2.s_extended.extended == 0) && (id1.s_standard.id == id2.s_standard.id))

  03614	e59d3010	 ldr         r3, [sp, #0x10]
  03618	e3130102	 tst         r3, #2, 2
  0361c	1a00000a	 bne         |$LN1@IDequal|
  03620	e59d300c	 ldr         r3, [sp, #0xC]
  03624	e1a03183	 mov         r3, r3, lsl #3
  03628	e1a02aa3	 mov         r2, r3, lsr #21
  0362c	e59d3010	 ldr         r3, [sp, #0x10]
  03630	e1a03183	 mov         r3, r3, lsl #3
  03634	e1a03aa3	 mov         r3, r3, lsr #21
  03638	e1520003	 cmp         r2, r3
  0363c	1a000002	 bne         |$LN1@IDequal|

; 290  :         {
; 291  :             return TRUE;

  03640	e3a03001	 mov         r3, #1
  03644	e58d3000	 str         r3, [sp]
  03648	ea000001	 b           |$LN5@IDequal|
  0364c		 |$LN1@IDequal|
  0364c		 |$LN2@IDequal|

; 292  :         }
; 293  :     }
; 294  :     return FALSE;    

  0364c	e3a03000	 mov         r3, #0
  03650	e58d3000	 str         r3, [sp]
  03654		 |$LN5@IDequal|

; 295  : }

  03654	e59d0000	 ldr         r0, [sp]
  03658	e28dd004	 add         sp, sp, #4
  0365c	e89d6000	 ldmia       sp, {sp, lr}
  03660	e12fff1e	 bx          lr
  03664		 |$M38160|

			 ENDP  ; |?IDequal@@YAHTCAN_ID@@0@Z|, IDequal

	EXPORT	|?ConfigureMailboxAndAcceptanceFilter@@YAXPAUT_CAN_DEVICE@@IPAUCLASS_FILTER@@@Z| ; ConfigureMailboxAndAcceptanceFilter

  00130			 AREA	 |.pdata|, PDATA
|$T38167| DCD	|$LN10@ConfigureM|
	DCD	0x40008604
; Function compile flags: /Odtp

  03664			 AREA	 |.text|, CODE, ARM

  03664		 |?ConfigureMailboxAndAcceptanceFilter@@YAXPAUT_CAN_DEVICE@@IPAUCLASS_FILTER@@@Z| PROC ; ConfigureMailboxAndAcceptanceFilter

; 1720 : {    

  03664		 |$LN10@ConfigureM|
  03664	e1a0c00d	 mov         r12, sp
  03668	e92d0007	 stmdb       sp!, {r0 - r2}
  0366c	e92d5000	 stmdb       sp!, {r12, lr}
  03670	e24dd024	 sub         sp, sp, #0x24
  03674		 |$M38164|

; 1721 :     DWORD mask = filterMailboxMask;

  03674	e59d3030	 ldr         r3, [sp, #0x30]
  03678	e58d3008	 str         r3, [sp, #8]

; 1722 :     BOOL lowestMailbox=TRUE;

  0367c	e3a03001	 mov         r3, #1
  03680	e58d3004	 str         r3, [sp, #4]

; 1723 :     DWORD index = 0;

  03684	e3a03000	 mov         r3, #0
  03688	e58d3000	 str         r3, [sp]

; 1724 :     OMAP_HECC_SCC_REGS* pRegs = pDevice->pCanRegs;

  0368c	e59d302c	 ldr         r3, [sp, #0x2C]
  03690	e283302c	 add         r3, r3, #0x2C
  03694	e5933000	 ldr         r3, [r3]
  03698	e58d300c	 str         r3, [sp, #0xC]

; 1725 :     OMAP_HECC_SCC_MAILBOX* pMailbox;
; 1726 : 
; 1727 :     // Disable the mailboxes (although at this point, they should already be disabled)
; 1728 :     CLRREG32(&pRegs->CANME,filterMailboxMask);

  0369c	e59d3030	 ldr         r3, [sp, #0x30]
  036a0	e1e02003	 mvn         r2, r3
  036a4	e59d300c	 ldr         r3, [sp, #0xC]
  036a8	e5933000	 ldr         r3, [r3]
  036ac	e0032002	 and         r2, r3, r2
  036b0	e59d300c	 ldr         r3, [sp, #0xC]
  036b4	e5832000	 str         r2, [r3]
  036b8		 |$LN5@ConfigureM|

; 1729 : 
; 1730 :     while(mask)

  036b8	e59d3008	 ldr         r3, [sp, #8]
  036bc	e3530000	 cmp         r3, #0
  036c0	0a000064	 beq         |$LN4@ConfigureM|

; 1731 :     {
; 1732 :         if (mask & 0x1)

  036c4	e59d3008	 ldr         r3, [sp, #8]
  036c8	e3130001	 tst         r3, #1
  036cc	0a00005a	 beq         |$LN3@ConfigureM|

; 1733 :         {            
; 1734 :             pMailbox = &pDevice->pCanRegs->MailBoxes[index];

  036d0	e59d302c	 ldr         r3, [sp, #0x2C]
  036d4	e283302c	 add         r3, r3, #0x2C
  036d8	e5933000	 ldr         r3, [r3]
  036dc	e2831a02	 add         r1, r3, #2, 20
  036e0	e59d2000	 ldr         r2, [sp]
  036e4	e3a03010	 mov         r3, #0x10
  036e8	e0030392	 mul         r3, r2, r3
  036ec	e0813003	 add         r3, r1, r3
  036f0	e58d3010	 str         r3, [sp, #0x10]

; 1735 : 
; 1736 : 
; 1737 : 
; 1738 :             if (lowestMailbox)

  036f4	e59d3004	 ldr         r3, [sp, #4]
  036f8	e3530000	 cmp         r3, #0
  036fc	0a00000d	 beq         |$LN2@ConfigureM|

; 1739 :             {
; 1740 :                 // if this is the first mailbox of the chain, then we do not protect it against overwrite so that we're aware of lost messages
; 1741 :                 lowestMailbox = FALSE;

  03700	e3a03000	 mov         r3, #0
  03704	e58d3004	 str         r3, [sp, #4]

; 1742 :                 CLRREG32(&pRegs->CANOPC,(1<<index));                    //Do not rotect against overwrites    

  03708	e59d300c	 ldr         r3, [sp, #0xC]
  0370c	e2831050	 add         r1, r3, #0x50
  03710	e59d2000	 ldr         r2, [sp]
  03714	e3a03001	 mov         r3, #1
  03718	e1a03213	 mov         r3, r3, lsl r2
  0371c	e1e02003	 mvn         r2, r3
  03720	e5913000	 ldr         r3, [r1]
  03724	e0032002	 and         r2, r3, r2
  03728	e59d300c	 ldr         r3, [sp, #0xC]
  0372c	e2833050	 add         r3, r3, #0x50
  03730	e5832000	 str         r2, [r3]

; 1743 :             }
; 1744 :             else

  03734	ea000009	 b           |$LN1@ConfigureM|
  03738		 |$LN2@ConfigureM|

; 1745 :             {
; 1746 :                 // protecting against overwrites makes the ctrl look for another mailbox if this one is already full
; 1747 :                 SETREG32(&pRegs->CANOPC,(1<<index));                    //Protect against overwrites

  03738	e59d300c	 ldr         r3, [sp, #0xC]
  0373c	e2831050	 add         r1, r3, #0x50
  03740	e59d2000	 ldr         r2, [sp]
  03744	e3a03001	 mov         r3, #1
  03748	e1a02213	 mov         r2, r3, lsl r2
  0374c	e5913000	 ldr         r3, [r1]
  03750	e1832002	 orr         r2, r3, r2
  03754	e59d300c	 ldr         r3, [sp, #0xC]
  03758	e2833050	 add         r3, r3, #0x50
  0375c	e5832000	 str         r2, [r3]
  03760		 |$LN1@ConfigureM|

; 1748 :             }
; 1749 :             SETREG32(&pRegs->CANMD,(1<<index));                     //Configure for recpetion

  03760	e59d300c	 ldr         r3, [sp, #0xC]
  03764	e2831004	 add         r1, r3, #4
  03768	e59d2000	 ldr         r2, [sp]
  0376c	e3a03001	 mov         r3, #1
  03770	e1a02213	 mov         r2, r3, lsl r2
  03774	e5913000	 ldr         r3, [r1]
  03778	e1832002	 orr         r2, r3, r2
  0377c	e59d300c	 ldr         r3, [sp, #0xC]
  03780	e2833004	 add         r3, r3, #4
  03784	e5832000	 str         r2, [r3]

; 1750 :             SETREG32(&pRegs->CANMIL,(1<<index));                    //RX mailboxes trigger CAN IRQ 1

  03788	e59d300c	 ldr         r3, [sp, #0xC]
  0378c	e283104c	 add         r1, r3, #0x4C
  03790	e59d2000	 ldr         r2, [sp]
  03794	e3a03001	 mov         r3, #1
  03798	e1a02213	 mov         r2, r3, lsl r2
  0379c	e5913000	 ldr         r3, [r1]
  037a0	e1832002	 orr         r2, r3, r2
  037a4	e59d300c	 ldr         r3, [sp, #0xC]
  037a8	e283304c	 add         r3, r3, #0x4C
  037ac	e5832000	 str         r2, [r3]

; 1751 :             SETREG32(&pRegs->CANMIM,(1<<index));                    // Unmask the interrupt

  037b0	e59d300c	 ldr         r3, [sp, #0xC]
  037b4	e2831048	 add         r1, r3, #0x48
  037b8	e59d2000	 ldr         r2, [sp]
  037bc	e3a03001	 mov         r3, #1
  037c0	e1a02213	 mov         r2, r3, lsl r2
  037c4	e5913000	 ldr         r3, [r1]
  037c8	e1832002	 orr         r2, r3, r2
  037cc	e59d300c	 ldr         r3, [sp, #0xC]
  037d0	e2833048	 add         r3, r3, #0x48
  037d4	e5832000	 str         r2, [r3]

; 1752 : 
; 1753 :             OUTREG32(&pMailbox->CANMID,CANMID_AME | IDtoCANMID(pClassFilter->id));

  037d8	e59d3034	 ldr         r3, [sp, #0x34]
  037dc	e58d3014	 str         r3, [sp, #0x14]
  037e0	e59d3014	 ldr         r3, [sp, #0x14]
  037e4	e5930000	 ldr         r0, [r3]
  037e8	eb000000	 bl          |?IDtoCANMID@@YAITCAN_ID@@@Z|
  037ec	e58d0018	 str         r0, [sp, #0x18]
  037f0	e59d3018	 ldr         r3, [sp, #0x18]
  037f4	e3832101	 orr         r2, r3, #1, 2
  037f8	e59d3010	 ldr         r3, [sp, #0x10]
  037fc	e5832000	 str         r2, [r3]

; 1754 :             OUTREG32(&pRegs->CANLAM[index], MaskToCANLAM(pClassFilter->mask));            

  03800	e59d3034	 ldr         r3, [sp, #0x34]
  03804	e2833004	 add         r3, r3, #4
  03808	e58d301c	 str         r3, [sp, #0x1C]
  0380c	e59d301c	 ldr         r3, [sp, #0x1C]
  03810	e5930000	 ldr         r0, [r3]
  03814	eb000000	 bl          |?MaskToCANLAM@@YAITCAN_ID@@@Z|
  03818	e58d0020	 str         r0, [sp, #0x20]
  0381c	e59d300c	 ldr         r3, [sp, #0xC]
  03820	e2831a03	 add         r1, r3, #3, 20
  03824	e59d2000	 ldr         r2, [sp]
  03828	e3a03004	 mov         r3, #4
  0382c	e0030392	 mul         r3, r2, r3
  03830	e0812003	 add         r2, r1, r3
  03834	e59d3020	 ldr         r3, [sp, #0x20]
  03838	e5823000	 str         r3, [r2]
  0383c		 |$LN3@ConfigureM|

; 1755 :         }
; 1756 :         mask >>= 1;

  0383c	e59d3008	 ldr         r3, [sp, #8]
  03840	e1a030a3	 mov         r3, r3, lsr #1
  03844	e58d3008	 str         r3, [sp, #8]

; 1757 :         index++;

  03848	e59d3000	 ldr         r3, [sp]
  0384c	e2833001	 add         r3, r3, #1
  03850	e58d3000	 str         r3, [sp]

; 1758 :     }

  03854	eaffff97	 b           |$LN5@ConfigureM|
  03858		 |$LN4@ConfigureM|

; 1759 :     SETREG32(&pRegs->CANME,filterMailboxMask);                     //Finally enabel the mailbox

  03858	e59d300c	 ldr         r3, [sp, #0xC]
  0385c	e5932000	 ldr         r2, [r3]
  03860	e59d3030	 ldr         r3, [sp, #0x30]
  03864	e1822003	 orr         r2, r2, r3
  03868	e59d300c	 ldr         r3, [sp, #0xC]
  0386c	e5832000	 str         r2, [r3]

; 1760 : }

  03870	e28dd024	 add         sp, sp, #0x24
  03874	e89d6000	 ldmia       sp, {sp, lr}
  03878	e12fff1e	 bx          lr
  0387c		 |$M38165|

			 ENDP  ; |?ConfigureMailboxAndAcceptanceFilter@@YAXPAUT_CAN_DEVICE@@IPAUCLASS_FILTER@@@Z|, ConfigureMailboxAndAcceptanceFilter

	EXPORT	|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BA@LEPJIIOK@?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1DG@FNCLOOFM@?$AAT?$AAh?$AAi?$AAs?$AA?5?$AAs?$AAh?$AAo?$AAu?$AAl?$AAd?$AA?5?$AAn?$AAe?$AAv?$AAe?$AAr?$AA?5?$AAh?$AAa?$AAp?$AAp?$AAe?$AAn?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1EM@OJAGADIH@?$AAU?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AAa?$AAl?$AAl?$AAo?$AAc?$AAa?$AAt?$AAe?$AA?5?$AA?5?$AAp?$AAN?$AAe?$AAw?$AAC?$AAl?$AAa?$AAs?$AAs?$AAF?$AAi?$AAl@| [ DATA ] ; `string'
	EXPORT	|??_C@_1GC@OBNJIOJG@?$AAN?$AAo?$AAt?$AA?5?$AAe?$AAn?$AAo?$AAu?$AAg?$AAh?$AA?5?$AAM?$AAa?$AAi?$AAl?$AAb?$AAo?$AAx?$AAe?$AAs?$AA?5?$AAt?$AAo?$AA?5?$AAi?$AAm?$AAp?$AAl?$AAe?$AAm?$AAe?$AAn@| [ DATA ] ; `string'
	EXPORT	|??_C@_1CM@FJIEIHHP@?$AAI?$AAn?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAR?$AAX?$AA?5?$AAp?$AAr?$AAi?$AAo?$AAr?$AAi?$AAt?$AAy?$AA?$AN?$AA?6?$AA?$AA@| [ DATA ] ; `string'
	IMPORT	|LocalAlloc|

  00138			 AREA	 |.pdata|, PDATA
|$T38183| DCD	|$LN30@CANCreateC|
	DCD	0x4000ea04

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "D", 0x0, "E", 0x0, "B"
	DCB	0x0, "U", 0x0, "G", 0x0, "C", 0x0, "H", 0x0, "K", 0x0, " "
	DCB	0x0, "f", 0x0, "a", 0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d"
	DCB	0x0, " ", 0x0, "i", 0x0, "n", 0x0, " ", 0x0, "f", 0x0, "i"
	DCB	0x0, "l", 0x0, "e", 0x0, " ", 0x0, "%", 0x0, "s", 0x0, " "
	DCB	0x0, "a", 0x0, "t", 0x0, " ", 0x0, "l", 0x0, "i", 0x0, "n"
	DCB	0x0, "e", 0x0, " ", 0x0, "%", 0x0, "d", 0x0, " ", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BA@LEPJIIOK@?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?$AA@| DCB "U", 0x0
	DCB	"n", 0x0, "k", 0x0, "n", 0x0, "o", 0x0, "w", 0x0, "n", 0x0
	DCB	0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1DG@FNCLOOFM@?$AAT?$AAh?$AAi?$AAs?$AA?5?$AAs?$AAh?$AAo?$AAu?$AAl?$AAd?$AA?5?$AAn?$AAe?$AAv?$AAe?$AAr?$AA?5?$AAh?$AAa?$AAp?$AAp?$AAe?$AAn?$AA?$AN?$AA?6?$AA?$AA@| DCB "T"
	DCB	0x0, "h", 0x0, "i", 0x0, "s", 0x0, " ", 0x0, "s", 0x0, "h"
	DCB	0x0, "o", 0x0, "u", 0x0, "l", 0x0, "d", 0x0, " ", 0x0, "n"
	DCB	0x0, "e", 0x0, "v", 0x0, "e", 0x0, "r", 0x0, " ", 0x0, "h"
	DCB	0x0, "a", 0x0, "p", 0x0, "p", 0x0, "e", 0x0, "n", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1EM@OJAGADIH@?$AAU?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AAa?$AAl?$AAl?$AAo?$AAc?$AAa?$AAt?$AAe?$AA?5?$AA?5?$AAp?$AAN?$AAe?$AAw?$AAC?$AAl?$AAa?$AAs?$AAs?$AAF?$AAi?$AAl@| DCB "U"
	DCB	0x0, "n", 0x0, "a", 0x0, "b", 0x0, "l", 0x0, "e", 0x0, " "
	DCB	0x0, "t", 0x0, "o", 0x0, " ", 0x0, "a", 0x0, "l", 0x0, "l"
	DCB	0x0, "o", 0x0, "c", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, " "
	DCB	0x0, " ", 0x0, "p", 0x0, "N", 0x0, "e", 0x0, "w", 0x0, "C"
	DCB	0x0, "l", 0x0, "a", 0x0, "s", 0x0, "s", 0x0, "F", 0x0, "i"
	DCB	0x0, "l", 0x0, "t", 0x0, "e", 0x0, "r", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1GC@OBNJIOJG@?$AAN?$AAo?$AAt?$AA?5?$AAe?$AAn?$AAo?$AAu?$AAg?$AAh?$AA?5?$AAM?$AAa?$AAi?$AAl?$AAb?$AAo?$AAx?$AAe?$AAs?$AA?5?$AAt?$AAo?$AA?5?$AAi?$AAm?$AAp?$AAl?$AAe?$AAm?$AAe?$AAn@| DCB "N"
	DCB	0x0, "o", 0x0, "t", 0x0, " ", 0x0, "e", 0x0, "n", 0x0, "o"
	DCB	0x0, "u", 0x0, "g", 0x0, "h", 0x0, " ", 0x0, "M", 0x0, "a"
	DCB	0x0, "i", 0x0, "l", 0x0, "b", 0x0, "o", 0x0, "x", 0x0, "e"
	DCB	0x0, "s", 0x0, " ", 0x0, "t", 0x0, "o", 0x0, " ", 0x0, "i"
	DCB	0x0, "m", 0x0, "p", 0x0, "l", 0x0, "e", 0x0, "m", 0x0, "e"
	DCB	0x0, "n", 0x0, "t", 0x0, " ", 0x0, "f", 0x0, "i", 0x0, "l"
	DCB	0x0, "t", 0x0, "e", 0x0, "r", 0x0, " ", 0x0, "c", 0x0, "l"
	DCB	0x0, "a", 0x0, "s", 0x0, "s", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CM@FJIEIHHP@?$AAI?$AAn?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAR?$AAX?$AA?5?$AAp?$AAr?$AAi?$AAo?$AAr?$AAi?$AAt?$AAy?$AA?$AN?$AA?6?$AA?$AA@| DCB "I"
	DCB	0x0, "n", 0x0, "v", 0x0, "a", 0x0, "l", 0x0, "i", 0x0, "d"
	DCB	0x0, " ", 0x0, "R", 0x0, "X", 0x0, " ", 0x0, "p", 0x0, "r"
	DCB	0x0, "i", 0x0, "o", 0x0, "r", 0x0, "i", 0x0, "t", 0x0, "y"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'
; Function compile flags: /Odtp

  0387c			 AREA	 |.text|, CODE, ARM

  0387c		 |?CANCreateClassFilter@@YAHPAXPAUCLASS_FILTER@@W4RXCAN_PRIORITY@@H@Z| PROC ; CANCreateClassFilter

; 1764 : {

  0387c		 |$LN30@CANCreateC|
  0387c	e1a0c00d	 mov         r12, sp
  03880	e92d000f	 stmdb       sp!, {r0 - r3}
  03884	e92d5000	 stmdb       sp!, {r12, lr}
  03888	e24dd030	 sub         sp, sp, #0x30
  0388c		 |$M38180|

; 1765 :     T_CAN_DEVICE *pDevice = (T_CAN_DEVICE*) ctxt;

  0388c	e59d3038	 ldr         r3, [sp, #0x38]
  03890	e58d3000	 str         r3, [sp]

; 1766 :     CLASS_FILTER_INTERNAL* pNewClassFilter = NULL;

  03894	e3a03000	 mov         r3, #0
  03898	e58d3008	 str         r3, [sp, #8]

; 1767 :     DWORD filterMailboxMask;
; 1768 :     DWORD count;
; 1769 : 
; 1770 :     if (pDevice == NULL)

  0389c	e59d3000	 ldr         r3, [sp]
  038a0	e3530000	 cmp         r3, #0
  038a4	1a000002	 bne         |$LN15@CANCreateC|

; 1771 :     {
; 1772 :         return FALSE;

  038a8	e3a03000	 mov         r3, #0
  038ac	e58d3014	 str         r3, [sp, #0x14]
  038b0	ea0000ce	 b           |$LN16@CANCreateC|
  038b4		 |$LN15@CANCreateC|

; 1773 :     }
; 1774 :     if (!(NB_RX_PRIORITIES > priority))

  038b4	e59d3040	 ldr         r3, [sp, #0x40]
  038b8	e3530003	 cmp         r3, #3
  038bc	ba000009	 blt         |$LN14@CANCreateC|

; 1775 :     {
; 1776 :         DEBUGMSG(1,(TEXT("Invalid RX priority\r\n")));

  038c0	e59f0358	 ldr         r0, [pc, #0x358]
  038c4	eb000000	 bl          NKDbgPrintfW
  038c8	e3a03001	 mov         r3, #1
  038cc	e58d3018	 str         r3, [sp, #0x18]
  038d0	ea000001	 b           |$LN19@CANCreateC|
  038d4	e3a03000	 mov         r3, #0
  038d8	e58d3018	 str         r3, [sp, #0x18]
  038dc		 |$LN19@CANCreateC|

; 1777 :         return FALSE;

  038dc	e3a03000	 mov         r3, #0
  038e0	e58d3014	 str         r3, [sp, #0x14]
  038e4	ea0000c1	 b           |$LN16@CANCreateC|
  038e8		 |$LN14@CANCreateC|

; 1778 :     }
; 1779 :     EnterCriticalSection(&pDevice->regcs);

  038e8	e59d3000	 ldr         r3, [sp]
  038ec	e2830030	 add         r0, r3, #0x30
  038f0	eb000000	 bl          EnterCriticalSection

; 1780 :     
; 1781 : 
; 1782 :     if (pDevice->nbFreeClassFilter < RxPriorityMlbxCount[priority])

  038f4	e59d3000	 ldr         r3, [sp]
  038f8	e28300dc	 add         r0, r3, #0xDC
  038fc	e59d1040	 ldr         r1, [sp, #0x40]
  03900	e3a03004	 mov         r3, #4
  03904	e0020391	 mul         r2, r1, r3
  03908	e59f3304	 ldr         r3, [pc, #0x304]
  0390c	e0833002	 add         r3, r3, r2
  03910	e5902000	 ldr         r2, [r0]
  03914	e5933000	 ldr         r3, [r3]
  03918	e1520003	 cmp         r2, r3
  0391c	2a000008	 bcs         |$LN13@CANCreateC|

; 1783 :     {
; 1784 :         DEBUGMSG(1,(TEXT("Not enough Mailboxes to implement filter class\r\n")));

  03920	e59f02f4	 ldr         r0, [pc, #0x2F4]
  03924	eb000000	 bl          NKDbgPrintfW
  03928	e3a03001	 mov         r3, #1
  0392c	e58d301c	 str         r3, [sp, #0x1C]
  03930	ea000001	 b           |$LN21@CANCreateC|
  03934	e3a03000	 mov         r3, #0
  03938	e58d301c	 str         r3, [sp, #0x1C]
  0393c		 |$LN21@CANCreateC|

; 1785 :         goto error;

  0393c	ea0000a1	 b           |$LN12@CANCreateC|
  03940	ea0000a0	 b           |$error$37506|
  03944		 |$LN13@CANCreateC|

; 1786 :     }
; 1787 :     pNewClassFilter = (CLASS_FILTER_INTERNAL*) LocalAlloc(LPTR,sizeof(CLASS_FILTER_INTERNAL));

  03944	e3a01018	 mov         r1, #0x18
  03948	e3a00040	 mov         r0, #0x40
  0394c	eb000000	 bl          LocalAlloc
  03950	e58d0020	 str         r0, [sp, #0x20]
  03954	e59d3020	 ldr         r3, [sp, #0x20]
  03958	e58d3008	 str         r3, [sp, #8]

; 1788 :     if (pNewClassFilter==NULL)

  0395c	e59d3008	 ldr         r3, [sp, #8]
  03960	e3530000	 cmp         r3, #0
  03964	1a000008	 bne         |$LN11@CANCreateC|

; 1789 :     {
; 1790 :         DEBUGMSG(1,(TEXT("Unable to allocate  pNewClassFilter\r\n")));

  03968	e59f02a8	 ldr         r0, [pc, #0x2A8]
  0396c	eb000000	 bl          NKDbgPrintfW
  03970	e3a03001	 mov         r3, #1
  03974	e58d3024	 str         r3, [sp, #0x24]
  03978	ea000001	 b           |$LN23@CANCreateC|
  0397c	e3a03000	 mov         r3, #0
  03980	e58d3024	 str         r3, [sp, #0x24]
  03984		 |$LN23@CANCreateC|

; 1791 :         goto error;

  03984	ea00008f	 b           |$LN10@CANCreateC|
  03988	ea00008e	 b           |$error$37506|
  0398c		 |$LN11@CANCreateC|

; 1792 :     }
; 1793 :     pDevice->nbFreeClassFilter -= RxPriorityMlbxCount[priority];    

  0398c	e59d3000	 ldr         r3, [sp]
  03990	e28300dc	 add         r0, r3, #0xDC
  03994	e59d1040	 ldr         r1, [sp, #0x40]
  03998	e3a03004	 mov         r3, #4
  0399c	e0020391	 mul         r2, r1, r3
  039a0	e59f326c	 ldr         r3, [pc, #0x26C]
  039a4	e0833002	 add         r3, r3, r2
  039a8	e5902000	 ldr         r2, [r0]
  039ac	e5933000	 ldr         r3, [r3]
  039b0	e0422003	 sub         r2, r2, r3
  039b4	e59d3000	 ldr         r3, [sp]
  039b8	e28330dc	 add         r3, r3, #0xDC
  039bc	e5832000	 str         r2, [r3]

; 1794 :     pNewClassFilter->classFilter = *pClassFilterIn;    

  039c0	e59d103c	 ldr         r1, [sp, #0x3C]
  039c4	e59d3008	 ldr         r3, [sp, #8]
  039c8	e2830004	 add         r0, r3, #4
  039cc	e3a02008	 mov         r2, #8
  039d0	eb000000	 bl          memcpy

; 1795 :     pNewClassFilter->subFilter = NULL;

  039d4	e59d3008	 ldr         r3, [sp, #8]
  039d8	e283200c	 add         r2, r3, #0xC
  039dc	e3a03000	 mov         r3, #0
  039e0	e5823000	 str         r3, [r2]

; 1796 :     pNewClassFilter->enabled = fEnabled;    

  039e4	e59d3008	 ldr         r3, [sp, #8]
  039e8	e2832010	 add         r2, r3, #0x10
  039ec	e59d3044	 ldr         r3, [sp, #0x44]
  039f0	e5823000	 str         r3, [r2]

; 1797 : 
; 1798 :     filterMailboxMask = 0;

  039f4	e3a03000	 mov         r3, #0
  039f8	e58d300c	 str         r3, [sp, #0xC]

; 1799 :     count = 0;

  039fc	e3a03000	 mov         r3, #0
  03a00	e58d3004	 str         r3, [sp, #4]

; 1800 : 
; 1801 :     for (int i=NB_MAILBOXES-1;i>=0;i--)

  03a04	e3a0301f	 mov         r3, #0x1F
  03a08	e58d3010	 str         r3, [sp, #0x10]
  03a0c	ea000002	 b           |$LN9@CANCreateC|
  03a10		 |$LN8@CANCreateC|
  03a10	e59d3010	 ldr         r3, [sp, #0x10]
  03a14	e2433001	 sub         r3, r3, #1
  03a18	e58d3010	 str         r3, [sp, #0x10]
  03a1c		 |$LN9@CANCreateC|
  03a1c	e59d3010	 ldr         r3, [sp, #0x10]
  03a20	e3530000	 cmp         r3, #0
  03a24	ba00001b	 blt         |$LN7@CANCreateC|

; 1802 :     {
; 1803 :         if (pDevice->FreeMailboxMask & (1<<i))

  03a28	e59d3000	 ldr         r3, [sp]
  03a2c	e28310c4	 add         r1, r3, #0xC4
  03a30	e59d2010	 ldr         r2, [sp, #0x10]
  03a34	e3a03001	 mov         r3, #1
  03a38	e1a02213	 mov         r2, r3, lsl r2
  03a3c	e5913000	 ldr         r3, [r1]
  03a40	e1130002	 tst         r3, r2
  03a44	0a000012	 beq         |$LN6@CANCreateC|

; 1804 :         {
; 1805 :             filterMailboxMask |= (1<<i);

  03a48	e59d2010	 ldr         r2, [sp, #0x10]
  03a4c	e3a03001	 mov         r3, #1
  03a50	e1a02213	 mov         r2, r3, lsl r2
  03a54	e59d300c	 ldr         r3, [sp, #0xC]
  03a58	e1833002	 orr         r3, r3, r2
  03a5c	e58d300c	 str         r3, [sp, #0xC]

; 1806 :             count++;

  03a60	e59d3004	 ldr         r3, [sp, #4]
  03a64	e2833001	 add         r3, r3, #1
  03a68	e58d3004	 str         r3, [sp, #4]

; 1807 :             if (count == RxPriorityMlbxCount[priority])

  03a6c	e59d1040	 ldr         r1, [sp, #0x40]
  03a70	e3a03004	 mov         r3, #4
  03a74	e0020391	 mul         r2, r1, r3
  03a78	e59f3194	 ldr         r3, [pc, #0x194]
  03a7c	e0833002	 add         r3, r3, r2
  03a80	e59d2004	 ldr         r2, [sp, #4]
  03a84	e5933000	 ldr         r3, [r3]
  03a88	e1520003	 cmp         r2, r3
  03a8c	1a000000	 bne         |$LN5@CANCreateC|

; 1808 :             {
; 1809 :                 break;

  03a90	ea000000	 b           |$LN7@CANCreateC|
  03a94		 |$LN5@CANCreateC|
  03a94		 |$LN6@CANCreateC|

; 1810 :             }
; 1811 :         }
; 1812 :     }

  03a94	eaffffdd	 b           |$LN8@CANCreateC|
  03a98		 |$LN7@CANCreateC|

; 1813 :     if (count != RxPriorityMlbxCount[priority])

  03a98	e59d1040	 ldr         r1, [sp, #0x40]
  03a9c	e3a03004	 mov         r3, #4
  03aa0	e0020391	 mul         r2, r1, r3
  03aa4	e59f3168	 ldr         r3, [pc, #0x168]
  03aa8	e0833002	 add         r3, r3, r2
  03aac	e59d2004	 ldr         r2, [sp, #4]
  03ab0	e5933000	 ldr         r3, [r3]
  03ab4	e1520003	 cmp         r2, r3
  03ab8	0a00001a	 beq         |$LN4@CANCreateC|

; 1814 :     {
; 1815 :         ERRORMSG(1,(TEXT("This should never happen\r\n")));

  03abc	e3a02c07	 mov         r2, #7, 24
  03ac0	e3822017	 orr         r2, r2, #0x17
  03ac4	e59f113c	 ldr         r1, [pc, #0x13C]
  03ac8	e59f0140	 ldr         r0, [pc, #0x140]
  03acc	eb000000	 bl          NKDbgPrintfW
  03ad0	e59f0134	 ldr         r0, [pc, #0x134]
  03ad4	eb000000	 bl          NKDbgPrintfW
  03ad8	e3a03001	 mov         r3, #1
  03adc	e58d3028	 str         r3, [sp, #0x28]
  03ae0	ea000001	 b           |$LN25@CANCreateC|
  03ae4	e3a03000	 mov         r3, #0
  03ae8	e58d3028	 str         r3, [sp, #0x28]
  03aec		 |$LN25@CANCreateC|

; 1816 :         ASSERT(0);

  03aec	ea000002	 b           |$LN26@CANCreateC|
  03af0	e3a03001	 mov         r3, #1
  03af4	e58d302c	 str         r3, [sp, #0x2C]
  03af8	ea000008	 b           |$LN27@CANCreateC|
  03afc		 |$LN26@CANCreateC|
  03afc	e3a03c07	 mov         r3, #7, 24
  03b00	e3833018	 orr         r3, r3, #0x18
  03b04	e59f20fc	 ldr         r2, [pc, #0xFC]
  03b08	e59f10f4	 ldr         r1, [pc, #0xF4]
  03b0c	e59f00ec	 ldr         r0, [pc, #0xEC]
  03b10	eb000000	 bl          NKDbgPrintfW
  03b14	e6000010	 __debugbreak_ce
  03b18	e3a03000	 mov         r3, #0
  03b1c	e58d302c	 str         r3, [sp, #0x2C]
  03b20		 |$LN27@CANCreateC|

; 1817 :         goto error;

  03b20	ea000028	 b           |$LN3@CANCreateC|
  03b24	ea000027	 b           |$error$37506|
  03b28		 |$LN4@CANCreateC|

; 1818 :     }
; 1819 : 
; 1820 :     
; 1821 : 
; 1822 :     PushElement((PSLE*)&pDevice->ClassFilterList,&pNewClassFilter->sle);

  03b28	e59d1008	 ldr         r1, [sp, #8]
  03b2c	e59d3000	 ldr         r3, [sp]
  03b30	e28300d8	 add         r0, r3, #0xD8
  03b34	eb000000	 bl          |?PushElement@@YAXPAPAU_SLE@@PAU1@@Z|

; 1823 :     
; 1824 :     pDevice->RxMailboxMask |= filterMailboxMask;

  03b38	e59d3000	 ldr         r3, [sp]
  03b3c	e28330c8	 add         r3, r3, #0xC8
  03b40	e5932000	 ldr         r2, [r3]
  03b44	e59d300c	 ldr         r3, [sp, #0xC]
  03b48	e1822003	 orr         r2, r2, r3
  03b4c	e59d3000	 ldr         r3, [sp]
  03b50	e28330c8	 add         r3, r3, #0xC8
  03b54	e5832000	 str         r2, [r3]

; 1825 :     pDevice->FreeMailboxMask &= ~(filterMailboxMask);

  03b58	e59d3000	 ldr         r3, [sp]
  03b5c	e28310c4	 add         r1, r3, #0xC4
  03b60	e59d300c	 ldr         r3, [sp, #0xC]
  03b64	e1e02003	 mvn         r2, r3
  03b68	e5913000	 ldr         r3, [r1]
  03b6c	e0032002	 and         r2, r3, r2
  03b70	e59d3000	 ldr         r3, [sp]
  03b74	e28330c4	 add         r3, r3, #0xC4
  03b78	e5832000	 str         r2, [r3]

; 1826 :     pNewClassFilter->mailboxMask = filterMailboxMask;

  03b7c	e59d3008	 ldr         r3, [sp, #8]
  03b80	e2832014	 add         r2, r3, #0x14
  03b84	e59d300c	 ldr         r3, [sp, #0xC]
  03b88	e5823000	 str         r3, [r2]

; 1827 : 
; 1828 :     if (fEnabled)

  03b8c	e59d3044	 ldr         r3, [sp, #0x44]
  03b90	e3530000	 cmp         r3, #0
  03b94	0a000005	 beq         |$LN2@CANCreateC|

; 1829 :     {
; 1830 :         ConfigureMailboxAndAcceptanceFilter(pDevice,pNewClassFilter->mailboxMask,pClassFilterIn);

  03b98	e59d203c	 ldr         r2, [sp, #0x3C]
  03b9c	e59d3008	 ldr         r3, [sp, #8]
  03ba0	e2833014	 add         r3, r3, #0x14
  03ba4	e5931000	 ldr         r1, [r3]
  03ba8	e59d0000	 ldr         r0, [sp]
  03bac	eb000000	 bl          |?ConfigureMailboxAndAcceptanceFilter@@YAXPAUT_CAN_DEVICE@@IPAUCLASS_FILTER@@@Z|
  03bb0		 |$LN2@CANCreateC|

; 1831 :     }
; 1832 : 
; 1833 : 
; 1834 : 
; 1835 :     
; 1836 :     LeaveCriticalSection(&pDevice->regcs);

  03bb0	e59d3000	 ldr         r3, [sp]
  03bb4	e2830030	 add         r0, r3, #0x30
  03bb8	eb000000	 bl          LeaveCriticalSection

; 1837 :     return TRUE;

  03bbc	e3a03001	 mov         r3, #1
  03bc0	e58d3014	 str         r3, [sp, #0x14]
  03bc4	ea000009	 b           |$LN16@CANCreateC|
  03bc8		 |$LN3@CANCreateC|
  03bc8		 |$LN10@CANCreateC|
  03bc8		 |$LN12@CANCreateC|
  03bc8		 |$error$37506|

; 1838 : error:
; 1839 :     if (pNewClassFilter)

  03bc8	e59d3008	 ldr         r3, [sp, #8]
  03bcc	e3530000	 cmp         r3, #0
  03bd0	0a000001	 beq         |$LN1@CANCreateC|

; 1840 :     {
; 1841 :         LocalFree(pNewClassFilter);

  03bd4	e59d0008	 ldr         r0, [sp, #8]
  03bd8	eb000000	 bl          LocalFree
  03bdc		 |$LN1@CANCreateC|

; 1842 :     }
; 1843 :     LeaveCriticalSection(&pDevice->regcs);

  03bdc	e59d3000	 ldr         r3, [sp]
  03be0	e2830030	 add         r0, r3, #0x30
  03be4	eb000000	 bl          LeaveCriticalSection

; 1844 :     return FALSE;

  03be8	e3a03000	 mov         r3, #0
  03bec	e58d3014	 str         r3, [sp, #0x14]
  03bf0		 |$LN16@CANCreateC|

; 1845 : 
; 1846 : }

  03bf0	e59d0014	 ldr         r0, [sp, #0x14]
  03bf4	e28dd030	 add         sp, sp, #0x30
  03bf8	e89d6000	 ldmia       sp, {sp, lr}
  03bfc	e12fff1e	 bx          lr
  03c00		 |$LN31@CANCreateC|
  03c00		 |$LN32@CANCreateC|
  03c00	00000000	 DCD         |??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  03c04		 |$LN33@CANCreateC|
  03c04	00000000	 DCD         |??_C@_1BA@LEPJIIOK@?$AAU?$AAn?$AAk?$AAn?$AAo?$AAw?$AAn?$AA?$AA@|
  03c08		 |$LN34@CANCreateC|
  03c08	00000000	 DCD         |??_C@_1KA@HGKICKLA@?$AAC?$AA?3?$AA?2?$AAW?$AAI?$AAN?$AAC?$AAE?$AA6?$AA0?$AA0?$AA?2?$AAP?$AAL?$AAA?$AAT?$AAF?$AAO?$AAR?$AAM?$AA?2?$AAC?$AAO?$AAM?$AAM?$AAO?$AAN?$AA?2?$AAS?$AAR?$AAC?$AA?2@|
  03c0c		 |$LN35@CANCreateC|
  03c0c	00000000	 DCD         |??_C@_1DG@FNCLOOFM@?$AAT?$AAh?$AAi?$AAs?$AA?5?$AAs?$AAh?$AAo?$AAu?$AAl?$AAd?$AA?5?$AAn?$AAe?$AAv?$AAe?$AAr?$AA?5?$AAh?$AAa?$AAp?$AAp?$AAe?$AAn?$AA?$AN?$AA?6?$AA?$AA@|
  03c10		 |$LN36@CANCreateC|
  03c10	00000000	 DCD         |??_C@_1CI@OHCJFJPM@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AA?$CF?$AAs?$AA?5?$AAl?$AAi?$AAn?$AAe?$AA?5?$AA?$CF?$AAd?$AA?3?$AA?5?$AA?$AA@|
  03c14		 |$LN37@CANCreateC|
  03c14	00000000	 DCD         |RxPriorityMlbxCount|
  03c18		 |$LN38@CANCreateC|
  03c18	00000000	 DCD         |??_C@_1EM@OJAGADIH@?$AAU?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AAa?$AAl?$AAl?$AAo?$AAc?$AAa?$AAt?$AAe?$AA?5?$AA?5?$AAp?$AAN?$AAe?$AAw?$AAC?$AAl?$AAa?$AAs?$AAs?$AAF?$AAi?$AAl@|
  03c1c		 |$LN39@CANCreateC|
  03c1c	00000000	 DCD         |??_C@_1GC@OBNJIOJG@?$AAN?$AAo?$AAt?$AA?5?$AAe?$AAn?$AAo?$AAu?$AAg?$AAh?$AA?5?$AAM?$AAa?$AAi?$AAl?$AAb?$AAo?$AAx?$AAe?$AAs?$AA?5?$AAt?$AAo?$AA?5?$AAi?$AAm?$AAp?$AAl?$AAe?$AAm?$AAe?$AAn@|
  03c20		 |$LN40@CANCreateC|
  03c20	00000000	 DCD         |??_C@_1CM@FJIEIHHP@?$AAI?$AAn?$AAv?$AAa?$AAl?$AAi?$AAd?$AA?5?$AAR?$AAX?$AA?5?$AAp?$AAr?$AAi?$AAo?$AAr?$AAi?$AAt?$AAy?$AA?$AN?$AA?6?$AA?$AA@|
  03c24		 |$M38181|

			 ENDP  ; |?CANCreateClassFilter@@YAHPAXPAUCLASS_FILTER@@W4RXCAN_PRIORITY@@H@Z|, CANCreateClassFilter


  00140			 AREA	 |.pdata|, PDATA
|$T38198| DCD	|$LN9@PushElemen|
	DCD	0x40002204
; Function compile flags: /Odtp

  03c24			 AREA	 |.text|, CODE, ARM

  03c24		 |?PushElement@@YAXPAPAU_SLE@@PAU1@@Z| PROC ; PushElement

; 91   : {

  03c24		 |$LN9@PushElemen|
  03c24	e1a0c00d	 mov         r12, sp
  03c28	e92d0003	 stmdb       sp!, {r0, r1}
  03c2c	e92d5000	 stmdb       sp!, {r12, lr}
  03c30	e24dd00c	 sub         sp, sp, #0xC
  03c34		 |$M38195|

; 92   :     PSLE current;
; 93   :     PSLE previous;
; 94   :     if (*head == NULL)

  03c34	e59d3014	 ldr         r3, [sp, #0x14]
  03c38	e5933000	 ldr         r3, [r3]
  03c3c	e3530000	 cmp         r3, #0
  03c40	1a000003	 bne         |$LN4@PushElemen|

; 95   :     {
; 96   :         *head = pSle;

  03c44	e59d2018	 ldr         r2, [sp, #0x18]
  03c48	e59d3014	 ldr         r3, [sp, #0x14]
  03c4c	e5832000	 str         r2, [r3]

; 97   :         return;

  03c50	ea000012	 b           |$LN5@PushElemen|
  03c54		 |$LN4@PushElemen|

; 98   :     }
; 99   :     current = *head;

  03c54	e59d3014	 ldr         r3, [sp, #0x14]
  03c58	e5933000	 ldr         r3, [r3]
  03c5c	e58d3004	 str         r3, [sp, #4]
  03c60		 |$LN3@PushElemen|

; 100  :     do 
; 101  :     {
; 102  :         previous = current;

  03c60	e59d3004	 ldr         r3, [sp, #4]
  03c64	e58d3000	 str         r3, [sp]

; 103  :         current = NextElement(current);

  03c68	e59d0004	 ldr         r0, [sp, #4]
  03c6c	eb000000	 bl          |?NextElement@@YAPAU_SLE@@PAU1@@Z|
  03c70	e58d0008	 str         r0, [sp, #8]
  03c74	e59d3008	 ldr         r3, [sp, #8]
  03c78	e58d3004	 str         r3, [sp, #4]

; 104  :     }
; 105  :     while (current);

  03c7c	e59d3004	 ldr         r3, [sp, #4]
  03c80	e3530000	 cmp         r3, #0
  03c84	1afffff5	 bne         |$LN3@PushElemen|

; 106  :     pSle->pNext = NULL;

  03c88	e59d2018	 ldr         r2, [sp, #0x18]
  03c8c	e3a03000	 mov         r3, #0
  03c90	e5823000	 str         r3, [r2]

; 107  :     previous->pNext = pSle;

  03c94	e59d2018	 ldr         r2, [sp, #0x18]
  03c98	e59d3000	 ldr         r3, [sp]
  03c9c	e5832000	 str         r2, [r3]
  03ca0		 |$LN5@PushElemen|

; 108  : }

  03ca0	e28dd00c	 add         sp, sp, #0xC
  03ca4	e89d6000	 ldmia       sp, {sp, lr}
  03ca8	e12fff1e	 bx          lr
  03cac		 |$M38196|

			 ENDP  ; |?PushElement@@YAXPAPAU_SLE@@PAU1@@Z|, PushElement

	EXPORT	|?FindClassFilterInstance@@YAPAUCLASS_FILTER_INTERNAL@@PAUT_CAN_DEVICE@@PAUCLASS_FILTER@@@Z| ; FindClassFilterInstance

  00148			 AREA	 |.pdata|, PDATA
|$T38204| DCD	|$LN9@FindClassF@2|
	DCD	0x40002f04
; Function compile flags: /Odtp

  03cac			 AREA	 |.text|, CODE, ARM

  03cac		 |?FindClassFilterInstance@@YAPAUCLASS_FILTER_INTERNAL@@PAUT_CAN_DEVICE@@PAUCLASS_FILTER@@@Z| PROC ; FindClassFilterInstance

; 1850 : {

  03cac		 |$LN9@FindClassF@2|
  03cac	e1a0c00d	 mov         r12, sp
  03cb0	e92d0003	 stmdb       sp!, {r0, r1}
  03cb4	e92d5000	 stmdb       sp!, {r12, lr}
  03cb8	e24dd00c	 sub         sp, sp, #0xC
  03cbc		 |$M38201|

; 1851 :     CLASS_FILTER_INTERNAL* pCurrent = pDevice->ClassFilterList;

  03cbc	e59d3014	 ldr         r3, [sp, #0x14]
  03cc0	e28330d8	 add         r3, r3, #0xD8
  03cc4	e5933000	 ldr         r3, [r3]
  03cc8	e58d3000	 str         r3, [sp]

; 1852 :     if (pClassFilter == NULL)

  03ccc	e59d3018	 ldr         r3, [sp, #0x18]
  03cd0	e3530000	 cmp         r3, #0
  03cd4	1a000002	 bne         |$LN4@FindClassF@2|

; 1853 :     {
; 1854 :         return NULL;

  03cd8	e3a03000	 mov         r3, #0
  03cdc	e58d3004	 str         r3, [sp, #4]
  03ce0	ea00001c	 b           |$LN5@FindClassF@2|
  03ce4		 |$LN4@FindClassF@2|
  03ce4		 |$LN3@FindClassF@2|

; 1855 :     }
; 1856 :     while (pCurrent)

  03ce4	e59d3000	 ldr         r3, [sp]
  03ce8	e3530000	 cmp         r3, #0
  03cec	0a000017	 beq         |$LN2@FindClassF@2|

; 1857 :     {
; 1858 :         if ((pCurrent->classFilter.id.u32 == pClassFilter->id.u32)&&(pCurrent->classFilter.mask.u32 == pClassFilter->mask.u32))

  03cf0	e59d3000	 ldr         r3, [sp]
  03cf4	e2833004	 add         r3, r3, #4
  03cf8	e5932000	 ldr         r2, [r3]
  03cfc	e59d3018	 ldr         r3, [sp, #0x18]
  03d00	e5933000	 ldr         r3, [r3]
  03d04	e1520003	 cmp         r2, r3
  03d08	1a00000a	 bne         |$LN1@FindClassF@2|
  03d0c	e59d3000	 ldr         r3, [sp]
  03d10	e2832008	 add         r2, r3, #8
  03d14	e59d3018	 ldr         r3, [sp, #0x18]
  03d18	e2833004	 add         r3, r3, #4
  03d1c	e5922000	 ldr         r2, [r2]
  03d20	e5933000	 ldr         r3, [r3]
  03d24	e1520003	 cmp         r2, r3
  03d28	1a000002	 bne         |$LN1@FindClassF@2|

; 1859 :         {
; 1860 :             return pCurrent;

  03d2c	e59d3000	 ldr         r3, [sp]
  03d30	e58d3004	 str         r3, [sp, #4]
  03d34	ea000007	 b           |$LN5@FindClassF@2|
  03d38		 |$LN1@FindClassF@2|

; 1861 :         }
; 1862 :         pCurrent = (CLASS_FILTER_INTERNAL*) NextElement(&pCurrent->sle);

  03d38	e59d0000	 ldr         r0, [sp]
  03d3c	eb000000	 bl          |?NextElement@@YAPAU_SLE@@PAU1@@Z|
  03d40	e58d0008	 str         r0, [sp, #8]
  03d44	e59d3008	 ldr         r3, [sp, #8]
  03d48	e58d3000	 str         r3, [sp]

; 1863 :       
; 1864 : 
; 1865 :     }    

  03d4c	eaffffe4	 b           |$LN3@FindClassF@2|
  03d50		 |$LN2@FindClassF@2|

; 1866 :     return NULL;

  03d50	e3a03000	 mov         r3, #0
  03d54	e58d3004	 str         r3, [sp, #4]
  03d58		 |$LN5@FindClassF@2|

; 1867 : }

  03d58	e59d0004	 ldr         r0, [sp, #4]
  03d5c	e28dd00c	 add         sp, sp, #0xC
  03d60	e89d6000	 ldmia       sp, {sp, lr}
  03d64	e12fff1e	 bx          lr
  03d68		 |$M38202|

			 ENDP  ; |?FindClassFilterInstance@@YAPAUCLASS_FILTER_INTERNAL@@PAUT_CAN_DEVICE@@PAUCLASS_FILTER@@@Z|, FindClassFilterInstance


  00150			 AREA	 |.pdata|, PDATA
|$T38210| DCD	|$LN8@CANDeleteC|
	DCD	0x40005a04
; Function compile flags: /Odtp

  03d68			 AREA	 |.text|, CODE, ARM

  03d68		 |?CANDeleteClassFilter@@YAHPAXPAUCLASS_FILTER@@@Z| PROC ; CANDeleteClassFilter

; 1871 : {

  03d68		 |$LN8@CANDeleteC|
  03d68	e1a0c00d	 mov         r12, sp
  03d6c	e92d0003	 stmdb       sp!, {r0, r1}
  03d70	e92d5000	 stmdb       sp!, {r12, lr}
  03d74	e24dd01c	 sub         sp, sp, #0x1C
  03d78		 |$M38207|

; 1872 :     T_CAN_DEVICE *pDevice = (T_CAN_DEVICE*) ctxt;

  03d78	e59d3024	 ldr         r3, [sp, #0x24]
  03d7c	e58d3000	 str         r3, [sp]

; 1873 :     CLASS_FILTER_INTERNAL* pClassFilterInstance;
; 1874 :     SUBCLASS_FILTER_INTERNAL* pCurrentSubClassFilter;
; 1875 : 
; 1876 :     EnterCriticalSection(&pDevice->regcs);

  03d80	e59d3000	 ldr         r3, [sp]
  03d84	e2830030	 add         r0, r3, #0x30
  03d88	eb000000	 bl          EnterCriticalSection

; 1877 :     pClassFilterInstance = FindClassFilterInstance(pDevice,pClassFilterIn);

  03d8c	e59d1028	 ldr         r1, [sp, #0x28]
  03d90	e59d0000	 ldr         r0, [sp]
  03d94	eb000000	 bl          |?FindClassFilterInstance@@YAPAUCLASS_FILTER_INTERNAL@@PAUT_CAN_DEVICE@@PAUCLASS_FILTER@@@Z|
  03d98	e58d0014	 str         r0, [sp, #0x14]
  03d9c	e59d3014	 ldr         r3, [sp, #0x14]
  03da0	e58d3008	 str         r3, [sp, #8]

; 1878 :     if (pClassFilterInstance == NULL)

  03da4	e59d3008	 ldr         r3, [sp, #8]
  03da8	e3530000	 cmp         r3, #0
  03dac	1a000005	 bne         |$LN3@CANDeleteC|

; 1879 :     {
; 1880 :         LeaveCriticalSection(&pDevice->regcs);

  03db0	e59d3000	 ldr         r3, [sp]
  03db4	e2830030	 add         r0, r3, #0x30
  03db8	eb000000	 bl          LeaveCriticalSection

; 1881 :         return FALSE;

  03dbc	e3a03000	 mov         r3, #0
  03dc0	e58d3010	 str         r3, [sp, #0x10]
  03dc4	ea00003d	 b           |$LN4@CANDeleteC|
  03dc8		 |$LN3@CANDeleteC|

; 1882 :     }
; 1883 : 
; 1884 :     RemoveElement((PSLE*) &pDevice->ClassFilterList,&pClassFilterInstance->sle);

  03dc8	e59d1008	 ldr         r1, [sp, #8]
  03dcc	e59d3000	 ldr         r3, [sp]
  03dd0	e28300d8	 add         r0, r3, #0xD8
  03dd4	eb000000	 bl          |?RemoveElement@@YAXPAPAU_SLE@@PAU1@@Z|

; 1885 :     
; 1886 :     CLRREG32(&pDevice->pCanRegs->CANME,pClassFilterInstance->mailboxMask);    

  03dd8	e59d3000	 ldr         r3, [sp]
  03ddc	e283302c	 add         r3, r3, #0x2C
  03de0	e5931000	 ldr         r1, [r3]
  03de4	e59d3008	 ldr         r3, [sp, #8]
  03de8	e2833014	 add         r3, r3, #0x14
  03dec	e5933000	 ldr         r3, [r3]
  03df0	e1e02003	 mvn         r2, r3
  03df4	e5913000	 ldr         r3, [r1]
  03df8	e0032002	 and         r2, r3, r2
  03dfc	e59d3000	 ldr         r3, [sp]
  03e00	e283302c	 add         r3, r3, #0x2C
  03e04	e5933000	 ldr         r3, [r3]
  03e08	e5832000	 str         r2, [r3]

; 1887 :     pDevice->FreeMailboxMask |= (pClassFilterInstance->mailboxMask);

  03e0c	e59d3000	 ldr         r3, [sp]
  03e10	e28320c4	 add         r2, r3, #0xC4
  03e14	e59d3008	 ldr         r3, [sp, #8]
  03e18	e2833014	 add         r3, r3, #0x14
  03e1c	e5922000	 ldr         r2, [r2]
  03e20	e5933000	 ldr         r3, [r3]
  03e24	e1822003	 orr         r2, r2, r3
  03e28	e59d3000	 ldr         r3, [sp]
  03e2c	e28330c4	 add         r3, r3, #0xC4
  03e30	e5832000	 str         r2, [r3]

; 1888 :     pDevice->RxMailboxMask &= ~pClassFilterInstance->mailboxMask;

  03e34	e59d3000	 ldr         r3, [sp]
  03e38	e28310c8	 add         r1, r3, #0xC8
  03e3c	e59d3008	 ldr         r3, [sp, #8]
  03e40	e2833014	 add         r3, r3, #0x14
  03e44	e5933000	 ldr         r3, [r3]
  03e48	e1e02003	 mvn         r2, r3
  03e4c	e5913000	 ldr         r3, [r1]
  03e50	e0032002	 and         r2, r3, r2
  03e54	e59d3000	 ldr         r3, [sp]
  03e58	e28330c8	 add         r3, r3, #0xC8
  03e5c	e5832000	 str         r2, [r3]

; 1889 :     LeaveCriticalSection(&pDevice->regcs);

  03e60	e59d3000	 ldr         r3, [sp]
  03e64	e2830030	 add         r0, r3, #0x30
  03e68	eb000000	 bl          LeaveCriticalSection

; 1890 : 
; 1891 :    pCurrentSubClassFilter = pClassFilterInstance->subFilter;

  03e6c	e59d3008	 ldr         r3, [sp, #8]
  03e70	e283300c	 add         r3, r3, #0xC
  03e74	e5933000	 ldr         r3, [r3]
  03e78	e58d3004	 str         r3, [sp, #4]
  03e7c		 |$LN2@CANDeleteC|

; 1892 :     while (pCurrentSubClassFilter)

  03e7c	e59d3004	 ldr         r3, [sp, #4]
  03e80	e3530000	 cmp         r3, #0
  03e84	0a000009	 beq         |$LN1@CANDeleteC|

; 1893 :     {
; 1894 :         SUBCLASS_FILTER_INTERNAL* pNext;
; 1895 :         pNext = (SUBCLASS_FILTER_INTERNAL*) NextElement(&pCurrentSubClassFilter->sle);

  03e88	e59d0004	 ldr         r0, [sp, #4]
  03e8c	eb000000	 bl          |?NextElement@@YAPAU_SLE@@PAU1@@Z|
  03e90	e58d0018	 str         r0, [sp, #0x18]
  03e94	e59d3018	 ldr         r3, [sp, #0x18]
  03e98	e58d300c	 str         r3, [sp, #0xC]

; 1896 :         LocalFree(pCurrentSubClassFilter);

  03e9c	e59d0004	 ldr         r0, [sp, #4]
  03ea0	eb000000	 bl          LocalFree

; 1897 :         pCurrentSubClassFilter = pNext;

  03ea4	e59d300c	 ldr         r3, [sp, #0xC]
  03ea8	e58d3004	 str         r3, [sp, #4]

; 1898 :     }

  03eac	eafffff2	 b           |$LN2@CANDeleteC|
  03eb0		 |$LN1@CANDeleteC|

; 1899 :     LocalFree(pClassFilterInstance);

  03eb0	e59d0008	 ldr         r0, [sp, #8]
  03eb4	eb000000	 bl          LocalFree

; 1900 :     return TRUE;

  03eb8	e3a03001	 mov         r3, #1
  03ebc	e58d3010	 str         r3, [sp, #0x10]
  03ec0		 |$LN4@CANDeleteC|

; 1901 : }

  03ec0	e59d0010	 ldr         r0, [sp, #0x10]
  03ec4	e28dd01c	 add         sp, sp, #0x1C
  03ec8	e89d6000	 ldmia       sp, {sp, lr}
  03ecc	e12fff1e	 bx          lr
  03ed0		 |$M38208|

			 ENDP  ; |?CANDeleteClassFilter@@YAHPAXPAUCLASS_FILTER@@@Z|, CANDeleteClassFilter


  00158			 AREA	 |.pdata|, PDATA
|$T38215| DCD	|$LN10@RemoveElem|
	DCD	0x40002c04
; Function compile flags: /Odtp

  03ed0			 AREA	 |.text|, CODE, ARM

  03ed0		 |?RemoveElement@@YAXPAPAU_SLE@@PAU1@@Z| PROC ; RemoveElement

; 111  : {

  03ed0		 |$LN10@RemoveElem|
  03ed0	e1a0c00d	 mov         r12, sp
  03ed4	e92d0003	 stmdb       sp!, {r0, r1}
  03ed8	e92d5000	 stmdb       sp!, {r12, lr}
  03edc	e24dd00c	 sub         sp, sp, #0xC
  03ee0		 |$M38212|

; 112  :     PSLE current;
; 113  :     PSLE next;
; 114  :     if (*head == NULL)

  03ee0	e59d3014	 ldr         r3, [sp, #0x14]
  03ee4	e5933000	 ldr         r3, [r3]
  03ee8	e3530000	 cmp         r3, #0
  03eec	1a000000	 bne         |$LN5@RemoveElem|

; 115  :     {        
; 116  :         return;

  03ef0	ea00001f	 b           |$LN6@RemoveElem|
  03ef4		 |$LN5@RemoveElem|

; 117  :     }
; 118  :     current = *head;

  03ef4	e59d3014	 ldr         r3, [sp, #0x14]
  03ef8	e5933000	 ldr         r3, [r3]
  03efc	e58d3000	 str         r3, [sp]

; 119  :     if (current == pSle)

  03f00	e59d2000	 ldr         r2, [sp]
  03f04	e59d3018	 ldr         r3, [sp, #0x18]
  03f08	e1520003	 cmp         r2, r3
  03f0c	1a000004	 bne         |$LN4@RemoveElem|

; 120  :     {
; 121  :         *head = current->pNext;

  03f10	e59d3000	 ldr         r3, [sp]
  03f14	e5932000	 ldr         r2, [r3]
  03f18	e59d3014	 ldr         r3, [sp, #0x14]
  03f1c	e5832000	 str         r2, [r3]

; 122  :         return;

  03f20	ea000013	 b           |$LN6@RemoveElem|
  03f24		 |$LN4@RemoveElem|
  03f24		 |$LN3@RemoveElem|

; 123  :     }
; 124  :     while (current)

  03f24	e59d3000	 ldr         r3, [sp]
  03f28	e3530000	 cmp         r3, #0
  03f2c	0a000010	 beq         |$LN2@RemoveElem|

; 125  :     {
; 126  :         next = NextElement(current);

  03f30	e59d0000	 ldr         r0, [sp]
  03f34	eb000000	 bl          |?NextElement@@YAPAU_SLE@@PAU1@@Z|
  03f38	e58d0008	 str         r0, [sp, #8]
  03f3c	e59d3008	 ldr         r3, [sp, #8]
  03f40	e58d3004	 str         r3, [sp, #4]

; 127  :         if (next == pSle)

  03f44	e59d2004	 ldr         r2, [sp, #4]
  03f48	e59d3018	 ldr         r3, [sp, #0x18]
  03f4c	e1520003	 cmp         r2, r3
  03f50	1a000004	 bne         |$LN1@RemoveElem|

; 128  :         {
; 129  :             current->pNext = next->pNext;

  03f54	e59d3004	 ldr         r3, [sp, #4]
  03f58	e5932000	 ldr         r2, [r3]
  03f5c	e59d3000	 ldr         r3, [sp]
  03f60	e5832000	 str         r2, [r3]

; 130  :             break;

  03f64	ea000002	 b           |$LN2@RemoveElem|
  03f68		 |$LN1@RemoveElem|

; 131  :         }
; 132  :         current = next;

  03f68	e59d3004	 ldr         r3, [sp, #4]
  03f6c	e58d3000	 str         r3, [sp]

; 133  :     }    

  03f70	eaffffeb	 b           |$LN3@RemoveElem|
  03f74		 |$LN2@RemoveElem|
  03f74		 |$LN6@RemoveElem|

; 134  : }

  03f74	e28dd00c	 add         sp, sp, #0xC
  03f78	e89d6000	 ldmia       sp, {sp, lr}
  03f7c	e12fff1e	 bx          lr
  03f80		 |$M38213|

			 ENDP  ; |?RemoveElement@@YAXPAPAU_SLE@@PAU1@@Z|, RemoveElement


  00160			 AREA	 |.pdata|, PDATA
|$T38221| DCD	|$LN9@CANEnableC|
	DCD	0x40003904
; Function compile flags: /Odtp

  03f80			 AREA	 |.text|, CODE, ARM

  03f80		 |?CANEnableClassFilter@@YAHPAXPAUCLASS_FILTER@@H@Z| PROC ; CANEnableClassFilter

; 1904 : {

  03f80		 |$LN9@CANEnableC|
  03f80	e1a0c00d	 mov         r12, sp
  03f84	e92d0007	 stmdb       sp!, {r0 - r2}
  03f88	e92d5000	 stmdb       sp!, {r12, lr}
  03f8c	e24dd010	 sub         sp, sp, #0x10
  03f90		 |$M38218|

; 1905 :     T_CAN_DEVICE *pDevice = (T_CAN_DEVICE*) ctxt;

  03f90	e59d3018	 ldr         r3, [sp, #0x18]
  03f94	e58d3000	 str         r3, [sp]

; 1906 :     CLASS_FILTER_INTERNAL* pClassFilterInstance;
; 1907 : 
; 1908 :     EnterCriticalSection(&pDevice->regcs);

  03f98	e59d3000	 ldr         r3, [sp]
  03f9c	e2830030	 add         r0, r3, #0x30
  03fa0	eb000000	 bl          EnterCriticalSection

; 1909 :     pClassFilterInstance = FindClassFilterInstance(pDevice,pClassFilterIn);

  03fa4	e59d101c	 ldr         r1, [sp, #0x1C]
  03fa8	e59d0000	 ldr         r0, [sp]
  03fac	eb000000	 bl          |?FindClassFilterInstance@@YAPAUCLASS_FILTER_INTERNAL@@PAUT_CAN_DEVICE@@PAUCLASS_FILTER@@@Z|
  03fb0	e58d000c	 str         r0, [sp, #0xC]
  03fb4	e59d300c	 ldr         r3, [sp, #0xC]
  03fb8	e58d3004	 str         r3, [sp, #4]

; 1910 :     if (pClassFilterInstance)

  03fbc	e59d3004	 ldr         r3, [sp, #4]
  03fc0	e3530000	 cmp         r3, #0
  03fc4	0a00001d	 beq         |$LN4@CANEnableC|

; 1911 :     {
; 1912 :         if (fEnabled)

  03fc8	e59d3020	 ldr         r3, [sp, #0x20]
  03fcc	e3530000	 cmp         r3, #0
  03fd0	0a000006	 beq         |$LN3@CANEnableC|

; 1913 :         {
; 1914 :             ConfigureMailboxAndAcceptanceFilter(pDevice,pClassFilterInstance->mailboxMask,pClassFilterIn);

  03fd4	e59d201c	 ldr         r2, [sp, #0x1C]
  03fd8	e59d3004	 ldr         r3, [sp, #4]
  03fdc	e2833014	 add         r3, r3, #0x14
  03fe0	e5931000	 ldr         r1, [r3]
  03fe4	e59d0000	 ldr         r0, [sp]
  03fe8	eb000000	 bl          |?ConfigureMailboxAndAcceptanceFilter@@YAXPAUT_CAN_DEVICE@@IPAUCLASS_FILTER@@@Z|

; 1915 :         }
; 1916 :         else

  03fec	ea00000c	 b           |$LN2@CANEnableC|
  03ff0		 |$LN3@CANEnableC|

; 1917 :         {            
; 1918 :             CLRREG32(&pDevice->pCanRegs->CANME,pClassFilterInstance->mailboxMask);

  03ff0	e59d3000	 ldr         r3, [sp]
  03ff4	e283302c	 add         r3, r3, #0x2C
  03ff8	e5931000	 ldr         r1, [r3]
  03ffc	e59d3004	 ldr         r3, [sp, #4]
  04000	e2833014	 add         r3, r3, #0x14
  04004	e5933000	 ldr         r3, [r3]
  04008	e1e02003	 mvn         r2, r3
  0400c	e5913000	 ldr         r3, [r1]
  04010	e0032002	 and         r2, r3, r2
  04014	e59d3000	 ldr         r3, [sp]
  04018	e283302c	 add         r3, r3, #0x2C
  0401c	e5933000	 ldr         r3, [r3]
  04020	e5832000	 str         r2, [r3]
  04024		 |$LN2@CANEnableC|

; 1919 :             
; 1920 :         }
; 1921 :         LeaveCriticalSection(&pDevice->regcs);

  04024	e59d3000	 ldr         r3, [sp]
  04028	e2830030	 add         r0, r3, #0x30
  0402c	eb000000	 bl          LeaveCriticalSection

; 1922 :         return TRUE;

  04030	e3a03001	 mov         r3, #1
  04034	e58d3008	 str         r3, [sp, #8]
  04038	ea000005	 b           |$LN5@CANEnableC|

; 1923 :     }
; 1924 :     else

  0403c	ea000004	 b           |$LN1@CANEnableC|
  04040		 |$LN4@CANEnableC|

; 1925 :     {
; 1926 :         LeaveCriticalSection(&pDevice->regcs);

  04040	e59d3000	 ldr         r3, [sp]
  04044	e2830030	 add         r0, r3, #0x30
  04048	eb000000	 bl          LeaveCriticalSection

; 1927 :         return FALSE;

  0404c	e3a03000	 mov         r3, #0
  04050	e58d3008	 str         r3, [sp, #8]
  04054		 |$LN1@CANEnableC|
  04054		 |$LN5@CANEnableC|

; 1928 :     }
; 1929 : 
; 1930 : }

  04054	e59d0008	 ldr         r0, [sp, #8]
  04058	e28dd010	 add         sp, sp, #0x10
  0405c	e89d6000	 ldmia       sp, {sp, lr}
  04060	e12fff1e	 bx          lr
  04064		 |$M38219|

			 ENDP  ; |?CANEnableClassFilter@@YAHPAXPAUCLASS_FILTER@@H@Z|, CANEnableClassFilter


  00168			 AREA	 |.pdata|, PDATA
|$T38227| DCD	|$LN9@CANAddSubC|
	DCD	0x40004c04
; Function compile flags: /Odtp

  04064			 AREA	 |.text|, CODE, ARM

  04064		 |?CANAddSubClassFilter@@YAHPAXPAUSUBCLASS_FILTER@@@Z| PROC ; CANAddSubClassFilter

; 1934 : {    

  04064		 |$LN9@CANAddSubC|
  04064	e1a0c00d	 mov         r12, sp
  04068	e92d0003	 stmdb       sp!, {r0, r1}
  0406c	e92d5000	 stmdb       sp!, {r12, lr}
  04070	e24dd018	 sub         sp, sp, #0x18
  04074		 |$M38224|

; 1935 :     T_CAN_DEVICE *pDevice = (T_CAN_DEVICE*) ctxt;

  04074	e59d3020	 ldr         r3, [sp, #0x20]
  04078	e58d3000	 str         r3, [sp]

; 1936 :     CLASS_FILTER_INTERNAL* pClassFilterInstance;
; 1937 :     SUBCLASS_FILTER_INTERNAL* pNewSubclassFilter;
; 1938 : 
; 1939 :     pNewSubclassFilter = (SUBCLASS_FILTER_INTERNAL*) LocalAlloc(LPTR,sizeof(SUBCLASS_FILTER_INTERNAL));

  0407c	e3a01010	 mov         r1, #0x10
  04080	e3a00040	 mov         r0, #0x40
  04084	eb000000	 bl          LocalAlloc
  04088	e58d0010	 str         r0, [sp, #0x10]
  0408c	e59d3010	 ldr         r3, [sp, #0x10]
  04090	e58d3008	 str         r3, [sp, #8]

; 1940 :     if (pNewSubclassFilter == NULL)

  04094	e59d3008	 ldr         r3, [sp, #8]
  04098	e3530000	 cmp         r3, #0
  0409c	1a000002	 bne         |$LN4@CANAddSubC|

; 1941 :     {
; 1942 :         return FALSE;

  040a0	e3a03000	 mov         r3, #0
  040a4	e58d300c	 str         r3, [sp, #0xC]
  040a8	ea000035	 b           |$LN5@CANAddSubC|
  040ac		 |$LN4@CANAddSubC|

; 1943 :     }
; 1944 :     pNewSubclassFilter->enabled = TRUE;

  040ac	e59d3008	 ldr         r3, [sp, #8]
  040b0	e283200c	 add         r2, r3, #0xC
  040b4	e3a03001	 mov         r3, #1
  040b8	e5823000	 str         r3, [r2]

; 1945 :     pNewSubclassFilter->id.u32 = pSubclassFilter->id.u32 & pSubclassFilter->mask.u32;

  040bc	e59d3024	 ldr         r3, [sp, #0x24]
  040c0	e2832008	 add         r2, r3, #8
  040c4	e59d3024	 ldr         r3, [sp, #0x24]
  040c8	e283300c	 add         r3, r3, #0xC
  040cc	e5922000	 ldr         r2, [r2]
  040d0	e5933000	 ldr         r3, [r3]
  040d4	e0022003	 and         r2, r2, r3
  040d8	e59d3008	 ldr         r3, [sp, #8]
  040dc	e2833004	 add         r3, r3, #4
  040e0	e5832000	 str         r2, [r3]

; 1946 :     pNewSubclassFilter->mask.u32 = pSubclassFilter->mask.u32;

  040e4	e59d3024	 ldr         r3, [sp, #0x24]
  040e8	e283100c	 add         r1, r3, #0xC
  040ec	e59d3008	 ldr         r3, [sp, #8]
  040f0	e2832008	 add         r2, r3, #8
  040f4	e5913000	 ldr         r3, [r1]
  040f8	e5823000	 str         r3, [r2]

; 1947 : 
; 1948 :     EnterCriticalSection(&pDevice->regcs);

  040fc	e59d3000	 ldr         r3, [sp]
  04100	e2830030	 add         r0, r3, #0x30
  04104	eb000000	 bl          EnterCriticalSection

; 1949 : 
; 1950 :     pClassFilterInstance = FindClassFilterInstance(pDevice,&pSubclassFilter->classFilter);

  04108	e59d1024	 ldr         r1, [sp, #0x24]
  0410c	e59d0000	 ldr         r0, [sp]
  04110	eb000000	 bl          |?FindClassFilterInstance@@YAPAUCLASS_FILTER_INTERNAL@@PAUT_CAN_DEVICE@@PAUCLASS_FILTER@@@Z|
  04114	e58d0014	 str         r0, [sp, #0x14]
  04118	e59d3014	 ldr         r3, [sp, #0x14]
  0411c	e58d3004	 str         r3, [sp, #4]

; 1951 :     if (pClassFilterInstance == NULL)

  04120	e59d3004	 ldr         r3, [sp, #4]
  04124	e3530000	 cmp         r3, #0
  04128	1a000001	 bne         |$LN3@CANAddSubC|
  0412c	ea00000a	 b           |$LN2@CANAddSubC|

; 1952 :     {
; 1953 :         goto error;

  04130	ea000009	 b           |$error$37586|
  04134		 |$LN3@CANAddSubC|

; 1954 :     }
; 1955 :     PushElement((PSLE*)&pClassFilterInstance->subFilter,&pNewSubclassFilter->sle);

  04134	e59d1008	 ldr         r1, [sp, #8]
  04138	e59d3004	 ldr         r3, [sp, #4]
  0413c	e283000c	 add         r0, r3, #0xC
  04140	eb000000	 bl          |?PushElement@@YAXPAPAU_SLE@@PAU1@@Z|

; 1956 : 
; 1957 :     LeaveCriticalSection(&pDevice->regcs);

  04144	e59d3000	 ldr         r3, [sp]
  04148	e2830030	 add         r0, r3, #0x30
  0414c	eb000000	 bl          LeaveCriticalSection

; 1958 :     return TRUE;

  04150	e3a03001	 mov         r3, #1
  04154	e58d300c	 str         r3, [sp, #0xC]
  04158	ea000009	 b           |$LN5@CANAddSubC|
  0415c		 |$LN2@CANAddSubC|
  0415c		 |$error$37586|

; 1959 : error:    
; 1960 :     LeaveCriticalSection(&pDevice->regcs);

  0415c	e59d3000	 ldr         r3, [sp]
  04160	e2830030	 add         r0, r3, #0x30
  04164	eb000000	 bl          LeaveCriticalSection

; 1961 :     if (pNewSubclassFilter)

  04168	e59d3008	 ldr         r3, [sp, #8]
  0416c	e3530000	 cmp         r3, #0
  04170	0a000001	 beq         |$LN1@CANAddSubC|

; 1962 :     {
; 1963 :         LocalFree(pNewSubclassFilter);

  04174	e59d0008	 ldr         r0, [sp, #8]
  04178	eb000000	 bl          LocalFree
  0417c		 |$LN1@CANAddSubC|

; 1964 :     }
; 1965 :     return FALSE;

  0417c	e3a03000	 mov         r3, #0
  04180	e58d300c	 str         r3, [sp, #0xC]
  04184		 |$LN5@CANAddSubC|

; 1966 : }

  04184	e59d000c	 ldr         r0, [sp, #0xC]
  04188	e28dd018	 add         sp, sp, #0x18
  0418c	e89d6000	 ldmia       sp, {sp, lr}
  04190	e12fff1e	 bx          lr
  04194		 |$M38225|

			 ENDP  ; |?CANAddSubClassFilter@@YAHPAXPAUSUBCLASS_FILTER@@@Z|, CANAddSubClassFilter


  00170			 AREA	 |.pdata|, PDATA
|$T38233| DCD	|$LN15@CANRemoveS|
	DCD	0x40006b04
; Function compile flags: /Odtp

  04194			 AREA	 |.text|, CODE, ARM

  04194		 |?CANRemoveSubClassFilter@@YAHPAXPAUSUBCLASS_FILTER@@@Z| PROC ; CANRemoveSubClassFilter

; 1968 : {

  04194		 |$LN15@CANRemoveS|
  04194	e1a0c00d	 mov         r12, sp
  04198	e92d0003	 stmdb       sp!, {r0, r1}
  0419c	e92d5000	 stmdb       sp!, {r12, lr}
  041a0	e24dd024	 sub         sp, sp, #0x24
  041a4		 |$M38230|

; 1969 :     T_CAN_DEVICE *pDevice = (T_CAN_DEVICE*) ctxt;

  041a4	e59d302c	 ldr         r3, [sp, #0x2C]
  041a8	e58d3000	 str         r3, [sp]

; 1970 :     CLASS_FILTER_INTERNAL* pClassFilterInstance;
; 1971 :     SUBCLASS_FILTER_INTERNAL* pCurrent;
; 1972 :     SUBCLASS_FILTER_INTERNAL* pPrevious;
; 1973 : 
; 1974 :     EnterCriticalSection(&pDevice->regcs);

  041ac	e59d3000	 ldr         r3, [sp]
  041b0	e2830030	 add         r0, r3, #0x30
  041b4	eb000000	 bl          EnterCriticalSection

; 1975 : 
; 1976 :     pClassFilterInstance = FindClassFilterInstance(pDevice,&pSubclassFilter->classFilter);

  041b8	e59d1030	 ldr         r1, [sp, #0x30]
  041bc	e59d0000	 ldr         r0, [sp]
  041c0	eb000000	 bl          |?FindClassFilterInstance@@YAPAUCLASS_FILTER_INTERNAL@@PAUT_CAN_DEVICE@@PAUCLASS_FILTER@@@Z|
  041c4	e58d0014	 str         r0, [sp, #0x14]
  041c8	e59d3014	 ldr         r3, [sp, #0x14]
  041cc	e58d3004	 str         r3, [sp, #4]

; 1977 :     if (pClassFilterInstance == NULL)

  041d0	e59d3004	 ldr         r3, [sp, #4]
  041d4	e3530000	 cmp         r3, #0
  041d8	1a000001	 bne         |$LN10@CANRemoveS|
  041dc	ea00004e	 b           |$LN9@CANRemoveS|

; 1978 :     {
; 1979 :         goto error;

  041e0	ea00004d	 b           |$error$37600|
  041e4		 |$LN10@CANRemoveS|

; 1980 :     }
; 1981 : 
; 1982 :     if (pClassFilterInstance->subFilter == NULL)

  041e4	e59d3004	 ldr         r3, [sp, #4]
  041e8	e283300c	 add         r3, r3, #0xC
  041ec	e5933000	 ldr         r3, [r3]
  041f0	e3530000	 cmp         r3, #0
  041f4	1a000001	 bne         |$LN8@CANRemoveS|
  041f8	ea000047	 b           |$LN7@CANRemoveS|

; 1983 :     {
; 1984 :         goto error;

  041fc	ea000046	 b           |$error$37600|
  04200		 |$LN8@CANRemoveS|

; 1985 :     }
; 1986 :     pPrevious = NULL;

  04200	e3a03000	 mov         r3, #0
  04204	e58d3008	 str         r3, [sp, #8]

; 1987 :     pCurrent = pClassFilterInstance->subFilter;

  04208	e59d3004	 ldr         r3, [sp, #4]
  0420c	e283300c	 add         r3, r3, #0xC
  04210	e5933000	 ldr         r3, [r3]
  04214	e58d300c	 str         r3, [sp, #0xC]
  04218		 |$LN6@CANRemoveS|

; 1988 :     while (pCurrent)

  04218	e59d300c	 ldr         r3, [sp, #0xC]
  0421c	e3530000	 cmp         r3, #0
  04220	0a000037	 beq         |$LN5@CANRemoveS|

; 1989 :     {
; 1990 :         if ((pCurrent->id.u32 == (pSubclassFilter->id.u32 & pSubclassFilter->mask.u32)) && 
; 1991 :             (pCurrent->mask.u32 == pSubclassFilter->mask.u32))

  04224	e59d300c	 ldr         r3, [sp, #0xC]
  04228	e2831004	 add         r1, r3, #4
  0422c	e59d3030	 ldr         r3, [sp, #0x30]
  04230	e2832008	 add         r2, r3, #8
  04234	e59d3030	 ldr         r3, [sp, #0x30]
  04238	e283300c	 add         r3, r3, #0xC
  0423c	e5922000	 ldr         r2, [r2]
  04240	e5933000	 ldr         r3, [r3]
  04244	e0022003	 and         r2, r2, r3
  04248	e5913000	 ldr         r3, [r1]
  0424c	e1530002	 cmp         r3, r2
  04250	1a000020	 bne         |$LN4@CANRemoveS|
  04254	e59d300c	 ldr         r3, [sp, #0xC]
  04258	e2832008	 add         r2, r3, #8
  0425c	e59d3030	 ldr         r3, [sp, #0x30]
  04260	e283300c	 add         r3, r3, #0xC
  04264	e5922000	 ldr         r2, [r2]
  04268	e5933000	 ldr         r3, [r3]
  0426c	e1520003	 cmp         r2, r3
  04270	1a000018	 bne         |$LN4@CANRemoveS|

; 1992 :         {
; 1993 :             if (pPrevious)

  04274	e59d3008	 ldr         r3, [sp, #8]
  04278	e3530000	 cmp         r3, #0
  0427c	0a00000a	 beq         |$LN3@CANRemoveS|

; 1994 :             {
; 1995 :                 pPrevious->sle.pNext = NextElement(&pCurrent->sle);

  04280	e59d000c	 ldr         r0, [sp, #0xC]
  04284	eb000000	 bl          |?NextElement@@YAPAU_SLE@@PAU1@@Z|
  04288	e58d0018	 str         r0, [sp, #0x18]
  0428c	e59d2018	 ldr         r2, [sp, #0x18]
  04290	e59d3008	 ldr         r3, [sp, #8]
  04294	e5832000	 str         r2, [r3]

; 1996 :                 LocalFree(pCurrent);

  04298	e59d000c	 ldr         r0, [sp, #0xC]
  0429c	eb000000	 bl          LocalFree

; 1997 :                 pCurrent = pPrevious;

  042a0	e59d3008	 ldr         r3, [sp, #8]
  042a4	e58d300c	 str         r3, [sp, #0xC]

; 1998 :             }
; 1999 :             else

  042a8	ea00000a	 b           |$LN2@CANRemoveS|
  042ac		 |$LN3@CANRemoveS|

; 2000 :             {
; 2001 :                 pClassFilterInstance->subFilter =(SUBCLASS_FILTER_INTERNAL*) NextElement(&pCurrent->sle);

  042ac	e59d000c	 ldr         r0, [sp, #0xC]
  042b0	eb000000	 bl          |?NextElement@@YAPAU_SLE@@PAU1@@Z|
  042b4	e58d001c	 str         r0, [sp, #0x1C]
  042b8	e59d3004	 ldr         r3, [sp, #4]
  042bc	e283200c	 add         r2, r3, #0xC
  042c0	e59d301c	 ldr         r3, [sp, #0x1C]
  042c4	e5823000	 str         r3, [r2]

; 2002 :                 LocalFree(pCurrent);

  042c8	e59d000c	 ldr         r0, [sp, #0xC]
  042cc	eb000000	 bl          LocalFree

; 2003 :                 pCurrent = NULL;

  042d0	e3a03000	 mov         r3, #0
  042d4	e58d300c	 str         r3, [sp, #0xC]
  042d8		 |$LN2@CANRemoveS|
  042d8		 |$LN4@CANRemoveS|

; 2004 :             }
; 2005 :         }
; 2006 :         pPrevious = pCurrent;

  042d8	e59d300c	 ldr         r3, [sp, #0xC]
  042dc	e58d3008	 str         r3, [sp, #8]

; 2007 :         if (pCurrent)

  042e0	e59d300c	 ldr         r3, [sp, #0xC]
  042e4	e3530000	 cmp         r3, #0
  042e8	0a000004	 beq         |$LN1@CANRemoveS|

; 2008 :         {
; 2009 :             pCurrent = (SUBCLASS_FILTER_INTERNAL*) NextElement(&pCurrent->sle);

  042ec	e59d000c	 ldr         r0, [sp, #0xC]
  042f0	eb000000	 bl          |?NextElement@@YAPAU_SLE@@PAU1@@Z|
  042f4	e58d0020	 str         r0, [sp, #0x20]
  042f8	e59d3020	 ldr         r3, [sp, #0x20]
  042fc	e58d300c	 str         r3, [sp, #0xC]
  04300		 |$LN1@CANRemoveS|

; 2010 :         }
; 2011 :     }

  04300	eaffffc4	 b           |$LN6@CANRemoveS|
  04304		 |$LN5@CANRemoveS|

; 2012 : 
; 2013 :     
; 2014 :     LeaveCriticalSection(&pDevice->regcs);

  04304	e59d3000	 ldr         r3, [sp]
  04308	e2830030	 add         r0, r3, #0x30
  0430c	eb000000	 bl          LeaveCriticalSection

; 2015 :     return TRUE;

  04310	e3a03001	 mov         r3, #1
  04314	e58d3010	 str         r3, [sp, #0x10]
  04318	ea000004	 b           |$LN11@CANRemoveS|
  0431c		 |$LN7@CANRemoveS|
  0431c		 |$LN9@CANRemoveS|
  0431c		 |$error$37600|

; 2016 : error:    
; 2017 :     LeaveCriticalSection(&pDevice->regcs);

  0431c	e59d3000	 ldr         r3, [sp]
  04320	e2830030	 add         r0, r3, #0x30
  04324	eb000000	 bl          LeaveCriticalSection

; 2018 :     return FALSE;

  04328	e3a03000	 mov         r3, #0
  0432c	e58d3010	 str         r3, [sp, #0x10]
  04330		 |$LN11@CANRemoveS|

; 2019 : }

  04330	e59d0010	 ldr         r0, [sp, #0x10]
  04334	e28dd024	 add         sp, sp, #0x24
  04338	e89d6000	 ldmia       sp, {sp, lr}
  0433c	e12fff1e	 bx          lr
  04340		 |$M38231|

			 ENDP  ; |?CANRemoveSubClassFilter@@YAHPAXPAUSUBCLASS_FILTER@@@Z|, CANRemoveSubClassFilter


  00178			 AREA	 |.pdata|, PDATA
|$T38239| DCD	|$LN9@CANisIDAcc|
	DCD	0x40002804
; Function compile flags: /Odtp

  04340			 AREA	 |.text|, CODE, ARM

  04340		 |?CANisIDAccepted@@YAHTCAN_ID@@PAUSUBCLASS_FILTER_INTERNAL@@@Z| PROC ; CANisIDAccepted

; 2022 : {    

  04340		 |$LN9@CANisIDAcc|
  04340	e1a0c00d	 mov         r12, sp
  04344	e92d0003	 stmdb       sp!, {r0, r1}
  04348	e92d5000	 stmdb       sp!, {r12, lr}
  0434c	e24dd00c	 sub         sp, sp, #0xC
  04350		 |$M38236|

; 2023 :     SUBCLASS_FILTER_INTERNAL* pCurrent = pList;

  04350	e59d3018	 ldr         r3, [sp, #0x18]
  04354	e58d3000	 str         r3, [sp]

; 2024 :     if (pList == NULL)

  04358	e59d3018	 ldr         r3, [sp, #0x18]
  0435c	e3530000	 cmp         r3, #0
  04360	1a000002	 bne         |$LN4@CANisIDAcc|

; 2025 :     {
; 2026 :         return TRUE;

  04364	e3a03001	 mov         r3, #1
  04368	e58d3004	 str         r3, [sp, #4]
  0436c	ea000017	 b           |$LN5@CANisIDAcc|
  04370		 |$LN4@CANisIDAcc|
  04370		 |$LN3@CANisIDAcc|

; 2027 :     }
; 2028 :     while (pCurrent)

  04370	e59d3000	 ldr         r3, [sp]
  04374	e3530000	 cmp         r3, #0
  04378	0a000012	 beq         |$LN2@CANisIDAcc|

; 2029 :     {   
; 2030 :         if (pCurrent->id.u32  == (id.u32 & pCurrent->mask.u32))

  0437c	e59d3000	 ldr         r3, [sp]
  04380	e2831004	 add         r1, r3, #4
  04384	e59d3000	 ldr         r3, [sp]
  04388	e2833008	 add         r3, r3, #8
  0438c	e59d2014	 ldr         r2, [sp, #0x14]
  04390	e5933000	 ldr         r3, [r3]
  04394	e0022003	 and         r2, r2, r3
  04398	e5913000	 ldr         r3, [r1]
  0439c	e1530002	 cmp         r3, r2
  043a0	1a000002	 bne         |$LN1@CANisIDAcc|

; 2031 :         {
; 2032 :             return TRUE;

  043a4	e3a03001	 mov         r3, #1
  043a8	e58d3004	 str         r3, [sp, #4]
  043ac	ea000007	 b           |$LN5@CANisIDAcc|
  043b0		 |$LN1@CANisIDAcc|

; 2033 :         }
; 2034 :         pCurrent = (SUBCLASS_FILTER_INTERNAL*) NextElement(&pCurrent->sle);

  043b0	e59d0000	 ldr         r0, [sp]
  043b4	eb000000	 bl          |?NextElement@@YAPAU_SLE@@PAU1@@Z|
  043b8	e58d0008	 str         r0, [sp, #8]
  043bc	e59d3008	 ldr         r3, [sp, #8]
  043c0	e58d3000	 str         r3, [sp]

; 2035 :     }

  043c4	eaffffe9	 b           |$LN3@CANisIDAcc|
  043c8		 |$LN2@CANisIDAcc|

; 2036 :     return FALSE;

  043c8	e3a03000	 mov         r3, #0
  043cc	e58d3004	 str         r3, [sp, #4]
  043d0		 |$LN5@CANisIDAcc|

; 2037 : }

  043d0	e59d0004	 ldr         r0, [sp, #4]
  043d4	e28dd00c	 add         sp, sp, #0xC
  043d8	e89d6000	 ldmia       sp, {sp, lr}
  043dc	e12fff1e	 bx          lr
  043e0		 |$M38237|

			 ENDP  ; |?CANisIDAccepted@@YAHTCAN_ID@@PAUSUBCLASS_FILTER_INTERNAL@@@Z|, CANisIDAccepted

	EXPORT	|??_C@_1GE@OEKNAFA@?$AAu?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AAg?$AAe?$AAt?$AA?5?$AAa?$AA?5?$AAf?$AAe?$AAr?$AAe?$AA?5?$AAm?$AAa?$AAi?$AAl?$AAb?$AAo?$AAx?$AA?5?$AAf?$AAo?$AAr@| [ DATA ] ; `string'

  00180			 AREA	 |.pdata|, PDATA
|$T38247| DCD	|$LN12@CANRemoteR|
	DCD	0x40009e04

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1GE@OEKNAFA@?$AAu?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AAg?$AAe?$AAt?$AA?5?$AAa?$AA?5?$AAf?$AAe?$AAr?$AAe?$AA?5?$AAm?$AAa?$AAi?$AAl?$AAb?$AAo?$AAx?$AA?5?$AAf?$AAo?$AAr@| DCB "u"
	DCB	0x0, "n", 0x0, "a", 0x0, "b", 0x0, "l", 0x0, "e", 0x0, " "
	DCB	0x0, "t", 0x0, "o", 0x0, " ", 0x0, "g", 0x0, "e", 0x0, "t"
	DCB	0x0, " ", 0x0, "a", 0x0, " ", 0x0, "f", 0x0, "e", 0x0, "r"
	DCB	0x0, "e", 0x0, " ", 0x0, "m", 0x0, "a", 0x0, "i", 0x0, "l"
	DCB	0x0, "b", 0x0, "o", 0x0, "x", 0x0, " ", 0x0, "f", 0x0, "o"
	DCB	0x0, "r", 0x0, " ", 0x0, "r", 0x0, "e", 0x0, "m", 0x0, "o"
	DCB	0x0, "t", 0x0, "e", 0x0, " ", 0x0, "r", 0x0, "e", 0x0, "q"
	DCB	0x0, "u", 0x0, "e", 0x0, "s", 0x0, "t", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'
; Function compile flags: /Odtp

  043e0			 AREA	 |.text|, CODE, ARM

  043e0		 |?CANRemoteRequest@@YAHPAXPAUCAN_REMOTE_REQUEST@@@Z| PROC ; CANRemoteRequest

; 2040 : {    

  043e0		 |$LN12@CANRemoteR|
  043e0	e1a0c00d	 mov         r12, sp
  043e4	e92d0003	 stmdb       sp!, {r0, r1}
  043e8	e92d5000	 stmdb       sp!, {r12, lr}
  043ec	e24dd024	 sub         sp, sp, #0x24
  043f0		 |$M38244|

; 2041 :     int mailbox = -1;

  043f0	e3e03000	 mvn         r3, #0
  043f4	e58d3004	 str         r3, [sp, #4]

; 2042 :     T_CAN_DEVICE *pDevice = (T_CAN_DEVICE*) ctxt;    

  043f8	e59d302c	 ldr         r3, [sp, #0x2C]
  043fc	e58d3000	 str         r3, [sp]

; 2043 :     OMAP_HECC_SCC_MAILBOX* pMbx;
; 2044 :     OMAP_HECC_SCC_REGS* pCanRegs = pDevice->pCanRegs;

  04400	e59d3000	 ldr         r3, [sp]
  04404	e283302c	 add         r3, r3, #0x2C
  04408	e5933000	 ldr         r3, [r3]
  0440c	e58d3008	 str         r3, [sp, #8]

; 2045 :     
; 2046 :     EnterCriticalSection(&pDevice->regcs);

  04410	e59d3000	 ldr         r3, [sp]
  04414	e2830030	 add         r0, r3, #0x30
  04418	eb000000	 bl          EnterCriticalSection

; 2047 :     for (int i=NB_MAILBOXES-1;i>=0;i--)

  0441c	e3a0301f	 mov         r3, #0x1F
  04420	e58d3010	 str         r3, [sp, #0x10]
  04424	ea000002	 b           |$LN5@CANRemoteR|
  04428		 |$LN4@CANRemoteR|
  04428	e59d3010	 ldr         r3, [sp, #0x10]
  0442c	e2433001	 sub         r3, r3, #1
  04430	e58d3010	 str         r3, [sp, #0x10]
  04434		 |$LN5@CANRemoteR|
  04434	e59d3010	 ldr         r3, [sp, #0x10]
  04438	e3530000	 cmp         r3, #0
  0443c	ba000016	 blt         |$LN3@CANRemoteR|

; 2048 :     {
; 2049 :         if (pDevice->FreeMailboxMask & (1<<i))

  04440	e59d3000	 ldr         r3, [sp]
  04444	e28310c4	 add         r1, r3, #0xC4
  04448	e59d2010	 ldr         r2, [sp, #0x10]
  0444c	e3a03001	 mov         r3, #1
  04450	e1a02213	 mov         r2, r3, lsl r2
  04454	e5913000	 ldr         r3, [r1]
  04458	e1130002	 tst         r3, r2
  0445c	0a00000d	 beq         |$LN2@CANRemoteR|

; 2050 :         {
; 2051 :             pDevice->FreeMailboxMask &= ~(1<<i);      

  04460	e59d3000	 ldr         r3, [sp]
  04464	e28310c4	 add         r1, r3, #0xC4
  04468	e59d2010	 ldr         r2, [sp, #0x10]
  0446c	e3a03001	 mov         r3, #1
  04470	e1a03213	 mov         r3, r3, lsl r2
  04474	e1e02003	 mvn         r2, r3
  04478	e5913000	 ldr         r3, [r1]
  0447c	e0032002	 and         r2, r3, r2
  04480	e59d3000	 ldr         r3, [sp]
  04484	e28330c4	 add         r3, r3, #0xC4
  04488	e5832000	 str         r2, [r3]

; 2052 :             mailbox = i;

  0448c	e59d3010	 ldr         r3, [sp, #0x10]
  04490	e58d3004	 str         r3, [sp, #4]

; 2053 :             break;

  04494	ea000000	 b           |$LN3@CANRemoteR|
  04498		 |$LN2@CANRemoteR|

; 2054 :         }
; 2055 :     }

  04498	eaffffe2	 b           |$LN4@CANRemoteR|
  0449c		 |$LN3@CANRemoteR|

; 2056 :     
; 2057 :     if (mailbox == -1)

  0449c	e59d3004	 ldr         r3, [sp, #4]
  044a0	e3730001	 cmn         r3, #1
  044a4	1a00000c	 bne         |$LN1@CANRemoteR|

; 2058 :     {
; 2059 :         LeaveCriticalSection(&pDevice->regcs);

  044a8	e59d3000	 ldr         r3, [sp]
  044ac	e2830030	 add         r0, r3, #0x30
  044b0	eb000000	 bl          LeaveCriticalSection

; 2060 :         RETAILMSG(1,(TEXT("unable to get a fere mailbox for remote request\r\n")));

  044b4	e59f0198	 ldr         r0, [pc, #0x198]
  044b8	eb000000	 bl          NKDbgPrintfW
  044bc	e3a03001	 mov         r3, #1
  044c0	e58d3018	 str         r3, [sp, #0x18]
  044c4	ea000001	 b           |$LN9@CANRemoteR|
  044c8	e3a03000	 mov         r3, #0
  044cc	e58d3018	 str         r3, [sp, #0x18]
  044d0		 |$LN9@CANRemoteR|

; 2061 :         return FALSE;

  044d0	e3a03000	 mov         r3, #0
  044d4	e58d3014	 str         r3, [sp, #0x14]
  044d8	ea000059	 b           |$LN6@CANRemoteR|
  044dc		 |$LN1@CANRemoteR|

; 2062 : 
; 2063 :     }
; 2064 : 
; 2065 :     pDevice->RemoteRequestMask |= (1<<mailbox);

  044dc	e59d3000	 ldr         r3, [sp]
  044e0	e28310d0	 add         r1, r3, #0xD0
  044e4	e59d2004	 ldr         r2, [sp, #4]
  044e8	e3a03001	 mov         r3, #1
  044ec	e1a02213	 mov         r2, r3, lsl r2
  044f0	e5913000	 ldr         r3, [r1]
  044f4	e1832002	 orr         r2, r3, r2
  044f8	e59d3000	 ldr         r3, [sp]
  044fc	e28330d0	 add         r3, r3, #0xD0
  04500	e5832000	 str         r2, [r3]

; 2066 :     pMbx = &pDevice->pCanRegs->MailBoxes[mailbox];

  04504	e59d3000	 ldr         r3, [sp]
  04508	e283302c	 add         r3, r3, #0x2C
  0450c	e5933000	 ldr         r3, [r3]
  04510	e2831a02	 add         r1, r3, #2, 20
  04514	e59d2004	 ldr         r2, [sp, #4]
  04518	e3a03010	 mov         r3, #0x10
  0451c	e0030392	 mul         r3, r2, r3
  04520	e0813003	 add         r3, r1, r3
  04524	e58d300c	 str         r3, [sp, #0xC]

; 2067 :     //Configure the mailbox for remote frame rquest     
; 2068 :     pCanRegs->CANME &= ~(1<<mailbox);            

  04528	e59d2004	 ldr         r2, [sp, #4]
  0452c	e3a03001	 mov         r3, #1
  04530	e1a03213	 mov         r3, r3, lsl r2
  04534	e1e02003	 mvn         r2, r3
  04538	e59d3008	 ldr         r3, [sp, #8]
  0453c	e5933000	 ldr         r3, [r3]
  04540	e0032002	 and         r2, r3, r2
  04544	e59d3008	 ldr         r3, [sp, #8]
  04548	e5832000	 str         r2, [r3]

; 2069 :     pMbx->CANMID = IDtoCANMID(pRemoteRequest->id);    

  0454c	e59d3030	 ldr         r3, [sp, #0x30]
  04550	e58d301c	 str         r3, [sp, #0x1C]
  04554	e59d301c	 ldr         r3, [sp, #0x1C]
  04558	e5930000	 ldr         r0, [r3]
  0455c	eb000000	 bl          |?IDtoCANMID@@YAITCAN_ID@@@Z|
  04560	e58d0020	 str         r0, [sp, #0x20]
  04564	e59d2020	 ldr         r2, [sp, #0x20]
  04568	e59d300c	 ldr         r3, [sp, #0xC]
  0456c	e5832000	 str         r2, [r3]

; 2070 :     pMbx->CANMCF = CANMCF_RTR | 8 |(0x3 << 8);    //use highest priority for Remote frames    

  04570	e59d300c	 ldr         r3, [sp, #0xC]
  04574	e2832004	 add         r2, r3, #4
  04578	e3a03fc6	 mov         r3, #0xC6, 30
  0457c	e5823000	 str         r3, [r2]

; 2071 :     pCanRegs->CANMD |=  (1<<mailbox);

  04580	e59d3008	 ldr         r3, [sp, #8]
  04584	e2831004	 add         r1, r3, #4
  04588	e59d2004	 ldr         r2, [sp, #4]
  0458c	e3a03001	 mov         r3, #1
  04590	e1a02213	 mov         r2, r3, lsl r2
  04594	e5913000	 ldr         r3, [r1]
  04598	e1832002	 orr         r2, r3, r2
  0459c	e59d3008	 ldr         r3, [sp, #8]
  045a0	e2833004	 add         r3, r3, #4
  045a4	e5832000	 str         r2, [r3]

; 2072 :     pCanRegs->CANMIM |= (1<<mailbox);

  045a8	e59d3008	 ldr         r3, [sp, #8]
  045ac	e2831048	 add         r1, r3, #0x48
  045b0	e59d2004	 ldr         r2, [sp, #4]
  045b4	e3a03001	 mov         r3, #1
  045b8	e1a02213	 mov         r2, r3, lsl r2
  045bc	e5913000	 ldr         r3, [r1]
  045c0	e1832002	 orr         r2, r3, r2
  045c4	e59d3008	 ldr         r3, [sp, #8]
  045c8	e2833048	 add         r3, r3, #0x48
  045cc	e5832000	 str         r2, [r3]

; 2073 :     SETREG32(&pCanRegs->CANMIL,(1<<mailbox));                    //Remote request mailboxes trigger CAN IRQ 1

  045d0	e59d3008	 ldr         r3, [sp, #8]
  045d4	e283104c	 add         r1, r3, #0x4C
  045d8	e59d2004	 ldr         r2, [sp, #4]
  045dc	e3a03001	 mov         r3, #1
  045e0	e1a02213	 mov         r2, r3, lsl r2
  045e4	e5913000	 ldr         r3, [r1]
  045e8	e1832002	 orr         r2, r3, r2
  045ec	e59d3008	 ldr         r3, [sp, #8]
  045f0	e283304c	 add         r3, r3, #0x4C
  045f4	e5832000	 str         r2, [r3]

; 2074 :     pCanRegs->CANME |= (1<<mailbox);    

  045f8	e59d2004	 ldr         r2, [sp, #4]
  045fc	e3a03001	 mov         r3, #1
  04600	e1a02213	 mov         r2, r3, lsl r2
  04604	e59d3008	 ldr         r3, [sp, #8]
  04608	e5933000	 ldr         r3, [r3]
  0460c	e1832002	 orr         r2, r3, r2
  04610	e59d3008	 ldr         r3, [sp, #8]
  04614	e5832000	 str         r2, [r3]

; 2075 :     pCanRegs->CANTRS = (1<<mailbox);

  04618	e59d2004	 ldr         r2, [sp, #4]
  0461c	e3a03001	 mov         r3, #1
  04620	e1a02213	 mov         r2, r3, lsl r2
  04624	e59d3008	 ldr         r3, [sp, #8]
  04628	e2833008	 add         r3, r3, #8
  0462c	e5832000	 str         r2, [r3]

; 2076 :     
; 2077 :     LeaveCriticalSection(&pDevice->regcs);

  04630	e59d3000	 ldr         r3, [sp]
  04634	e2830030	 add         r0, r3, #0x30
  04638	eb000000	 bl          LeaveCriticalSection

; 2078 :     return TRUE;    

  0463c	e3a03001	 mov         r3, #1
  04640	e58d3014	 str         r3, [sp, #0x14]
  04644		 |$LN6@CANRemoteR|

; 2079 : }

  04644	e59d0014	 ldr         r0, [sp, #0x14]
  04648	e28dd024	 add         sp, sp, #0x24
  0464c	e89d6000	 ldmia       sp, {sp, lr}
  04650	e12fff1e	 bx          lr
  04654		 |$LN13@CANRemoteR|
  04654		 |$LN14@CANRemoteR|
  04654	00000000	 DCD         |??_C@_1GE@OEKNAFA@?$AAu?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?5?$AAt?$AAo?$AA?5?$AAg?$AAe?$AAt?$AA?5?$AAa?$AA?5?$AAf?$AAe?$AAr?$AAe?$AA?5?$AAm?$AAa?$AAi?$AAl?$AAb?$AAo?$AAx?$AA?5?$AAf?$AAo?$AAr@|
  04658		 |$M38245|

			 ENDP  ; |?CANRemoteRequest@@YAHPAXPAUCAN_REMOTE_REQUEST@@@Z|, CANRemoteRequest

	END
