; Listing generated by Microsoft (R) Optimizing Compiler Version 14.01.60511.01 

	TTL	C:\WINCE600\PLATFORM\COMMON\SRC\SOC\COMMON_TI_V1\COMMON_TI\BUS\OMAPBUS\omap35xxbuschild.cpp
	CODE32

  00000			 AREA	 |.drectve|, DRECTVE
	DCB	"/include:?_factory@?$$singleton@V?$$free_list@$$0GE@Vall"
	DCB	"ocator@ce@@@ce@@$$03V?$$static_allocator@V?$$free_list@$$"
	DCB	"0GE@Vallocator@ce@@@ce@@$$03@2@@ce@@1Ulock_factory@12@A "
	DCB	"-defaultlib:LIBCMT "
	DCB	"-defaultlib:OLDNAMES "

	EXPORT	|??_7omap35xxBusChild_t@@6B@| [ DATA ]	; omap35xxBusChild_t::`vftable'
	EXPORT	|??0omap35xxBusChild_t@@IAA@PAVomap35xxBus_t@@K@Z| ; omap35xxBusChild_t::omap35xxBusChild_t
	EXPORT	|?Init@omap35xxBusChild_t@@UAAHKPBG@Z|	; omap35xxBusChild_t::Init
	EXPORT	|?IoCtlGetPowerState@omap35xxBusChild_t@@UAAHPAW4_CEDEVICE_POWER_STATE@@@Z| ; omap35xxBusChild_t::IoCtlGetPowerState
	EXPORT	|?IoCtlSetPowerState@omap35xxBusChild_t@@UAAHPAW4_CEDEVICE_POWER_STATE@@@Z| ; omap35xxBusChild_t::IoCtlSetPowerState
	EXPORT	|?IoControl@omap35xxBusChild_t@@UAAHKPAEK0KPAK@Z| ; omap35xxBusChild_t::IoControl
	IMPORT	|??0DefaultBusChild_t@@IAA@PAVDefaultBus_t@@@Z| ; DefaultBusChild_t::DefaultBusChild_t
	IMPORT	|??_Eomap35xxBusChild_t@@UAAPAXI@Z|, WEAK |??_Gomap35xxBusChild_t@@UAAPAXI@Z| ; omap35xxBusChild_t::`vector deleting destructor', omap35xxBusChild_t::`scalar deleting destructor'
	IMPORT	|?DriverId@DefaultBusChild_t@@UAAKXZ|	; DefaultBusChild_t::DriverId
	IMPORT	|?DeviceName@DefaultBusChild_t@@UAAPBGXZ| ; DefaultBusChild_t::DeviceName
	IMPORT	|?IoCtlTranslateBusAddress@DefaultBusChild_t@@UAAHW4_INTERFACE_TYPE@@KT_LARGE_INTEGER@@PAKPAT3@@Z| ; DefaultBusChild_t::IoCtlTranslateBusAddress
	IMPORT	|?IoCtlTranslateSystemAddress@DefaultBusChild_t@@UAAHW4_INTERFACE_TYPE@@KT_LARGE_INTEGER@@PAT3@@Z| ; DefaultBusChild_t::IoCtlTranslateSystemAddress
	IMPORT	|?IoCtlGetConfigurationData@DefaultBusChild_t@@UAAHKKKPAX@Z| ; DefaultBusChild_t::IoCtlGetConfigurationData
	IMPORT	|?IoCtlSetConfigurationData@DefaultBusChild_t@@UAAHKKKPAX@Z| ; DefaultBusChild_t::IoCtlSetConfigurationData
	IMPORT	|?IoCtlActivateChild@DefaultBusChild_t@@UAAHXZ| ; DefaultBusChild_t::IoCtlActivateChild
	IMPORT	|?IoCtlDeactivateChild@DefaultBusChild_t@@UAAHXZ| ; DefaultBusChild_t::IoCtlDeactivateChild
	IMPORT	|?IoCtlIsChildRemoved@DefaultBusChild_t@@UAAHXZ| ; DefaultBusChild_t::IoCtlIsChildRemoved

  00000			 AREA	 |.pdata|, PDATA
|$T42415| DCD	|$LN5@omap35xxBu|
	DCD	0x40001a04
; File c:\wince600\platform\common\src\soc\common_ti_v1\common_ti\bus\omapbus\omap35xxbuschild.cpp

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_7omap35xxBusChild_t@@6B@| DCD |??_Eomap35xxBusChild_t@@UAAPAXI@Z| ; omap35xxBusChild_t::`vftable'
	DCD	|?Init@omap35xxBusChild_t@@UAAHKPBG@Z|
	DCD	|?DriverId@DefaultBusChild_t@@UAAKXZ|
	DCD	|?DeviceName@DefaultBusChild_t@@UAAPBGXZ|
	DCD	|?IoCtlTranslateBusAddress@DefaultBusChild_t@@UAAHW4_INTERFACE_TYPE@@KT_LARGE_INTEGER@@PAKPAT3@@Z|
	DCD	|?IoCtlTranslateSystemAddress@DefaultBusChild_t@@UAAHW4_INTERFACE_TYPE@@KT_LARGE_INTEGER@@PAT3@@Z|
	DCD	|?IoCtlGetPowerState@omap35xxBusChild_t@@UAAHPAW4_CEDEVICE_POWER_STATE@@@Z|
	DCD	|?IoCtlSetPowerState@omap35xxBusChild_t@@UAAHPAW4_CEDEVICE_POWER_STATE@@@Z|
	DCD	|?IoCtlGetConfigurationData@DefaultBusChild_t@@UAAHKKKPAX@Z|
	DCD	|?IoCtlSetConfigurationData@DefaultBusChild_t@@UAAHKKKPAX@Z|
	DCD	|?IoCtlActivateChild@DefaultBusChild_t@@UAAHXZ|
	DCD	|?IoCtlDeactivateChild@DefaultBusChild_t@@UAAHXZ|
	DCD	|?IoCtlIsChildRemoved@DefaultBusChild_t@@UAAHXZ|
	DCD	|?IoControl@omap35xxBusChild_t@@UAAHKPAEK0KPAK@Z|
; Function compile flags: /Odtp

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |??0omap35xxBusChild_t@@IAA@PAVomap35xxBus_t@@K@Z| PROC ; omap35xxBusChild_t::omap35xxBusChild_t

; 39   : {

  00000		 |$LN5@omap35xxBu|
  00000	e1a0c00d	 mov         r12, sp
  00004	e92d0007	 stmdb       sp!, {r0 - r2}
  00008	e92d5000	 stmdb       sp!, {r12, lr}
  0000c	e24dd008	 sub         sp, sp, #8
  00010		 |$M42412|
  00010	e59d1014	 ldr         r1, [sp, #0x14]
  00014	e59d0010	 ldr         r0, [sp, #0x10]
  00018	eb000000	 bl          |??0DefaultBusChild_t@@IAA@PAVDefaultBus_t@@@Z|
  0001c	e58d0004	 str         r0, [sp, #4]
  00020	e59f203c	 ldr         r2, [pc, #0x3C]
  00024	e59d3010	 ldr         r3, [sp, #0x10]
  00028	e5832000	 str         r2, [r3]
  0002c	e59d3010	 ldr         r3, [sp, #0x10]
  00030	e28320e0	 add         r2, r3, #0xE0
  00034	e59d3018	 ldr         r3, [sp, #0x18]
  00038	e5823000	 str         r3, [r2]

; 40   :     // Let assume we start with power off device...
; 41   :     m_powerState = D4;

  0003c	e59d3010	 ldr         r3, [sp, #0x10]
  00040	e28320dc	 add         r2, r3, #0xDC
  00044	e3a03004	 mov         r3, #4
  00048	e5823000	 str         r3, [r2]

; 42   : }

  0004c	e59d3010	 ldr         r3, [sp, #0x10]
  00050	e58d3000	 str         r3, [sp]
  00054	e59d0000	 ldr         r0, [sp]
  00058	e28dd008	 add         sp, sp, #8
  0005c	e89d6000	 ldmia       sp, {sp, lr}
  00060	e12fff1e	 bx          lr
  00064		 |$LN6@omap35xxBu|
  00064		 |$LN7@omap35xxBu|
  00064	00000000	 DCD         |??_7omap35xxBusChild_t@@6B@|
  00068		 |$M42413|

			 ENDP  ; |??0omap35xxBusChild_t@@IAA@PAVomap35xxBus_t@@K@Z|, omap35xxBusChild_t::omap35xxBusChild_t

	EXPORT	|??1omap35xxBusChild_t@@UAA@XZ|		; omap35xxBusChild_t::~omap35xxBusChild_t
	IMPORT	|??3@YAXPAX@Z|				; operator delete

  00000			 AREA	 |.pdata|, PDATA
|$T42423| DCD	|$LN6@scalar|
	DCD	0x40001104
; Function compile flags: /Odtp

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |??_Gomap35xxBusChild_t@@UAAPAXI@Z| PROC ; omap35xxBusChild_t::`scalar deleting destructor'
  00000		 |$LN6@scalar|
  00000	e1a0c00d	 mov         r12, sp
  00004	e92d0003	 stmdb       sp!, {r0, r1}
  00008	e92d5000	 stmdb       sp!, {r12, lr}
  0000c	e24dd004	 sub         sp, sp, #4
  00010		 |$M42420|
  00010	e59d000c	 ldr         r0, [sp, #0xC]
  00014	eb000000	 bl          |??1omap35xxBusChild_t@@UAA@XZ|
  00018	e59d3010	 ldr         r3, [sp, #0x10]
  0001c	e3130001	 tst         r3, #1
  00020	0a000001	 beq         |$LN1@scalar|
  00024	e59d000c	 ldr         r0, [sp, #0xC]
  00028	eb000000	 bl          |??3@YAXPAX@Z|
  0002c		 |$LN1@scalar|
  0002c	e59d300c	 ldr         r3, [sp, #0xC]
  00030	e58d3000	 str         r3, [sp]
  00034	e59d0000	 ldr         r0, [sp]
  00038	e28dd004	 add         sp, sp, #4
  0003c	e89d6000	 ldmia       sp, {sp, lr}
  00040	e12fff1e	 bx          lr
  00044		 |$M42421|

			 ENDP  ; |??_Gomap35xxBusChild_t@@UAAPAXI@Z|, omap35xxBusChild_t::`scalar deleting destructor'

	IMPORT	|??1DefaultBusChild_t@@MAA@XZ|		; DefaultBusChild_t::~DefaultBusChild_t

  00000			 AREA	 |.pdata|, PDATA
|$T42430| DCD	|$LN5@omap35xxBu@2|
	DCD	0x40000703
; Function compile flags: /Odtp

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |??1omap35xxBusChild_t@@UAA@XZ| PROC	; omap35xxBusChild_t::~omap35xxBusChild_t
  00000		 |$LN5@omap35xxBu@2|
  00000	e1a0c00d	 mov         r12, sp
  00004	e92d0001	 stmdb       sp!, {r0}
  00008	e92d5000	 stmdb       sp!, {r12, lr}
  0000c		 |$M42427|
  0000c	e59d0008	 ldr         r0, [sp, #8]
  00010	eb000000	 bl          |??1DefaultBusChild_t@@MAA@XZ|
  00014	e89d6000	 ldmia       sp, {sp, lr}
  00018	e12fff1e	 bx          lr
  0001c		 |$M42428|

			 ENDP  ; |??1omap35xxBusChild_t@@UAA@XZ|, omap35xxBusChild_t::~omap35xxBusChild_t

	IMPORT	|?Init@DefaultBusChild_t@@UAAHKPBG@Z|	; DefaultBusChild_t::Init

  00008			 AREA	 |.pdata|, PDATA
|$T42444| DCD	|$LN17@Init|
	DCD	0x40007204
; Function compile flags: /Odtp

  00068			 AREA	 |.text|, CODE, ARM

  00068		 |?Init@omap35xxBusChild_t@@UAAHKPBG@Z| PROC ; omap35xxBusChild_t::Init

; 54   : {

  00068		 |$LN17@Init|
  00068	e1a0c00d	 mov         r12, sp
  0006c	e92d0007	 stmdb       sp!, {r0 - r2}
  00070	e92d5000	 stmdb       sp!, {r12, lr}
  00074	e24dd018	 sub         sp, sp, #0x18
  00078		 |$M42441|

; 55   :     // if m_devId == OMAP_DEVICE_GENERIC, then the child is a generic 
; 56   :     // child used to communicate with the dvfs policy.  Don't try to 
; 57   :     // pull data from the registery for the child
; 58   :     
; 59   :     BOOL rc = FALSE;

  00078	e3a03000	 mov         r3, #0
  0007c	e58d3000	 str         r3, [sp]

; 60   :     if (m_devId != OMAP_MAX_DEVICE_COUNT)

  00080	e59d3020	 ldr         r3, [sp, #0x20]
  00084	e28330e0	 add         r3, r3, #0xE0
  00088	e5933000	 ldr         r3, [r3]
  0008c	e3530080	 cmp         r3, #0x80
  00090	0a000019	 beq         |$LN6@Init|

; 61   :         {
; 62   :         // assume context restore, pre/post device notifications are
; 63   :         // required
; 64   :         m_ffPower = POWERFLAGS_PRESTATECHANGENOTIFY | 
; 65   :                     POWERFLAGS_POSTSTATECHANGENOTIFY |
; 66   :                     POWERFLAGS_CONTEXTRESTORE;

  00094	e59d3020	 ldr         r3, [sp, #0x20]
  00098	e28320d8	 add         r2, r3, #0xD8
  0009c	e3a03c01	 mov         r3, #1, 24
  000a0	e3833003	 orr         r3, r3, #3
  000a4	e5823000	 str         r3, [r2]

; 67   : 
; 68   :         if (deviceRegistryKey != NULL)

  000a8	e59d3028	 ldr         r3, [sp, #0x28]
  000ac	e3530000	 cmp         r3, #0
  000b0	0a00000a	 beq         |$LN5@Init|

; 69   :             {
; 70   :             if (DefaultBusChild_t::Init(index, deviceRegistryKey) == FALSE)

  000b4	e59d2028	 ldr         r2, [sp, #0x28]
  000b8	e59d1024	 ldr         r1, [sp, #0x24]
  000bc	e59d0020	 ldr         r0, [sp, #0x20]
  000c0	eb000000	 bl          |?Init@DefaultBusChild_t@@UAAHKPBG@Z|
  000c4	e58d0008	 str         r0, [sp, #8]
  000c8	e59d3008	 ldr         r3, [sp, #8]
  000cc	e3530000	 cmp         r3, #0
  000d0	1a000001	 bne         |$LN4@Init|
  000d4	ea00004f	 b           |$LN3@Init|

; 71   :                 {
; 72   :                 goto cleanUp;

  000d8	ea00004e	 b           |$cleanUp$41757|
  000dc		 |$LN4@Init|

; 73   :                 }
; 74   :             }
; 75   :         else

  000dc	ea000006	 b           |$LN2@Init|
  000e0		 |$LN5@Init|

; 76   :             {
; 77   :             m_flags |= DEVFLAGS_NOLOAD;

  000e0	e59d3020	 ldr         r3, [sp, #0x20]
  000e4	e283306c	 add         r3, r3, #0x6C
  000e8	e5933000	 ldr         r3, [r3]
  000ec	e3832004	 orr         r2, r3, #4
  000f0	e59d3020	 ldr         r3, [sp, #0x20]
  000f4	e283306c	 add         r3, r3, #0x6C
  000f8	e5832000	 str         r2, [r3]
  000fc		 |$LN2@Init|
  000fc		 |$LN6@Init|

; 78   :             }            
; 79   :         }
; 80   : 
; 81   :     // if default id is not set then use m_devId
; 82   :     //
; 83   :     if (m_driverId == -1)

  000fc	e59d3020	 ldr         r3, [sp, #0x20]
  00100	e28330d4	 add         r3, r3, #0xD4
  00104	e5933000	 ldr         r3, [r3]
  00108	e3730001	 cmn         r3, #1
  0010c	1a000005	 bne         |$LN1@Init|

; 84   :         m_driverId = m_devId;

  00110	e59d3020	 ldr         r3, [sp, #0x20]
  00114	e28310e0	 add         r1, r3, #0xE0
  00118	e59d3020	 ldr         r3, [sp, #0x20]
  0011c	e28320d4	 add         r2, r3, #0xD4
  00120	e5913000	 ldr         r3, [r1]
  00124	e5823000	 str         r3, [r2]
  00128		 |$LN1@Init|

; 85   : 
; 86   :     // check if pre/post device state change notifications should
; 87   :     // be sent for this driver
; 88   :     m_bSendPrePinMuxChange = TRUE;

  00128	e59d3020	 ldr         r3, [sp, #0x20]
  0012c	e28320e4	 add         r2, r3, #0xE4
  00130	e3a03001	 mov         r3, #1
  00134	e5823000	 str         r3, [r2]

; 89   :     m_bSendPostPinMuxChange = TRUE;

  00138	e59d3020	 ldr         r3, [sp, #0x20]
  0013c	e28320e8	 add         r2, r3, #0xE8
  00140	e3a03001	 mov         r3, #1
  00144	e5823000	 str         r3, [r2]

; 90   :     m_bSendPreDevicePowerStateChange = TRUE;

  00148	e59d3020	 ldr         r3, [sp, #0x20]
  0014c	e28320ec	 add         r2, r3, #0xEC
  00150	e3a03001	 mov         r3, #1
  00154	e5823000	 str         r3, [r2]

; 91   :     m_bSendPostDevicePowerStateChange = TRUE;

  00158	e59d3020	 ldr         r3, [sp, #0x20]
  0015c	e28320f0	 add         r2, r3, #0xF0
  00160	e3a03001	 mov         r3, #1
  00164	e5823000	 str         r3, [r2]

; 92   :     m_bSendPreNotifyDevicePowerStateChange = (m_ffPower & POWERFLAGS_PRESTATECHANGENOTIFY) != 0;

  00168	e59d3020	 ldr         r3, [sp, #0x20]
  0016c	e28330d8	 add         r3, r3, #0xD8
  00170	e5933000	 ldr         r3, [r3]
  00174	e3130001	 tst         r3, #1
  00178	0a000002	 beq         |$LN9@Init|
  0017c	e3a03001	 mov         r3, #1
  00180	e58d300c	 str         r3, [sp, #0xC]
  00184	ea000001	 b           |$LN10@Init|
  00188		 |$LN9@Init|
  00188	e3a03000	 mov         r3, #0
  0018c	e58d300c	 str         r3, [sp, #0xC]
  00190		 |$LN10@Init|
  00190	e59d3020	 ldr         r3, [sp, #0x20]
  00194	e28320f4	 add         r2, r3, #0xF4
  00198	e59d300c	 ldr         r3, [sp, #0xC]
  0019c	e5823000	 str         r3, [r2]

; 93   :     m_bSendPostNotifyDevicePowerStateChange = (m_ffPower & POWERFLAGS_POSTSTATECHANGENOTIFY) != 0;

  001a0	e59d3020	 ldr         r3, [sp, #0x20]
  001a4	e28330d8	 add         r3, r3, #0xD8
  001a8	e5933000	 ldr         r3, [r3]
  001ac	e3130002	 tst         r3, #2
  001b0	0a000002	 beq         |$LN11@Init|
  001b4	e3a03001	 mov         r3, #1
  001b8	e58d3010	 str         r3, [sp, #0x10]
  001bc	ea000001	 b           |$LN12@Init|
  001c0		 |$LN11@Init|
  001c0	e3a03000	 mov         r3, #0
  001c4	e58d3010	 str         r3, [sp, #0x10]
  001c8		 |$LN12@Init|
  001c8	e59d3020	 ldr         r3, [sp, #0x20]
  001cc	e28320f8	 add         r2, r3, #0xF8
  001d0	e59d3010	 ldr         r3, [sp, #0x10]
  001d4	e5823000	 str         r3, [r2]

; 94   :     m_bRequestContextRestoreNotice = (m_ffPower & POWERFLAGS_CONTEXTRESTORE) != 0;

  001d8	e59d3020	 ldr         r3, [sp, #0x20]
  001dc	e28330d8	 add         r3, r3, #0xD8
  001e0	e5933000	 ldr         r3, [r3]
  001e4	e3130c01	 tst         r3, #1, 24
  001e8	0a000002	 beq         |$LN13@Init|
  001ec	e3a03001	 mov         r3, #1
  001f0	e58d3014	 str         r3, [sp, #0x14]
  001f4	ea000001	 b           |$LN14@Init|
  001f8		 |$LN13@Init|
  001f8	e3a03000	 mov         r3, #0
  001fc	e58d3014	 str         r3, [sp, #0x14]
  00200		 |$LN14@Init|
  00200	e59d3020	 ldr         r3, [sp, #0x20]
  00204	e28320fc	 add         r2, r3, #0xFC
  00208	e59d3014	 ldr         r3, [sp, #0x14]
  0020c	e5823000	 str         r3, [r2]

; 95   : 
; 96   :     rc = TRUE;

  00210	e3a03001	 mov         r3, #1
  00214	e58d3000	 str         r3, [sp]
  00218		 |$LN3@Init|
  00218		 |$cleanUp$41757|

; 97   : cleanUp:    
; 98   :     return rc;

  00218	e59d3000	 ldr         r3, [sp]
  0021c	e58d3004	 str         r3, [sp, #4]

; 99   : }

  00220	e59d0004	 ldr         r0, [sp, #4]
  00224	e28dd018	 add         sp, sp, #0x18
  00228	e89d6000	 ldmia       sp, {sp, lr}
  0022c	e12fff1e	 bx          lr
  00230		 |$M42442|

			 ENDP  ; |?Init@omap35xxBusChild_t@@UAAHKPBG@Z|, omap35xxBusChild_t::Init


  00010			 AREA	 |.pdata|, PDATA
|$T42450| DCD	|$LN5@IoCtlGetPo|
	DCD	0x40000f04
; Function compile flags: /Odtp

  00230			 AREA	 |.text|, CODE, ARM

  00230		 |?IoCtlGetPowerState@omap35xxBusChild_t@@UAAHPAW4_CEDEVICE_POWER_STATE@@@Z| PROC ; omap35xxBusChild_t::IoCtlGetPowerState

; 110  : {

  00230		 |$LN5@IoCtlGetPo|
  00230	e1a0c00d	 mov         r12, sp
  00234	e92d0003	 stmdb       sp!, {r0, r1}
  00238	e92d5000	 stmdb       sp!, {r12, lr}
  0023c	e24dd004	 sub         sp, sp, #4
  00240		 |$M42447|

; 111  :     *pPowerState = m_powerState;

  00240	e59d300c	 ldr         r3, [sp, #0xC]
  00244	e28330dc	 add         r3, r3, #0xDC
  00248	e5932000	 ldr         r2, [r3]
  0024c	e59d3010	 ldr         r3, [sp, #0x10]
  00250	e5832000	 str         r2, [r3]

; 112  :     return TRUE;

  00254	e3a03001	 mov         r3, #1
  00258	e58d3000	 str         r3, [sp]

; 113  : }

  0025c	e59d0000	 ldr         r0, [sp]
  00260	e28dd004	 add         sp, sp, #4
  00264	e89d6000	 ldmia       sp, {sp, lr}
  00268	e12fff1e	 bx          lr
  0026c		 |$M42448|

			 ENDP  ; |?IoCtlGetPowerState@omap35xxBusChild_t@@UAAHPAW4_CEDEVICE_POWER_STATE@@@Z|, omap35xxBusChild_t::IoCtlGetPowerState

	IMPORT	|?PostNotifyDevicePowerStateChange@omap35xxBus_t@@QAAKKW4_CEDEVICE_POWER_STATE@@0@Z| ; omap35xxBus_t::PostNotifyDevicePowerStateChange
	IMPORT	|?PostDevicePowerStateChange@omap35xxBus_t@@QAAKKW4_CEDEVICE_POWER_STATE@@0@Z| ; omap35xxBus_t::PostDevicePowerStateChange
	IMPORT	|PmxSendDeviceNotification|
	IMPORT	|?GetDeviceContextState@omap35xxBus_t@@QAAHK@Z| ; omap35xxBus_t::GetDeviceContextState
	IMPORT	|?ReleaseFClock@omap35xxBus_t@@QAAHK@Z|	; omap35xxBus_t::ReleaseFClock
	IMPORT	|?ReleaseIClock@omap35xxBus_t@@QAAHK@Z|	; omap35xxBus_t::ReleaseIClock
	IMPORT	|?RequestIClock@omap35xxBus_t@@QAAHK@Z|	; omap35xxBus_t::RequestIClock
	IMPORT	|?RequestFClock@omap35xxBus_t@@QAAHK@Z|	; omap35xxBus_t::RequestFClock
	IMPORT	|?PreDevicePowerStateChange@omap35xxBus_t@@QAAKKW4_CEDEVICE_POWER_STATE@@0@Z| ; omap35xxBus_t::PreDevicePowerStateChange
	IMPORT	|?PreNotifyDevicePowerStateChange@omap35xxBus_t@@QAAKKW4_CEDEVICE_POWER_STATE@@0@Z| ; omap35xxBus_t::PreNotifyDevicePowerStateChange
	IMPORT	|?UpdateOnDeviceStateChange@omap35xxBus_t@@QAAKKW4_CEDEVICE_POWER_STATE@@0H@Z| ; omap35xxBus_t::UpdateOnDeviceStateChange

  00018			 AREA	 |.pdata|, PDATA
|$T42469| DCD	|$LN33@IoCtlSetPo|
	DCD	0x40010f04
; Function compile flags: /Odtp

  0026c			 AREA	 |.text|, CODE, ARM

  0026c		 |?IoCtlSetPowerState@omap35xxBusChild_t@@UAAHPAW4_CEDEVICE_POWER_STATE@@@Z| PROC ; omap35xxBusChild_t::IoCtlSetPowerState

; 124  : {    

  0026c		 |$LN33@IoCtlSetPo|
  0026c	e1a0c00d	 mov         r12, sp
  00270	e92d0003	 stmdb       sp!, {r0, r1}
  00274	e92d5000	 stmdb       sp!, {r12, lr}
  00278	e24dd058	 sub         sp, sp, #0x58
  0027c		 |$M42466|

; 125  :     CEDEVICE_POWER_STATE oldState = m_powerState;

  0027c	e59d3060	 ldr         r3, [sp, #0x60]
  00280	e28330dc	 add         r3, r3, #0xDC
  00284	e5933000	 ldr         r3, [r3]
  00288	e58d3010	 str         r3, [sp, #0x10]

; 126  :     CEDEVICE_POWER_STATE newState = *pPowerState;

  0028c	e59d3064	 ldr         r3, [sp, #0x64]
  00290	e5933000	 ldr         r3, [r3]
  00294	e58d3018	 str         r3, [sp, #0x18]

; 127  :     omap35xxBus_t* pBus = reinterpret_cast<omap35xxBus_t*>(m_pBus);

  00298	e59d3060	 ldr         r3, [sp, #0x60]
  0029c	e2833008	 add         r3, r3, #8
  002a0	e5933000	 ldr         r3, [r3]
  002a4	e58d3014	 str         r3, [sp, #0x14]

; 128  : 
; 129  :     // notify power bus of device power state change
; 130  :     if (oldState != newState)

  002a8	e59d2010	 ldr         r2, [sp, #0x10]
  002ac	e59d3018	 ldr         r3, [sp, #0x18]
  002b0	e1520003	 cmp         r2, r3
  002b4	0a00003d	 beq         |$LN21@IoCtlSetPo|

; 131  :         {
; 132  :         if (m_bSendPrePinMuxChange == TRUE &&
; 133  :             pBus->UpdateOnDeviceStateChange(m_devId, oldState, newState, TRUE) == -1)

  002b8	e59d3060	 ldr         r3, [sp, #0x60]
  002bc	e28330e4	 add         r3, r3, #0xE4
  002c0	e5933000	 ldr         r3, [r3]
  002c4	e3530001	 cmp         r3, #1
  002c8	1a000010	 bne         |$LN20@IoCtlSetPo|
  002cc	e3a03001	 mov         r3, #1
  002d0	e58d3000	 str         r3, [sp]
  002d4	e59d3018	 ldr         r3, [sp, #0x18]
  002d8	e59d2010	 ldr         r2, [sp, #0x10]
  002dc	e59d1060	 ldr         r1, [sp, #0x60]
  002e0	e28110e0	 add         r1, r1, #0xE0
  002e4	e5911000	 ldr         r1, [r1]
  002e8	e59d0014	 ldr         r0, [sp, #0x14]
  002ec	eb000000	 bl          |?UpdateOnDeviceStateChange@omap35xxBus_t@@QAAKKW4_CEDEVICE_POWER_STATE@@0H@Z|
  002f0	e58d0038	 str         r0, [sp, #0x38]
  002f4	e59d3038	 ldr         r3, [sp, #0x38]
  002f8	e3730001	 cmn         r3, #1
  002fc	1a000003	 bne         |$LN20@IoCtlSetPo|

; 134  :             {
; 135  :             m_bSendPrePinMuxChange = FALSE;

  00300	e59d3060	 ldr         r3, [sp, #0x60]
  00304	e28320e4	 add         r2, r3, #0xE4
  00308	e3a03000	 mov         r3, #0
  0030c	e5823000	 str         r3, [r2]
  00310		 |$LN20@IoCtlSetPo|

; 136  :             }
; 137  :         
; 138  :         if (m_bSendPreNotifyDevicePowerStateChange == TRUE &&
; 139  :             pBus->PreNotifyDevicePowerStateChange(m_devId, oldState, newState) == -1)

  00310	e59d3060	 ldr         r3, [sp, #0x60]
  00314	e28330f4	 add         r3, r3, #0xF4
  00318	e5933000	 ldr         r3, [r3]
  0031c	e3530001	 cmp         r3, #1
  00320	1a00000e	 bne         |$LN19@IoCtlSetPo|
  00324	e59d3018	 ldr         r3, [sp, #0x18]
  00328	e59d2010	 ldr         r2, [sp, #0x10]
  0032c	e59d1060	 ldr         r1, [sp, #0x60]
  00330	e28110e0	 add         r1, r1, #0xE0
  00334	e5911000	 ldr         r1, [r1]
  00338	e59d0014	 ldr         r0, [sp, #0x14]
  0033c	eb000000	 bl          |?PreNotifyDevicePowerStateChange@omap35xxBus_t@@QAAKKW4_CEDEVICE_POWER_STATE@@0@Z|
  00340	e58d003c	 str         r0, [sp, #0x3C]
  00344	e59d303c	 ldr         r3, [sp, #0x3C]
  00348	e3730001	 cmn         r3, #1
  0034c	1a000003	 bne         |$LN19@IoCtlSetPo|

; 140  :             {
; 141  :             m_bSendPreNotifyDevicePowerStateChange = FALSE;

  00350	e59d3060	 ldr         r3, [sp, #0x60]
  00354	e28320f4	 add         r2, r3, #0xF4
  00358	e3a03000	 mov         r3, #0
  0035c	e5823000	 str         r3, [r2]
  00360		 |$LN19@IoCtlSetPo|

; 142  :             }
; 143  : 
; 144  :         if (m_bSendPreDevicePowerStateChange == TRUE &&
; 145  :             pBus->PreDevicePowerStateChange(m_devId, oldState, newState) == -1)

  00360	e59d3060	 ldr         r3, [sp, #0x60]
  00364	e28330ec	 add         r3, r3, #0xEC
  00368	e5933000	 ldr         r3, [r3]
  0036c	e3530001	 cmp         r3, #1
  00370	1a00000e	 bne         |$LN18@IoCtlSetPo|
  00374	e59d3018	 ldr         r3, [sp, #0x18]
  00378	e59d2010	 ldr         r2, [sp, #0x10]
  0037c	e59d1060	 ldr         r1, [sp, #0x60]
  00380	e28110e0	 add         r1, r1, #0xE0
  00384	e5911000	 ldr         r1, [r1]
  00388	e59d0014	 ldr         r0, [sp, #0x14]
  0038c	eb000000	 bl          |?PreDevicePowerStateChange@omap35xxBus_t@@QAAKKW4_CEDEVICE_POWER_STATE@@0@Z|
  00390	e58d0040	 str         r0, [sp, #0x40]
  00394	e59d3040	 ldr         r3, [sp, #0x40]
  00398	e3730001	 cmn         r3, #1
  0039c	1a000003	 bne         |$LN18@IoCtlSetPo|

; 146  :             {
; 147  :             m_bSendPreDevicePowerStateChange = FALSE;

  003a0	e59d3060	 ldr         r3, [sp, #0x60]
  003a4	e28320ec	 add         r2, r3, #0xEC
  003a8	e3a03000	 mov         r3, #0
  003ac	e5823000	 str         r3, [r2]
  003b0		 |$LN18@IoCtlSetPo|
  003b0		 |$LN21@IoCtlSetPo|

; 148  :             }
; 149  :         }
; 150  :     
; 151  :     switch (newState)

  003b0	e59d3018	 ldr         r3, [sp, #0x18]
  003b4	e58d3044	 str         r3, [sp, #0x44]
  003b8	e59d3044	 ldr         r3, [sp, #0x44]
  003bc	e3530004	 cmp         r3, #4
  003c0	8a000043	 bhi         |$LN16@IoCtlSetPo|
  003c4	e59d2044	 ldr         r2, [sp, #0x44]
  003c8	e1a03102	 mov         r3, r2, lsl #2
  003cc	e083300f	 add         r3, r3, pc
  003d0	e5933004	 ldr         r3, [r3, #4]
  003d4	e08ff003	 add         pc, pc, r3
  003d8		 |$LN25@IoCtlSetPo|
  003d8		 |$LN24@IoCtlSetPo|
  003d8		 |$LN26@IoCtlSetPo|
  003d8	00000010	 DCD         0x10
  003dc		 |$LN27@IoCtlSetPo|
  003dc	00000010	 DCD         0x10
  003e0		 |$LN28@IoCtlSetPo|
  003e0	00000064	 DCD         0x64
  003e4		 |$LN29@IoCtlSetPo|
  003e4	000000bc	 DCD         0xbc
  003e8		 |$LN30@IoCtlSetPo|
  003e8	000000bc	 DCD         0xbc
  003ec		 |$LN15@IoCtlSetPo|

; 152  :         {
; 153  :         case D0:
; 154  :         case D1:
; 155  :             // enable interface and function clocks
; 156  :             if (m_powerState > D1)

  003ec	e59d3060	 ldr         r3, [sp, #0x60]
  003f0	e28330dc	 add         r3, r3, #0xDC
  003f4	e5933000	 ldr         r3, [r3]
  003f8	e3530001	 cmp         r3, #1
  003fc	da00000e	 ble         |$LN14@IoCtlSetPo|

; 157  :                 {
; 158  :                 if (m_powerState > D2)

  00400	e59d3060	 ldr         r3, [sp, #0x60]
  00404	e28330dc	 add         r3, r3, #0xDC
  00408	e5933000	 ldr         r3, [r3]
  0040c	e3530002	 cmp         r3, #2
  00410	da000004	 ble         |$LN13@IoCtlSetPo|

; 159  :                     {                    
; 160  :                     pBus->RequestFClock(m_devId);

  00414	e59d3060	 ldr         r3, [sp, #0x60]
  00418	e28330e0	 add         r3, r3, #0xE0
  0041c	e5931000	 ldr         r1, [r3]
  00420	e59d0014	 ldr         r0, [sp, #0x14]
  00424	eb000000	 bl          |?RequestFClock@omap35xxBus_t@@QAAHK@Z|
  00428		 |$LN13@IoCtlSetPo|

; 161  :                     } 
; 162  :                 pBus->RequestIClock(m_devId);                               

  00428	e59d3060	 ldr         r3, [sp, #0x60]
  0042c	e28330e0	 add         r3, r3, #0xE0
  00430	e5931000	 ldr         r1, [r3]
  00434	e59d0014	 ldr         r0, [sp, #0x14]
  00438	eb000000	 bl          |?RequestIClock@omap35xxBus_t@@QAAHK@Z|
  0043c		 |$LN14@IoCtlSetPo|

; 163  :                 }
; 164  :             break;

  0043c	ea000024	 b           |$LN16@IoCtlSetPo|
  00440		 |$LN12@IoCtlSetPo|

; 165  :             
; 166  :         case D2:
; 167  :             // enable only functional clocks
; 168  :             if (m_powerState < D2)

  00440	e59d3060	 ldr         r3, [sp, #0x60]
  00444	e28330dc	 add         r3, r3, #0xDC
  00448	e5933000	 ldr         r3, [r3]
  0044c	e3530002	 cmp         r3, #2
  00450	aa000005	 bge         |$LN11@IoCtlSetPo|

; 169  :                 {
; 170  :                 pBus->ReleaseIClock(m_devId);

  00454	e59d3060	 ldr         r3, [sp, #0x60]
  00458	e28330e0	 add         r3, r3, #0xE0
  0045c	e5931000	 ldr         r1, [r3]
  00460	e59d0014	 ldr         r0, [sp, #0x14]
  00464	eb000000	 bl          |?ReleaseIClock@omap35xxBus_t@@QAAHK@Z|
  00468	ea000009	 b           |$LN10@IoCtlSetPo|
  0046c		 |$LN11@IoCtlSetPo|

; 171  :                 }
; 172  :             else if (m_powerState > D2)

  0046c	e59d3060	 ldr         r3, [sp, #0x60]
  00470	e28330dc	 add         r3, r3, #0xDC
  00474	e5933000	 ldr         r3, [r3]
  00478	e3530002	 cmp         r3, #2
  0047c	da000004	 ble         |$LN9@IoCtlSetPo|

; 173  :                 {                
; 174  :                 pBus->RequestFClock(m_devId);

  00480	e59d3060	 ldr         r3, [sp, #0x60]
  00484	e28330e0	 add         r3, r3, #0xE0
  00488	e5931000	 ldr         r1, [r3]
  0048c	e59d0014	 ldr         r0, [sp, #0x14]
  00490	eb000000	 bl          |?RequestFClock@omap35xxBus_t@@QAAHK@Z|
  00494		 |$LN9@IoCtlSetPo|
  00494		 |$LN10@IoCtlSetPo|

; 175  :                 }
; 176  :             break;

  00494	ea00000e	 b           |$LN16@IoCtlSetPo|
  00498		 |$LN8@IoCtlSetPo|

; 177  :             
; 178  :         case D3:
; 179  :         case D4:
; 180  :             if (m_powerState < D3)

  00498	e59d3060	 ldr         r3, [sp, #0x60]
  0049c	e28330dc	 add         r3, r3, #0xDC
  004a0	e5933000	 ldr         r3, [r3]
  004a4	e3530003	 cmp         r3, #3
  004a8	aa000009	 bge         |$LN7@IoCtlSetPo|

; 181  :                 {                
; 182  :                 pBus->ReleaseFClock(m_devId);

  004ac	e59d3060	 ldr         r3, [sp, #0x60]
  004b0	e28330e0	 add         r3, r3, #0xE0
  004b4	e5931000	 ldr         r1, [r3]
  004b8	e59d0014	 ldr         r0, [sp, #0x14]
  004bc	eb000000	 bl          |?ReleaseFClock@omap35xxBus_t@@QAAHK@Z|

; 183  :                 pBus->ReleaseIClock(m_devId);

  004c0	e59d3060	 ldr         r3, [sp, #0x60]
  004c4	e28330e0	 add         r3, r3, #0xE0
  004c8	e5931000	 ldr         r1, [r3]
  004cc	e59d0014	 ldr         r0, [sp, #0x14]
  004d0	eb000000	 bl          |?ReleaseIClock@omap35xxBus_t@@QAAHK@Z|
  004d4		 |$LN7@IoCtlSetPo|
  004d4		 |$LN16@IoCtlSetPo|

; 184  :                 }
; 185  :             break;
; 186  :         }
; 187  : 
; 188  :     // Disable power if new state is D4
; 189  :     if (oldState != newState)

  004d4	e59d2010	 ldr         r2, [sp, #0x10]
  004d8	e59d3018	 ldr         r3, [sp, #0x18]
  004dc	e1520003	 cmp         r2, r3
  004e0	0a000065	 beq         |$LN6@IoCtlSetPo|

; 190  :         {
; 191  :         // check if context restore needs to be sent
; 192  :         if (((m_ffPower & POWERFLAGS_CONTEXTRESTORE) != 0) &&
; 193  :             (oldState >= D3 && newState <= D2))

  004e4	e59d3060	 ldr         r3, [sp, #0x60]
  004e8	e28330d8	 add         r3, r3, #0xD8
  004ec	e5933000	 ldr         r3, [r3]
  004f0	e3130c01	 tst         r3, #1, 24
  004f4	0a000022	 beq         |$LN5@IoCtlSetPo|
  004f8	e59d3010	 ldr         r3, [sp, #0x10]
  004fc	e3530003	 cmp         r3, #3
  00500	ba00001f	 blt         |$LN5@IoCtlSetPo|
  00504	e59d3018	 ldr         r3, [sp, #0x18]
  00508	e3530002	 cmp         r3, #2
  0050c	ca00001c	 bgt         |$LN5@IoCtlSetPo|

; 194  :             {
; 195  :             // Check if the device context state is retained and device isn't being
; 196  :             // initialized
; 197  :             if(pBus->GetDeviceContextState(m_devId) == FALSE && m_hDevice != NULL)

  00510	e59d3060	 ldr         r3, [sp, #0x60]
  00514	e28330e0	 add         r3, r3, #0xE0
  00518	e5931000	 ldr         r1, [r3]
  0051c	e59d0014	 ldr         r0, [sp, #0x14]
  00520	eb000000	 bl          |?GetDeviceContextState@omap35xxBus_t@@QAAHK@Z|
  00524	e58d0048	 str         r0, [sp, #0x48]
  00528	e59d3048	 ldr         r3, [sp, #0x48]
  0052c	e3530000	 cmp         r3, #0
  00530	1a000013	 bne         |$LN4@IoCtlSetPo|
  00534	e59d3060	 ldr         r3, [sp, #0x60]
  00538	e28330d0	 add         r3, r3, #0xD0
  0053c	e5933000	 ldr         r3, [r3]
  00540	e3530000	 cmp         r3, #0
  00544	0a00000e	 beq         |$LN4@IoCtlSetPo|

; 198  :                 {
; 199  :                 PmxSendDeviceNotification(DEVICEMEDIATOR_DEVICE_LIST,
; 200  :                         m_devId, IOCTL_CONTEXT_RESTORE,
; 201  :                         NULL, 0, NULL, 0, NULL);

  00548	e3a03000	 mov         r3, #0
  0054c	e58d300c	 str         r3, [sp, #0xC]
  00550	e3a03000	 mov         r3, #0
  00554	e58d3008	 str         r3, [sp, #8]
  00558	e3a03000	 mov         r3, #0
  0055c	e58d3004	 str         r3, [sp, #4]
  00560	e3a03000	 mov         r3, #0
  00564	e58d3000	 str         r3, [sp]
  00568	e3a03000	 mov         r3, #0
  0056c	e59f2130	 ldr         r2, [pc, #0x130]
  00570	e59d1060	 ldr         r1, [sp, #0x60]
  00574	e28110e0	 add         r1, r1, #0xE0
  00578	e5911000	 ldr         r1, [r1]
  0057c	e3a00001	 mov         r0, #1
  00580	eb000000	 bl          PmxSendDeviceNotification
  00584		 |$LN4@IoCtlSetPo|
  00584		 |$LN5@IoCtlSetPo|

; 202  :                 }
; 203  :             }
; 204  : 
; 205  :         if (m_bSendPostDevicePowerStateChange == TRUE &&
; 206  :             pBus->PostDevicePowerStateChange(m_devId, oldState, newState) == -1)

  00584	e59d3060	 ldr         r3, [sp, #0x60]
  00588	e28330f0	 add         r3, r3, #0xF0
  0058c	e5933000	 ldr         r3, [r3]
  00590	e3530001	 cmp         r3, #1
  00594	1a00000e	 bne         |$LN3@IoCtlSetPo|
  00598	e59d3018	 ldr         r3, [sp, #0x18]
  0059c	e59d2010	 ldr         r2, [sp, #0x10]
  005a0	e59d1060	 ldr         r1, [sp, #0x60]
  005a4	e28110e0	 add         r1, r1, #0xE0
  005a8	e5911000	 ldr         r1, [r1]
  005ac	e59d0014	 ldr         r0, [sp, #0x14]
  005b0	eb000000	 bl          |?PostDevicePowerStateChange@omap35xxBus_t@@QAAKKW4_CEDEVICE_POWER_STATE@@0@Z|
  005b4	e58d004c	 str         r0, [sp, #0x4C]
  005b8	e59d304c	 ldr         r3, [sp, #0x4C]
  005bc	e3730001	 cmn         r3, #1
  005c0	1a000003	 bne         |$LN3@IoCtlSetPo|

; 207  :             {
; 208  :             m_bSendPostDevicePowerStateChange = FALSE;

  005c4	e59d3060	 ldr         r3, [sp, #0x60]
  005c8	e28320f0	 add         r2, r3, #0xF0
  005cc	e3a03000	 mov         r3, #0
  005d0	e5823000	 str         r3, [r2]
  005d4		 |$LN3@IoCtlSetPo|

; 209  :             }
; 210  : 
; 211  :         if (m_bSendPostNotifyDevicePowerStateChange == TRUE &&
; 212  :             pBus->PostNotifyDevicePowerStateChange(m_devId, oldState, newState) == -1)

  005d4	e59d3060	 ldr         r3, [sp, #0x60]
  005d8	e28330f8	 add         r3, r3, #0xF8
  005dc	e5933000	 ldr         r3, [r3]
  005e0	e3530001	 cmp         r3, #1
  005e4	1a00000e	 bne         |$LN2@IoCtlSetPo|
  005e8	e59d3018	 ldr         r3, [sp, #0x18]
  005ec	e59d2010	 ldr         r2, [sp, #0x10]
  005f0	e59d1060	 ldr         r1, [sp, #0x60]
  005f4	e28110e0	 add         r1, r1, #0xE0
  005f8	e5911000	 ldr         r1, [r1]
  005fc	e59d0014	 ldr         r0, [sp, #0x14]
  00600	eb000000	 bl          |?PostNotifyDevicePowerStateChange@omap35xxBus_t@@QAAKKW4_CEDEVICE_POWER_STATE@@0@Z|
  00604	e58d0050	 str         r0, [sp, #0x50]
  00608	e59d3050	 ldr         r3, [sp, #0x50]
  0060c	e3730001	 cmn         r3, #1
  00610	1a000003	 bne         |$LN2@IoCtlSetPo|

; 213  :             {
; 214  :             m_bSendPostNotifyDevicePowerStateChange = FALSE;

  00614	e59d3060	 ldr         r3, [sp, #0x60]
  00618	e28320f8	 add         r2, r3, #0xF8
  0061c	e3a03000	 mov         r3, #0
  00620	e5823000	 str         r3, [r2]
  00624		 |$LN2@IoCtlSetPo|

; 215  :             }
; 216  : 
; 217  :         if (m_bSendPostPinMuxChange == TRUE &&
; 218  :             pBus->UpdateOnDeviceStateChange(m_devId, oldState, newState, FALSE) == -1)

  00624	e59d3060	 ldr         r3, [sp, #0x60]
  00628	e28330e8	 add         r3, r3, #0xE8
  0062c	e5933000	 ldr         r3, [r3]
  00630	e3530001	 cmp         r3, #1
  00634	1a000010	 bne         |$LN1@IoCtlSetPo|
  00638	e3a03000	 mov         r3, #0
  0063c	e58d3000	 str         r3, [sp]
  00640	e59d3018	 ldr         r3, [sp, #0x18]
  00644	e59d2010	 ldr         r2, [sp, #0x10]
  00648	e59d1060	 ldr         r1, [sp, #0x60]
  0064c	e28110e0	 add         r1, r1, #0xE0
  00650	e5911000	 ldr         r1, [r1]
  00654	e59d0014	 ldr         r0, [sp, #0x14]
  00658	eb000000	 bl          |?UpdateOnDeviceStateChange@omap35xxBus_t@@QAAKKW4_CEDEVICE_POWER_STATE@@0H@Z|
  0065c	e58d0054	 str         r0, [sp, #0x54]
  00660	e59d3054	 ldr         r3, [sp, #0x54]
  00664	e3730001	 cmn         r3, #1
  00668	1a000003	 bne         |$LN1@IoCtlSetPo|

; 219  :             {
; 220  :             m_bSendPostPinMuxChange = FALSE;

  0066c	e59d3060	 ldr         r3, [sp, #0x60]
  00670	e28320e8	 add         r2, r3, #0xE8
  00674	e3a03000	 mov         r3, #0
  00678	e5823000	 str         r3, [r2]
  0067c		 |$LN1@IoCtlSetPo|
  0067c		 |$LN6@IoCtlSetPo|

; 221  :             }
; 222  :         }
; 223  :     
; 224  :     // Save new power state
; 225  :     m_powerState = newState;

  0067c	e59d3060	 ldr         r3, [sp, #0x60]
  00680	e28320dc	 add         r2, r3, #0xDC
  00684	e59d3018	 ldr         r3, [sp, #0x18]
  00688	e5823000	 str         r3, [r2]

; 226  :     return TRUE;

  0068c	e3a03001	 mov         r3, #1
  00690	e58d3034	 str         r3, [sp, #0x34]

; 227  : }

  00694	e59d0034	 ldr         r0, [sp, #0x34]
  00698	e28dd058	 add         sp, sp, #0x58
  0069c	e89d6000	 ldmia       sp, {sp, lr}
  006a0	e12fff1e	 bx          lr
  006a4		 |$LN34@IoCtlSetPo|
  006a4		 |$LN35@IoCtlSetPo|
  006a4	80038140	 DCD         0x80038140
  006a8		 |$M42467|

			 ENDP  ; |?IoCtlSetPowerState@omap35xxBusChild_t@@UAAHPAW4_CEDEVICE_POWER_STATE@@@Z|, omap35xxBusChild_t::IoCtlSetPowerState


  00020			 AREA	 |.pdata|, PDATA
|$T42477| DCD	|$LN5@IoControl|
	DCD	0x40000c04
; Function compile flags: /Odtp

  006a8			 AREA	 |.text|, CODE, ARM

  006a8		 |?IoControl@omap35xxBusChild_t@@UAAHKPAEK0KPAK@Z| PROC ; omap35xxBusChild_t::IoControl

; 243  : {

  006a8		 |$LN5@IoControl|
  006a8	e1a0c00d	 mov         r12, sp
  006ac	e92d000f	 stmdb       sp!, {r0 - r3}
  006b0	e92d5000	 stmdb       sp!, {r12, lr}
  006b4	e24dd008	 sub         sp, sp, #8
  006b8		 |$M42474|

; 244  :     BOOL rc = FALSE;

  006b8	e3a03000	 mov         r3, #0
  006bc	e58d3000	 str         r3, [sp]

; 245  :     UNREFERENCED_PARAMETER(code);
; 246  :     UNREFERENCED_PARAMETER(pInBuffer);
; 247  :     UNREFERENCED_PARAMETER(inSize);
; 248  :     UNREFERENCED_PARAMETER(pOutBuffer);
; 249  :     UNREFERENCED_PARAMETER(outSize);
; 250  :     UNREFERENCED_PARAMETER(pOutSize);    
; 251  :     return rc;

  006c0	e59d3000	 ldr         r3, [sp]
  006c4	e58d3004	 str         r3, [sp, #4]

; 252  : }

  006c8	e59d0004	 ldr         r0, [sp, #4]
  006cc	e28dd008	 add         sp, sp, #8
  006d0	e89d6000	 ldmia       sp, {sp, lr}
  006d4	e12fff1e	 bx          lr
  006d8		 |$M42475|

			 ENDP  ; |?IoControl@omap35xxBusChild_t@@UAAHKPAEK0KPAK@Z|, omap35xxBusChild_t::IoControl

	EXPORT	|??0lock_factory@?$singleton@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03V?$static_allocator@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03@2@@ce@@QAA@XZ| ; ce::singleton<ce::free_list<100,ce::allocator>,4,ce::static_allocator<ce::free_list<100,ce::allocator>,4> >::lock_factory::lock_factory
; File c:\wince600\public\common\oak\inc\singleton.hxx

  00000			 AREA	 |.pdata|, PDATA
|$T42482| DCD	|$LN5@factory|
	DCD	0x40000601
; Function compile flags: /Odtp

  00000			 AREA	 |.text$yc|, CODE, ARM

  00000		 |??__E?_factory@?$singleton@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03V?$static_allocator@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03@2@@ce@@1Ulock_factory@12@A@@YAXXZ| PROC ; `dynamic initializer for 'ce::singleton<ce::free_list<100,ce::allocator>,4,ce::static_allocator<ce::free_list<100,ce::allocator>,4> >::_factory''

; 390  :     {

  00000		 |$LN5@factory|
  00000	e52de004	 str         lr, [sp, #-4]!
  00004		 |$M42479|
  00004	e59f0008	 ldr         r0, [pc, #8]
  00008	eb000000	 bl          |??0lock_factory@?$singleton@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03V?$static_allocator@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03@2@@ce@@QAA@XZ|
  0000c	e49de004	 ldr         lr, [sp], #4
  00010	e12fff1e	 bx          lr
  00014		 |$LN6@factory|
  00014		 |$LN7@factory|
  00014	00000000	 DCD         |?_factory@?$singleton@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03V?$static_allocator@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03@2@@ce@@1Ulock_factory@12@A|
  00018		 |$M42480|

			 ENDP  ; |??__E?_factory@?$singleton@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03V?$static_allocator@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03@2@@ce@@1Ulock_factory@12@A@@YAXXZ|, `dynamic initializer for 'ce::singleton<ce::free_list<100,ce::allocator>,4,ce::static_allocator<ce::free_list<100,ce::allocator>,4> >::_factory''

	EXPORT	|?get_lock@?$singleton@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03V?$static_allocator@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03@2@@ce@@KAAAVcritical_section@2@XZ| ; ce::singleton<ce::free_list<100,ce::allocator>,4,ce::static_allocator<ce::free_list<100,ce::allocator>,4> >::get_lock

  00000			 AREA	 |.pdata|, PDATA
|$T42492| DCD	|$LN5@lock_facto|
	DCD	0x40000b04
; Function compile flags: /Odtp

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |??0lock_factory@?$singleton@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03V?$static_allocator@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03@2@@ce@@QAA@XZ| PROC ; ce::singleton<ce::free_list<100,ce::allocator>,4,ce::static_allocator<ce::free_list<100,ce::allocator>,4> >::lock_factory::lock_factory

; 339  :         lock_factory()

  00000		 |$LN5@lock_facto|
  00000	e1a0c00d	 mov         r12, sp
  00004	e92d0001	 stmdb       sp!, {r0}
  00008	e92d5000	 stmdb       sp!, {r12, lr}
  0000c	e24dd004	 sub         sp, sp, #4
  00010		 |$M42489|
  00010	eb000000	 bl          |?get_lock@?$singleton@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03V?$static_allocator@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03@2@@ce@@KAAAVcritical_section@2@XZ|

; 340  :             {get_lock(); }

  00014	e59d300c	 ldr         r3, [sp, #0xC]
  00018	e58d3000	 str         r3, [sp]
  0001c	e59d0000	 ldr         r0, [sp]
  00020	e28dd004	 add         sp, sp, #4
  00024	e89d6000	 ldmia       sp, {sp, lr}
  00028	e12fff1e	 bx          lr
  0002c		 |$M42490|

			 ENDP  ; |??0lock_factory@?$singleton@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03V?$static_allocator@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03@2@@ce@@QAA@XZ|, ce::singleton<ce::free_list<100,ce::allocator>,4,ce::static_allocator<ce::free_list<100,ce::allocator>,4> >::lock_factory::lock_factory

	EXPORT	|??__Fcs@?1??get_lock@?$singleton@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03V?$static_allocator@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03@2@@ce@@KAAAVcritical_section@2@XZ@YAXXZ| ; `ce::singleton<ce::free_list<100,ce::allocator>,4,ce::static_allocator<ce::free_list<100,ce::allocator>,4> >::get_lock'::`2'::`dynamic atexit destructor for 'cs''
	EXPORT	|??0critical_section@ce@@QAA@XZ|	; ce::critical_section::critical_section
	EXPORT	|?cs@?1??get_lock@?$singleton@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03V?$static_allocator@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03@2@@ce@@KAAAVcritical_section@3@XZ@4V43@A| [ DATA ] ; `ce::singleton<ce::free_list<100,ce::allocator>,4,ce::static_allocator<ce::free_list<100,ce::allocator>,4> >::get_lock'::`2'::cs
	EXPORT	|??_B?1??get_lock@?$singleton@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03V?$static_allocator@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03@2@@ce@@KAAAVcritical_section@2@XZ@51| [ DATA ] ; `ce::singleton<ce::free_list<100,ce::allocator>,4,ce::static_allocator<ce::free_list<100,ce::allocator>,4> >::get_lock'::`2'::`local static guard'
	IMPORT	|atexit|

  00000			 AREA	 |.bss|, NOINIT
|?cs@?1??get_lock@?$singleton@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03V?$static_allocator@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03@2@@ce@@KAAAVcritical_section@3@XZ@4V43@A| % 0x14 ; `ce::singleton<ce::free_list<100,ce::allocator>,4,ce::static_allocator<ce::free_list<100,ce::allocator>,4> >::get_lock'::`2'::cs

  00000			 AREA	 |.bss|, NOINIT
|??_B?1??get_lock@?$singleton@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03V?$static_allocator@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03@2@@ce@@KAAAVcritical_section@2@XZ@51| % 0x4 ; `ce::singleton<ce::free_list<100,ce::allocator>,4,ce::static_allocator<ce::free_list<100,ce::allocator>,4> >::get_lock'::`2'::`local static guard'

  00000			 AREA	 |.pdata|, PDATA
|$T42500| DCD	|$LN6@get_lock|
	DCD	0x40001b02
; Function compile flags: /Odtp

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?get_lock@?$singleton@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03V?$static_allocator@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03@2@@ce@@KAAAVcritical_section@2@XZ| PROC ; ce::singleton<ce::free_list<100,ce::allocator>,4,ce::static_allocator<ce::free_list<100,ce::allocator>,4> >::get_lock

; 320  :     {

  00000		 |$LN6@get_lock|
  00000	e52de004	 str         lr, [sp, #-4]!
  00004	e24dd008	 sub         sp, sp, #8
  00008		 |$M42497|

; 321  :         static critical_section cs;

  00008	e59f3058	 ldr         r3, [pc, #0x58]
  0000c	e5933000	 ldr         r3, [r3]
  00010	e3130001	 tst         r3, #1
  00014	1a000008	 bne         |$LN1@get_lock|
  00018	e59f3048	 ldr         r3, [pc, #0x48]
  0001c	e5933000	 ldr         r3, [r3]
  00020	e3832001	 orr         r2, r3, #1
  00024	e59f303c	 ldr         r3, [pc, #0x3C]
  00028	e5832000	 str         r2, [r3]
  0002c	e59f0028	 ldr         r0, [pc, #0x28]
  00030	eb000000	 bl          |??0critical_section@ce@@QAA@XZ|
  00034	e59f0028	 ldr         r0, [pc, #0x28]
  00038	eb000000	 bl          atexit
  0003c		 |$LN1@get_lock|

; 322  :         
; 323  :         //
; 324  :         // This statement forces compiler to instantiate _factory member
; 325  :         // thus assuring that lock_factory ctor is called. 
; 326  :         //
; 327  :         lock_factory* volatile p = &_factory;

  0003c	e59f301c	 ldr         r3, [pc, #0x1C]
  00040	e58d3000	 str         r3, [sp]

; 328  : 
; 329  :         return cs;

  00044	e59f3010	 ldr         r3, [pc, #0x10]
  00048	e58d3004	 str         r3, [sp, #4]

; 330  :     }

  0004c	e59d0004	 ldr         r0, [sp, #4]
  00050	e28dd008	 add         sp, sp, #8
  00054	e49de004	 ldr         lr, [sp], #4
  00058	e12fff1e	 bx          lr
  0005c		 |$LN7@get_lock|
  0005c		 |$LN8@get_lock|
  0005c	00000000	 DCD         |?cs@?1??get_lock@?$singleton@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03V?$static_allocator@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03@2@@ce@@KAAAVcritical_section@3@XZ@4V43@A|
  00060		 |$LN9@get_lock|
  00060	00000000	 DCD         |?_factory@?$singleton@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03V?$static_allocator@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03@2@@ce@@1Ulock_factory@12@A|
  00064		 |$LN10@get_lock|
  00064	00000000	 DCD         |??__Fcs@?1??get_lock@?$singleton@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03V?$static_allocator@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03@2@@ce@@KAAAVcritical_section@2@XZ@YAXXZ|
  00068		 |$LN11@get_lock|
  00068	00000000	 DCD         |??_B?1??get_lock@?$singleton@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03V?$static_allocator@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03@2@@ce@@KAAAVcritical_section@2@XZ@51|
  0006c		 |$M42498|

			 ENDP  ; |?get_lock@?$singleton@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03V?$static_allocator@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03@2@@ce@@KAAAVcritical_section@2@XZ|, ce::singleton<ce::free_list<100,ce::allocator>,4,ce::static_allocator<ce::free_list<100,ce::allocator>,4> >::get_lock

	IMPORT	|InitializeCriticalSection|
; File c:\wince600\public\common\oak\inc\sync.hxx

  00000			 AREA	 |.pdata|, PDATA
|$T42513| DCD	|$LN5@critical_s|
	DCD	0x40000c04
; Function compile flags: /Odtp

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |??0critical_section@ce@@QAA@XZ| PROC	; ce::critical_section::critical_section

; 125  :     critical_section()

  00000		 |$LN5@critical_s|
  00000	e1a0c00d	 mov         r12, sp
  00004	e92d0001	 stmdb       sp!, {r0}
  00008	e92d5000	 stmdb       sp!, {r12, lr}
  0000c	e24dd004	 sub         sp, sp, #4
  00010		 |$M42510|
  00010	e59d000c	 ldr         r0, [sp, #0xC]
  00014	eb000000	 bl          InitializeCriticalSection
  00018	e59d300c	 ldr         r3, [sp, #0xC]
  0001c	e58d3000	 str         r3, [sp]
  00020	e59d0000	 ldr         r0, [sp]
  00024	e28dd004	 add         sp, sp, #4
  00028	e89d6000	 ldmia       sp, {sp, lr}
  0002c	e12fff1e	 bx          lr
  00030		 |$M42511|

			 ENDP  ; |??0critical_section@ce@@QAA@XZ|, ce::critical_section::critical_section

	EXPORT	|??1critical_section@ce@@QAA@XZ|	; ce::critical_section::~critical_section

  00000			 AREA	 |.pdata|, PDATA
|$T42520| DCD	|$LN5@dynamic|
	DCD	0x40000601
; Function compile flags: /Odtp

  00000			 AREA	 |.text$yd|, CODE, ARM

  00000		 |??__Fcs@?1??get_lock@?$singleton@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03V?$static_allocator@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03@2@@ce@@KAAAVcritical_section@2@XZ@YAXXZ| PROC ; `ce::singleton<ce::free_list<100,ce::allocator>,4,ce::static_allocator<ce::free_list<100,ce::allocator>,4> >::get_lock'::`2'::`dynamic atexit destructor for 'cs''
  00000		 |$LN5@dynamic|
  00000	e52de004	 str         lr, [sp, #-4]!
  00004		 |$M42517|
  00004	e59f0008	 ldr         r0, [pc, #8]
  00008	eb000000	 bl          |??1critical_section@ce@@QAA@XZ|
  0000c	e49de004	 ldr         lr, [sp], #4
  00010	e12fff1e	 bx          lr
  00014		 |$LN6@dynamic|
  00014		 |$LN7@dynamic|
  00014	00000000	 DCD         |?cs@?1??get_lock@?$singleton@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03V?$static_allocator@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03@2@@ce@@KAAAVcritical_section@3@XZ@4V43@A|
  00018		 |$M42518|

			 ENDP  ; |??__Fcs@?1??get_lock@?$singleton@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03V?$static_allocator@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03@2@@ce@@KAAAVcritical_section@2@XZ@YAXXZ|, `ce::singleton<ce::free_list<100,ce::allocator>,4,ce::static_allocator<ce::free_list<100,ce::allocator>,4> >::get_lock'::`2'::`dynamic atexit destructor for 'cs''

	IMPORT	|DeleteCriticalSection|

  00000			 AREA	 |.pdata|, PDATA
|$T42529| DCD	|$LN5@critical_s@2|
	DCD	0x40000703
; Function compile flags: /Odtp

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |??1critical_section@ce@@QAA@XZ| PROC	; ce::critical_section::~critical_section

; 129  :         {DeleteCriticalSection(this); }

  00000		 |$LN5@critical_s@2|
  00000	e1a0c00d	 mov         r12, sp
  00004	e92d0001	 stmdb       sp!, {r0}
  00008	e92d5000	 stmdb       sp!, {r12, lr}
  0000c		 |$M42526|
  0000c	e59d0008	 ldr         r0, [sp, #8]
  00010	eb000000	 bl          DeleteCriticalSection
  00014	e89d6000	 ldmia       sp, {sp, lr}
  00018	e12fff1e	 bx          lr
  0001c		 |$M42527|

			 ENDP  ; |??1critical_section@ce@@QAA@XZ|, ce::critical_section::~critical_section

	EXPORT	|?_factory@?$singleton@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03V?$static_allocator@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03@2@@ce@@1Ulock_factory@12@A| [ DATA ] ; ce::singleton<ce::free_list<100,ce::allocator>,4,ce::static_allocator<ce::free_list<100,ce::allocator>,4> >::_factory

  00000			 AREA	 |.bss|, NOINIT
|?_factory@?$singleton@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03V?$static_allocator@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03@2@@ce@@1Ulock_factory@12@A| % 0x1 ; ce::singleton<ce::free_list<100,ce::allocator>,4,ce::static_allocator<ce::free_list<100,ce::allocator>,4> >::_factory

  00000			 AREA	 |.CRT$XCU|, DATA
|?_factory$initializer$@?$singleton@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03V?$static_allocator@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03@2@@ce@@1P6AXXZA| DCD |??__E?_factory@?$singleton@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03V?$static_allocator@V?$free_list@$0GE@Vallocator@ce@@@ce@@$03@2@@ce@@1Ulock_factory@12@A@@YAXXZ| ; ce::singleton<ce::free_list<100,ce::allocator>,4,ce::static_allocator<ce::free_list<100,ce::allocator>,4> >::_factory$initializer$
	END
