; Listing generated by Microsoft (R) Optimizing Compiler Version 14.01.60511.01 

	TTL	C:\WINCE600\PLATFORM\COMMON\SRC\SOC\COMMON_TI_V1\COMMON_TI\PM\DEVICEMEDIATOR\displaydevice.cpp
	CODE32

  00000			 AREA	 |.drectve|, DRECTVE
	DCB	"-defaultlib:LIBCMT "
	DCB	"-defaultlib:OLDNAMES "


  00000			 AREA	 |.bss|, NOINIT
|s_fnCreateDCW| % 0x4
|s_fnDeleteDC| % 0x4
|s_fnExtEscape| % 0x4
|s_hCore| %	0x4
|s_hGWESApiReady| % 0x4
|s_bGWESReady| % 0x4
	EXPORT	|?Initialize@DeviceBase@@UAAHPBG@Z|	; DeviceBase::Initialize
	EXPORT	|?Initialize@DisplayDevice@@UAAHPBG@Z|	; DisplayDevice::Initialize

  00000			 AREA	 |.pdata|, PDATA
|$T32626| DCD	|$LN6@Initialize|
	DCD	0x40001d04
; Function compile flags: /Odtp
; File c:\wince600\platform\common\src\soc\common_ti_v1\common_ti\pm\devicemediator\displaydevice.cpp

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?Initialize@DisplayDevice@@UAAHPBG@Z| PROC ; DisplayDevice::Initialize

; 149  : {

  00000		 |$LN6@Initialize|
  00000	e1a0c00d	 mov         r12, sp
  00004	e92d0003	 stmdb       sp!, {r0, r1}
  00008	e92d5000	 stmdb       sp!, {r12, lr}
  0000c	e24dd00c	 sub         sp, sp, #0xC
  00010		 |$M32623|

; 150  :     BOOL rc = FALSE;

  00010	e3a03000	 mov         r3, #0
  00014	e58d3000	 str         r3, [sp]

; 151  : 
; 152  :     DeviceBase::Initialize(szDeviceName);

  00018	e59d1018	 ldr         r1, [sp, #0x18]
  0001c	e59d0014	 ldr         r0, [sp, #0x14]
  00020	eb000000	 bl          |?Initialize@DeviceBase@@UAAHPBG@Z|

; 153  :     m_hDevice = OpenDisplayDevice(szDeviceName);

  00024	e59d0018	 ldr         r0, [sp, #0x18]
  00028	eb000000	 bl          |?OpenDisplayDevice@@YAPAXPBG@Z|
  0002c	e58d0008	 str         r0, [sp, #8]
  00030	e59d3014	 ldr         r3, [sp, #0x14]
  00034	e283200c	 add         r2, r3, #0xC
  00038	e59d3008	 ldr         r3, [sp, #8]
  0003c	e5823000	 str         r3, [r2]

; 154  :     if (m_hDevice != NULL) rc = TRUE;

  00040	e59d3014	 ldr         r3, [sp, #0x14]
  00044	e283300c	 add         r3, r3, #0xC
  00048	e5933000	 ldr         r3, [r3]
  0004c	e3530000	 cmp         r3, #0
  00050	0a000001	 beq         |$LN1@Initialize|
  00054	e3a03001	 mov         r3, #1
  00058	e58d3000	 str         r3, [sp]
  0005c		 |$LN1@Initialize|

; 155  :     return rc;

  0005c	e59d3000	 ldr         r3, [sp]
  00060	e58d3004	 str         r3, [sp, #4]

; 156  : }

  00064	e59d0004	 ldr         r0, [sp, #4]
  00068	e28dd00c	 add         sp, sp, #0xC
  0006c	e89d6000	 ldmia       sp, {sp, lr}
  00070	e12fff1e	 bx          lr
  00074		 |$M32624|

			 ENDP  ; |?Initialize@DisplayDevice@@UAAHPBG@Z|, DisplayDevice::Initialize

	IMPORT	|wcscpy|
	IMPORT	|wcslen|
; File c:\wince600\platform\common\src\soc\common_ti_v1\common_ti\pm\devicemediator\devicebase.h

  00000			 AREA	 |.pdata|, PDATA
|$T32632| DCD	|$LN6@Initialize@2|
	DCD	0x40001704
; Function compile flags: /Odtp

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?Initialize@DeviceBase@@UAAHPBG@Z| PROC ; DeviceBase::Initialize

; 95   :         {

  00000		 |$LN6@Initialize@2|
  00000	e1a0c00d	 mov         r12, sp
  00004	e92d0003	 stmdb       sp!, {r0, r1}
  00008	e92d5000	 stmdb       sp!, {r12, lr}
  0000c	e24dd008	 sub         sp, sp, #8
  00010		 |$M32629|

; 96   :         if (_tcslen(szDeviceName) >= sizeof(m_szDeviceName) / sizeof(m_szDeviceName[0])) return FALSE;

  00010	e59d0014	 ldr         r0, [sp, #0x14]
  00014	eb000000	 bl          wcslen
  00018	e58d0004	 str         r0, [sp, #4]
  0001c	e59d3004	 ldr         r3, [sp, #4]
  00020	e3530080	 cmp         r3, #0x80
  00024	3a000002	 bcc         |$LN1@Initialize@2|
  00028	e3a03000	 mov         r3, #0
  0002c	e58d3000	 str         r3, [sp]
  00030	ea000005	 b           |$LN2@Initialize@2|
  00034		 |$LN1@Initialize@2|

; 97   :         _tcscpy(m_szDeviceName, szDeviceName);

  00034	e59d1014	 ldr         r1, [sp, #0x14]
  00038	e59d3010	 ldr         r3, [sp, #0x10]
  0003c	e2830010	 add         r0, r3, #0x10
  00040	eb000000	 bl          wcscpy

; 98   :         return TRUE;

  00044	e3a03001	 mov         r3, #1
  00048	e58d3000	 str         r3, [sp]
  0004c		 |$LN2@Initialize@2|

; 99   :         }

  0004c	e59d0000	 ldr         r0, [sp]
  00050	e28dd008	 add         sp, sp, #8
  00054	e89d6000	 ldmia       sp, {sp, lr}
  00058	e12fff1e	 bx          lr
  0005c		 |$M32630|

			 ENDP  ; |?Initialize@DeviceBase@@UAAHPBG@Z|, DeviceBase::Initialize

	EXPORT	|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@| [ DATA ] ; `string'
	EXPORT	|??_C@_1MC@KJEIFGHA@?$AAC?$AA?3?$AA?2?$AAW?$AAI?$AAN?$AAC?$AAE?$AA6?$AA0?$AA0?$AA?2?$AAP?$AAL?$AAA?$AAT?$AAF?$AAO?$AAR?$AAM?$AA?2?$AAC?$AAO?$AAM?$AAM?$AAO?$AAN?$AA?2?$AAS?$AAR?$AAC?$AA?2@| [ DATA ] ; `string'
	IMPORT	|CloseHandle|
	IMPORT	|WaitForSingleObject|
	IMPORT	|NKDbgPrintfW|
	IMPORT	|dpCurSettings|

  00008			 AREA	 |.pdata|, PDATA
|$T32648| DCD	|$LN18@OpenDispla|
	DCD	0x40007b04
; File c:\wince600\platform\common\src\soc\common_ti_v1\common_ti\pm\devicemediator\displaydevice.cpp

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@| DCB "%"
	DCB	0x0, "s", 0x0, ":", 0x0, " ", 0x0, "D", 0x0, "E", 0x0, "B"
	DCB	0x0, "U", 0x0, "G", 0x0, "C", 0x0, "H", 0x0, "K", 0x0, " "
	DCB	0x0, "f", 0x0, "a", 0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d"
	DCB	0x0, " ", 0x0, "i", 0x0, "n", 0x0, " ", 0x0, "f", 0x0, "i"
	DCB	0x0, "l", 0x0, "e", 0x0, " ", 0x0, "%", 0x0, "s", 0x0, " "
	DCB	0x0, "a", 0x0, "t", 0x0, " ", 0x0, "l", 0x0, "i", 0x0, "n"
	DCB	0x0, "e", 0x0, " ", 0x0, "%", 0x0, "d", 0x0, " ", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1MC@KJEIFGHA@?$AAC?$AA?3?$AA?2?$AAW?$AAI?$AAN?$AAC?$AAE?$AA6?$AA0?$AA0?$AA?2?$AAP?$AAL?$AAA?$AAT?$AAF?$AAO?$AAR?$AAM?$AA?2?$AAC?$AAO?$AAM?$AAM?$AAO?$AAN?$AA?2?$AAS?$AAR?$AAC?$AA?2@| DCB "C"
	DCB	0x0, ":", 0x0, "\\", 0x0, "W", 0x0, "I", 0x0, "N", 0x0, "C"
	DCB	0x0, "E", 0x0, "6", 0x0, "0", 0x0, "0", 0x0, "\\", 0x0, "P"
	DCB	0x0, "L", 0x0, "A", 0x0, "T", 0x0, "F", 0x0, "O", 0x0, "R"
	DCB	0x0, "M", 0x0, "\\", 0x0, "C", 0x0, "O", 0x0, "M", 0x0, "M"
	DCB	0x0, "O", 0x0, "N", 0x0, "\\", 0x0, "S", 0x0, "R", 0x0, "C"
	DCB	0x0, "\\", 0x0, "S", 0x0, "O", 0x0, "C", 0x0, "\\", 0x0, "C"
	DCB	0x0, "O", 0x0, "M", 0x0, "M", 0x0, "O", 0x0, "N", 0x0, "_"
	DCB	0x0, "T", 0x0, "I", 0x0, "_", 0x0, "V", 0x0, "1", 0x0, "\\"
	DCB	0x0, "C", 0x0, "O", 0x0, "M", 0x0, "M", 0x0, "O", 0x0, "N"
	DCB	0x0, "_", 0x0, "T", 0x0, "I", 0x0, "\\", 0x0, "P", 0x0, "M"
	DCB	0x0, "\\", 0x0, "D", 0x0, "E", 0x0, "V", 0x0, "I", 0x0, "C"
	DCB	0x0, "E", 0x0, "M", 0x0, "E", 0x0, "D", 0x0, "I", 0x0, "A"
	DCB	0x0, "T", 0x0, "O", 0x0, "R", 0x0, "\\", 0x0, ".", 0x0, "\\"
	DCB	0x0, "d", 0x0, "i", 0x0, "s", 0x0, "p", 0x0, "l", 0x0, "a"
	DCB	0x0, "y", 0x0, "d", 0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c"
	DCB	0x0, "e", 0x0, ".", 0x0, "c", 0x0, "p", 0x0, "p", 0x0, 0x0
	DCB	0x0					; `string'
; Function compile flags: /Odtp

  00074			 AREA	 |.text|, CODE, ARM

  00074		 |?OpenDisplayDevice@@YAPAXPBG@Z| PROC	; OpenDisplayDevice

; 105  : {    

  00074		 |$LN18@OpenDispla|
  00074	e1a0c00d	 mov         r12, sp
  00078	e92d0001	 stmdb       sp!, {r0}
  0007c	e92d5010	 stmdb       sp!, {r4, r12, lr}
  00080	e24dd028	 sub         sp, sp, #0x28
  00084		 |$M32645|

; 106  :     HANDLE hRet = NULL;

  00084	e3a03000	 mov         r3, #0
  00088	e58d3000	 str         r3, [sp]

; 107  : 
; 108  :     // Make sure GWES is ready for us to access this device
; 109  :     //
; 110  :     if  (s_bGWESReady == FALSE) 

  0008c	e59f31c4	 ldr         r3, [pc, #0x1C4]
  00090	e5933000	 ldr         r3, [r3]
  00094	e3530000	 cmp         r3, #0
  00098	1a00002a	 bne         |$LN5@OpenDispla|

; 111  :         {
; 112  :         if (InitDisplayDeviceInterface() == FALSE) goto cleanUp;

  0009c	eb000000	 bl          |?InitDisplayDeviceInterface@@YAHXZ|
  000a0	e58d000c	 str         r0, [sp, #0xC]
  000a4	e59d300c	 ldr         r3, [sp, #0xC]
  000a8	e3530000	 cmp         r3, #0
  000ac	1a000001	 bne         |$LN4@OpenDispla|
  000b0	ea00005c	 b           |$LN3@OpenDispla|
  000b4	ea00005b	 b           |$cleanUp$32537|
  000b8		 |$LN4@OpenDispla|

; 113  :         
; 114  :         // We need to wait for GWES to finish -- since this is happening
; 115  :         // at boot time, we shouldn't have to wait long.
; 116  :         //
; 117  :         DEBUGCHK(s_hGWESApiReady != NULL);        

  000b8	e59f319c	 ldr         r3, [pc, #0x19C]
  000bc	e5933000	 ldr         r3, [r3]
  000c0	e3530000	 cmp         r3, #0
  000c4	0a000002	 beq         |$LN8@OpenDispla|
  000c8	e3a03001	 mov         r3, #1
  000cc	e58d3010	 str         r3, [sp, #0x10]
  000d0	ea000007	 b           |$LN9@OpenDispla|
  000d4		 |$LN8@OpenDispla|
  000d4	e3a03075	 mov         r3, #0x75
  000d8	e59f216c	 ldr         r2, [pc, #0x16C]
  000dc	e59f1164	 ldr         r1, [pc, #0x164]
  000e0	e59f015c	 ldr         r0, [pc, #0x15C]
  000e4	eb000000	 bl          NKDbgPrintfW
  000e8	e6000010	 __debugbreak_ce
  000ec	e3a03000	 mov         r3, #0
  000f0	e58d3010	 str         r3, [sp, #0x10]
  000f4		 |$LN9@OpenDispla|

; 118  :         DWORD dwStatus = WaitForSingleObject(s_hGWESApiReady, INFINITE);

  000f4	e3e01000	 mvn         r1, #0
  000f8	e59f315c	 ldr         r3, [pc, #0x15C]
  000fc	e5930000	 ldr         r0, [r3]
  00100	eb000000	 bl          WaitForSingleObject
  00104	e58d0014	 str         r0, [sp, #0x14]
  00108	e59d3014	 ldr         r3, [sp, #0x14]
  0010c	e58d3004	 str         r3, [sp, #4]

; 119  :         if(dwStatus != WAIT_OBJECT_0) goto cleanUp;

  00110	e59d3004	 ldr         r3, [sp, #4]
  00114	e3530000	 cmp         r3, #0
  00118	0a000001	 beq         |$LN2@OpenDispla|
  0011c	ea000041	 b           |$LN1@OpenDispla|
  00120	ea000040	 b           |$cleanUp$32537|
  00124		 |$LN2@OpenDispla|

; 120  : 
; 121  :         // free allocated resources
; 122  :         //
; 123  :         ::CloseHandle(s_hGWESApiReady);

  00124	e59f3130	 ldr         r3, [pc, #0x130]
  00128	e5930000	 ldr         r0, [r3]
  0012c	eb000000	 bl          CloseHandle

; 124  : 
; 125  :         s_hGWESApiReady = NULL;        

  00130	e59f2124	 ldr         r2, [pc, #0x124]
  00134	e3a03000	 mov         r3, #0
  00138	e5823000	 str         r3, [r2]

; 126  :         s_bGWESReady = TRUE;

  0013c	e59f2114	 ldr         r2, [pc, #0x114]
  00140	e3a03001	 mov         r3, #1
  00144	e5823000	 str         r3, [r2]
  00148		 |$LN5@OpenDispla|

; 127  :         }
; 128  : 
; 129  :     // Get a handle to the client device.  The client's name will generally 
; 130  :     // be "DISPLAY" for the default display, but it could be anything that 
; 131  :     // CreateDC supports.
; 132  :     //
; 133  :     PREFAST_DEBUGCHK(s_fnCreateDCW != NULL);

  00148	e59f30f0	 ldr         r3, [pc, #0xF0]
  0014c	e5933000	 ldr         r3, [r3]
  00150	e3530000	 cmp         r3, #0
  00154	0a000002	 beq         |$LN10@OpenDispla|
  00158	e3a03001	 mov         r3, #1
  0015c	e58d3018	 str         r3, [sp, #0x18]
  00160	ea000007	 b           |$LN11@OpenDispla|
  00164		 |$LN10@OpenDispla|
  00164	e3a03085	 mov         r3, #0x85
  00168	e59f20dc	 ldr         r2, [pc, #0xDC]
  0016c	e59f10d4	 ldr         r1, [pc, #0xD4]
  00170	e59f00cc	 ldr         r0, [pc, #0xCC]
  00174	eb000000	 bl          NKDbgPrintfW
  00178	e6000010	 __debugbreak_ce
  0017c	e3a03000	 mov         r3, #0
  00180	e58d3018	 str         r3, [sp, #0x18]
  00184		 |$LN11@OpenDispla|

; 134  :     PREFAST_DEBUGCHK(s_fnDeleteDC != NULL);

  00184	e59f30c8	 ldr         r3, [pc, #0xC8]
  00188	e5933000	 ldr         r3, [r3]
  0018c	e3530000	 cmp         r3, #0
  00190	0a000002	 beq         |$LN12@OpenDispla|
  00194	e3a03001	 mov         r3, #1
  00198	e58d301c	 str         r3, [sp, #0x1C]
  0019c	ea000007	 b           |$LN13@OpenDispla|
  001a0		 |$LN12@OpenDispla|
  001a0	e3a03086	 mov         r3, #0x86
  001a4	e59f20a0	 ldr         r2, [pc, #0xA0]
  001a8	e59f1098	 ldr         r1, [pc, #0x98]
  001ac	e59f0090	 ldr         r0, [pc, #0x90]
  001b0	eb000000	 bl          NKDbgPrintfW
  001b4	e6000010	 __debugbreak_ce
  001b8	e3a03000	 mov         r3, #0
  001bc	e58d301c	 str         r3, [sp, #0x1C]
  001c0		 |$LN13@OpenDispla|

; 135  :     PREFAST_DEBUGCHK(s_fnExtEscape != NULL);

  001c0	e59f3088	 ldr         r3, [pc, #0x88]
  001c4	e5933000	 ldr         r3, [r3]
  001c8	e3530000	 cmp         r3, #0
  001cc	0a000002	 beq         |$LN14@OpenDispla|
  001d0	e3a03001	 mov         r3, #1
  001d4	e58d3020	 str         r3, [sp, #0x20]
  001d8	ea000007	 b           |$LN15@OpenDispla|
  001dc		 |$LN14@OpenDispla|
  001dc	e3a03087	 mov         r3, #0x87
  001e0	e59f2064	 ldr         r2, [pc, #0x64]
  001e4	e59f105c	 ldr         r1, [pc, #0x5C]
  001e8	e59f0054	 ldr         r0, [pc, #0x54]
  001ec	eb000000	 bl          NKDbgPrintfW
  001f0	e6000010	 __debugbreak_ce
  001f4	e3a03000	 mov         r3, #0
  001f8	e58d3020	 str         r3, [sp, #0x20]
  001fc		 |$LN15@OpenDispla|

; 136  : 
; 137  :     // Get handle to dc
; 138  :     hRet = s_fnCreateDCW(szDeviceName, NULL, NULL, NULL);

  001fc	e3a03000	 mov         r3, #0
  00200	e3a02000	 mov         r2, #0
  00204	e3a01000	 mov         r1, #0
  00208	e59d0034	 ldr         r0, [sp, #0x34]
  0020c	e59fe02c	 ldr         lr, [pc, #0x2C]
  00210	e59e4000	 ldr         r4, [lr]
  00214	e1a0e00f	 mov         lr, pc
  00218	e12fff14	 bx          r4
  0021c	e58d0024	 str         r0, [sp, #0x24]
  00220	e59d3024	 ldr         r3, [sp, #0x24]
  00224	e58d3000	 str         r3, [sp]
  00228		 |$LN1@OpenDispla|
  00228		 |$LN3@OpenDispla|
  00228		 |$cleanUp$32537|

; 139  : 
; 140  : cleanUp:    
; 141  :     return hRet;

  00228	e59d3000	 ldr         r3, [sp]
  0022c	e58d3008	 str         r3, [sp, #8]

; 142  : }

  00230	e59d0008	 ldr         r0, [sp, #8]
  00234	e28dd028	 add         sp, sp, #0x28
  00238	e89d6010	 ldmia       sp, {r4, sp, lr}
  0023c	e12fff1e	 bx          lr
  00240		 |$LN19@OpenDispla|
  00240		 |$LN20@OpenDispla|
  00240	00000000	 DCD         |s_fnCreateDCW|
  00244		 |$LN21@OpenDispla|
  00244	00000000	 DCD         |??_C@_1FK@FNONLNGN@?$AA?$CF?$AAs?$AA?3?$AA?5?$AAD?$AAE?$AAB?$AAU?$AAG?$AAC?$AAH?$AAK?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAi?$AAn?$AA?5?$AAf?$AAi?$AAl?$AAe?$AA?5?$AA?$CF?$AAs?$AA?5?$AAa@|
  00248		 |$LN22@OpenDispla|
  00248	00000000	 DCD         |dpCurSettings|
  0024c		 |$LN23@OpenDispla|
  0024c	00000000	 DCD         |??_C@_1MC@KJEIFGHA@?$AAC?$AA?3?$AA?2?$AAW?$AAI?$AAN?$AAC?$AAE?$AA6?$AA0?$AA0?$AA?2?$AAP?$AAL?$AAA?$AAT?$AAF?$AAO?$AAR?$AAM?$AA?2?$AAC?$AAO?$AAM?$AAM?$AAO?$AAN?$AA?2?$AAS?$AAR?$AAC?$AA?2@|
  00250		 |$LN24@OpenDispla|
  00250	00000000	 DCD         |s_fnExtEscape|
  00254		 |$LN25@OpenDispla|
  00254	00000000	 DCD         |s_fnDeleteDC|
  00258		 |$LN26@OpenDispla|
  00258	00000000	 DCD         |s_bGWESReady|
  0025c		 |$LN27@OpenDispla|
  0025c	00000000	 DCD         |s_hGWESApiReady|
  00260		 |$M32646|

			 ENDP  ; |?OpenDisplayDevice@@YAPAXPBG@Z|, OpenDisplayDevice

	EXPORT	|??_C@_1CM@DKJPPKPA@?$AAS?$AAY?$AAS?$AAT?$AAE?$AAM?$AA?1?$AAG?$AAw?$AAe?$AAA?$AAp?$AAi?$AAS?$AAe?$AAt?$AAR?$AAe?$AAa?$AAd?$AAy?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BE@IMLDAOJP@?$AAE?$AAx?$AAt?$AAE?$AAs?$AAc?$AAa?$AAp?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BC@GMBPGMN@?$AAD?$AAe?$AAl?$AAe?$AAt?$AAe?$AAD?$AAC?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BE@JGEOLONK@?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AAD?$AAC?$AAW?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BI@CJKPFBEK@?$AAc?$AAo?$AAr?$AAe?$AAd?$AAl?$AAl?$AA?4?$AAd?$AAl?$AAl?$AA?$AA@| [ DATA ] ; `string'
	IMPORT	|OpenEventW|
	IMPORT	|GetProcAddressW|
	IMPORT	|LoadLibraryW|

  00010			 AREA	 |.pdata|, PDATA
|$T32663| DCD	|$LN14@InitDispla|
	DCD	0x40006802

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1CM@DKJPPKPA@?$AAS?$AAY?$AAS?$AAT?$AAE?$AAM?$AA?1?$AAG?$AAw?$AAe?$AAA?$AAp?$AAi?$AAS?$AAe?$AAt?$AAR?$AAe?$AAa?$AAd?$AAy?$AA?$AA@| DCB "S"
	DCB	0x0, "Y", 0x0, "S", 0x0, "T", 0x0, "E", 0x0, "M", 0x0, "/"
	DCB	0x0, "G", 0x0, "w", 0x0, "e", 0x0, "A", 0x0, "p", 0x0, "i"
	DCB	0x0, "S", 0x0, "e", 0x0, "t", 0x0, "R", 0x0, "e", 0x0, "a"
	DCB	0x0, "d", 0x0, "y", 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BE@IMLDAOJP@?$AAE?$AAx?$AAt?$AAE?$AAs?$AAc?$AAa?$AAp?$AAe?$AA?$AA@| DCB "E"
	DCB	0x0, "x", 0x0, "t", 0x0, "E", 0x0, "s", 0x0, "c", 0x0, "a"
	DCB	0x0, "p", 0x0, "e", 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BC@GMBPGMN@?$AAD?$AAe?$AAl?$AAe?$AAt?$AAe?$AAD?$AAC?$AA?$AA@| DCB "D"
	DCB	0x0, "e", 0x0, "l", 0x0, "e", 0x0, "t", 0x0, "e", 0x0, "D"
	DCB	0x0, "C", 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BE@JGEOLONK@?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AAD?$AAC?$AAW?$AA?$AA@| DCB "C"
	DCB	0x0, "r", 0x0, "e", 0x0, "a", 0x0, "t", 0x0, "e", 0x0, "D"
	DCB	0x0, "C", 0x0, "W", 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BI@CJKPFBEK@?$AAc?$AAo?$AAr?$AAe?$AAd?$AAl?$AAl?$AA?4?$AAd?$AAl?$AAl?$AA?$AA@| DCB "c"
	DCB	0x0, "o", 0x0, "r", 0x0, "e", 0x0, "d", 0x0, "l", 0x0, "l"
	DCB	0x0, ".", 0x0, "d", 0x0, "l", 0x0, "l", 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Odtp

  00260			 AREA	 |.text|, CODE, ARM

  00260		 |?InitDisplayDeviceInterface@@YAHXZ| PROC ; InitDisplayDeviceInterface

; 54   : {

  00260		 |$LN14@InitDispla|
  00260	e52de004	 str         lr, [sp, #-4]!
  00264	e24dd01c	 sub         sp, sp, #0x1C
  00268		 |$M32660|

; 55   :     BOOL rc = FALSE;

  00268	e3a03000	 mov         r3, #0
  0026c	e58d3000	 str         r3, [sp]

; 56   :     
; 57   :     // open coredll.dll
; 58   :     //
; 59   :     if (s_hCore == NULL)

  00270	e59f3174	 ldr         r3, [pc, #0x174]
  00274	e5933000	 ldr         r3, [r3]
  00278	e3530000	 cmp         r3, #0
  0027c	1a00000b	 bne         |$LN9@InitDispla|

; 60   :         {
; 61   :         s_hCore = (HMODULE)::LoadLibrary(L"coredll.dll");

  00280	e59f0174	 ldr         r0, [pc, #0x174]
  00284	eb000000	 bl          LoadLibraryW
  00288	e58d0008	 str         r0, [sp, #8]
  0028c	e59d2008	 ldr         r2, [sp, #8]
  00290	e59f3154	 ldr         r3, [pc, #0x154]
  00294	e5832000	 str         r2, [r3]

; 62   :         if (s_hCore == NULL) goto cleanUp;

  00298	e59f314c	 ldr         r3, [pc, #0x14C]
  0029c	e5933000	 ldr         r3, [r3]
  002a0	e3530000	 cmp         r3, #0
  002a4	1a000001	 bne         |$LN8@InitDispla|
  002a8	ea000044	 b           |$LN7@InitDispla|
  002ac	ea000043	 b           |$cleanUp$32516|
  002b0		 |$LN8@InitDispla|
  002b0		 |$LN9@InitDispla|

; 63   :         }
; 64   :     
; 65   :     // get procedure addresses
; 66   :     //
; 67   :     s_fnCreateDCW = (PFN_CreateDCW) GetProcAddress(s_hCore, _T("CreateDCW"));

  002b0	e59f1140	 ldr         r1, [pc, #0x140]
  002b4	e59f3130	 ldr         r3, [pc, #0x130]
  002b8	e5930000	 ldr         r0, [r3]
  002bc	eb000000	 bl          GetProcAddressW
  002c0	e58d000c	 str         r0, [sp, #0xC]
  002c4	e59d200c	 ldr         r2, [sp, #0xC]
  002c8	e59f3118	 ldr         r3, [pc, #0x118]
  002cc	e5832000	 str         r2, [r3]

; 68   :     s_fnDeleteDC = (PFN_DeleteDC) GetProcAddress(s_hCore, _T("DeleteDC"));

  002d0	e59f111c	 ldr         r1, [pc, #0x11C]
  002d4	e59f3110	 ldr         r3, [pc, #0x110]
  002d8	e5930000	 ldr         r0, [r3]
  002dc	eb000000	 bl          GetProcAddressW
  002e0	e58d0010	 str         r0, [sp, #0x10]
  002e4	e59d2010	 ldr         r2, [sp, #0x10]
  002e8	e59f30f4	 ldr         r3, [pc, #0xF4]
  002ec	e5832000	 str         r2, [r3]

; 69   :     s_fnExtEscape = (PFN_ExtEscape) GetProcAddress(s_hCore, _T("ExtEscape"));    

  002f0	e59f10f8	 ldr         r1, [pc, #0xF8]
  002f4	e59f30f0	 ldr         r3, [pc, #0xF0]
  002f8	e5930000	 ldr         r0, [r3]
  002fc	eb000000	 bl          GetProcAddressW
  00300	e58d0014	 str         r0, [sp, #0x14]
  00304	e59d2014	 ldr         r2, [sp, #0x14]
  00308	e59f30d0	 ldr         r3, [pc, #0xD0]
  0030c	e5832000	 str         r2, [r3]

; 70   :     if (!s_fnCreateDCW || !s_fnExtEscape || !s_fnDeleteDC) 

  00310	e59f30d0	 ldr         r3, [pc, #0xD0]
  00314	e5933000	 ldr         r3, [r3]
  00318	e3530000	 cmp         r3, #0
  0031c	0a000007	 beq         |$LN5@InitDispla|
  00320	e59f30b8	 ldr         r3, [pc, #0xB8]
  00324	e5933000	 ldr         r3, [r3]
  00328	e3530000	 cmp         r3, #0
  0032c	0a000003	 beq         |$LN5@InitDispla|
  00330	e59f30ac	 ldr         r3, [pc, #0xAC]
  00334	e5933000	 ldr         r3, [r3]
  00338	e3530000	 cmp         r3, #0
  0033c	1a00000a	 bne         |$LN6@InitDispla|
  00340		 |$LN5@InitDispla|

; 71   :         {
; 72   :         s_fnCreateDCW = NULL;

  00340	e59f20a0	 ldr         r2, [pc, #0xA0]
  00344	e3a03000	 mov         r3, #0
  00348	e5823000	 str         r3, [r2]

; 73   :         s_fnDeleteDC = NULL;

  0034c	e59f2090	 ldr         r2, [pc, #0x90]
  00350	e3a03000	 mov         r3, #0
  00354	e5823000	 str         r3, [r2]

; 74   :         s_fnExtEscape = NULL;

  00358	e59f2080	 ldr         r2, [pc, #0x80]
  0035c	e3a03000	 mov         r3, #0
  00360	e5823000	 str         r3, [r2]
  00364	ea000015	 b           |$LN4@InitDispla|

; 75   :         goto cleanUp;

  00368	ea000014	 b           |$cleanUp$32516|
  0036c		 |$LN6@InitDispla|

; 76   :         }
; 77   : 
; 78   :     // get a handle to the GWES API set signal
; 79   :     //
; 80   :     if (s_hGWESApiReady == NULL)

  0036c	e59f3064	 ldr         r3, [pc, #0x64]
  00370	e5933000	 ldr         r3, [r3]
  00374	e3530000	 cmp         r3, #0
  00378	1a00000e	 bne         |$LN3@InitDispla|

; 81   :         {
; 82   :         s_hGWESApiReady = OpenEvent(EVENT_ALL_ACCESS, FALSE, 
; 83   :                             L"SYSTEM/GweApiSetReady"
; 84   :                             );

  0037c	e59f2058	 ldr         r2, [pc, #0x58]
  00380	e3a01000	 mov         r1, #0
  00384	e3a0081f	 mov         r0, #0x1F, 16
  00388	e3800003	 orr         r0, r0, #3
  0038c	eb000000	 bl          OpenEventW
  00390	e58d0018	 str         r0, [sp, #0x18]
  00394	e59d2018	 ldr         r2, [sp, #0x18]
  00398	e59f3038	 ldr         r3, [pc, #0x38]
  0039c	e5832000	 str         r2, [r3]

; 85   :         
; 86   :         if (s_hGWESApiReady == NULL) goto cleanUp;

  003a0	e59f3030	 ldr         r3, [pc, #0x30]
  003a4	e5933000	 ldr         r3, [r3]
  003a8	e3530000	 cmp         r3, #0
  003ac	1a000001	 bne         |$LN2@InitDispla|
  003b0	ea000002	 b           |$LN1@InitDispla|
  003b4	ea000001	 b           |$cleanUp$32516|
  003b8		 |$LN2@InitDispla|
  003b8		 |$LN3@InitDispla|

; 87   :         }
; 88   : 
; 89   :     rc = TRUE;

  003b8	e3a03001	 mov         r3, #1
  003bc	e58d3000	 str         r3, [sp]
  003c0		 |$LN1@InitDispla|
  003c0		 |$LN4@InitDispla|
  003c0		 |$LN7@InitDispla|
  003c0		 |$cleanUp$32516|

; 90   : 
; 91   : cleanUp:
; 92   :     return rc;

  003c0	e59d3000	 ldr         r3, [sp]
  003c4	e58d3004	 str         r3, [sp, #4]

; 93   : }

  003c8	e59d0004	 ldr         r0, [sp, #4]
  003cc	e28dd01c	 add         sp, sp, #0x1C
  003d0	e49de004	 ldr         lr, [sp], #4
  003d4	e12fff1e	 bx          lr
  003d8		 |$LN15@InitDispla|
  003d8		 |$LN16@InitDispla|
  003d8	00000000	 DCD         |s_hGWESApiReady|
  003dc		 |$LN17@InitDispla|
  003dc	00000000	 DCD         |??_C@_1CM@DKJPPKPA@?$AAS?$AAY?$AAS?$AAT?$AAE?$AAM?$AA?1?$AAG?$AAw?$AAe?$AAA?$AAp?$AAi?$AAS?$AAe?$AAt?$AAR?$AAe?$AAa?$AAd?$AAy?$AA?$AA@|
  003e0		 |$LN18@InitDispla|
  003e0	00000000	 DCD         |s_fnExtEscape|
  003e4		 |$LN19@InitDispla|
  003e4	00000000	 DCD         |s_fnDeleteDC|
  003e8		 |$LN20@InitDispla|
  003e8	00000000	 DCD         |s_fnCreateDCW|
  003ec		 |$LN21@InitDispla|
  003ec	00000000	 DCD         |s_hCore|
  003f0		 |$LN22@InitDispla|
  003f0	00000000	 DCD         |??_C@_1BE@IMLDAOJP@?$AAE?$AAx?$AAt?$AAE?$AAs?$AAc?$AAa?$AAp?$AAe?$AA?$AA@|
  003f4		 |$LN23@InitDispla|
  003f4	00000000	 DCD         |??_C@_1BC@GMBPGMN@?$AAD?$AAe?$AAl?$AAe?$AAt?$AAe?$AAD?$AAC?$AA?$AA@|
  003f8		 |$LN24@InitDispla|
  003f8	00000000	 DCD         |??_C@_1BE@JGEOLONK@?$AAC?$AAr?$AAe?$AAa?$AAt?$AAe?$AAD?$AAC?$AAW?$AA?$AA@|
  003fc		 |$LN25@InitDispla|
  003fc	00000000	 DCD         |??_C@_1BI@CJKPFBEK@?$AAc?$AAo?$AAr?$AAe?$AAd?$AAl?$AAl?$AA?4?$AAd?$AAl?$AAl?$AA?$AA@|
  00400		 |$M32661|

			 ENDP  ; |?InitDisplayDeviceInterface@@YAHXZ|, InitDisplayDeviceInterface

	EXPORT	|?Uninitialize@DisplayDevice@@UAAHXZ|	; DisplayDevice::Uninitialize

  00018			 AREA	 |.pdata|, PDATA
|$T32680| DCD	|$LN6@Uninitiali|
	DCD	0x40001704
; Function compile flags: /Odtp

  00400			 AREA	 |.text|, CODE, ARM

  00400		 |?Uninitialize@DisplayDevice@@UAAHXZ| PROC ; DisplayDevice::Uninitialize

; 162  : {

  00400		 |$LN6@Uninitiali|
  00400	e1a0c00d	 mov         r12, sp
  00404	e92d0001	 stmdb       sp!, {r0}
  00408	e92d5000	 stmdb       sp!, {r12, lr}
  0040c	e24dd004	 sub         sp, sp, #4
  00410		 |$M32677|

; 163  :     if (m_hDevice != NULL) s_fnDeleteDC((HDC)m_hDevice);

  00410	e59d300c	 ldr         r3, [sp, #0xC]
  00414	e283300c	 add         r3, r3, #0xC
  00418	e5933000	 ldr         r3, [r3]
  0041c	e3530000	 cmp         r3, #0
  00420	0a000006	 beq         |$LN1@Uninitiali|
  00424	e59d300c	 ldr         r3, [sp, #0xC]
  00428	e283300c	 add         r3, r3, #0xC
  0042c	e5930000	 ldr         r0, [r3]
  00430	e59f3020	 ldr         r3, [pc, #0x20]
  00434	e5933000	 ldr         r3, [r3]
  00438	e1a0e00f	 mov         lr, pc
  0043c	e12fff13	 bx          r3
  00440		 |$LN1@Uninitiali|

; 164  :     return TRUE;

  00440	e3a03001	 mov         r3, #1
  00444	e58d3000	 str         r3, [sp]

; 165  : }

  00448	e59d0000	 ldr         r0, [sp]
  0044c	e28dd004	 add         sp, sp, #4
  00450	e89d6000	 ldmia       sp, {sp, lr}
  00454	e12fff1e	 bx          lr
  00458		 |$LN7@Uninitiali|
  00458		 |$LN8@Uninitiali|
  00458	00000000	 DCD         |s_fnDeleteDC|
  0045c		 |$M32678|

			 ENDP  ; |?Uninitialize@DisplayDevice@@UAAHXZ|, DisplayDevice::Uninitialize

	EXPORT	|?SendIoControl@DisplayDevice@@UAAHKPAXK0KPAK@Z| ; DisplayDevice::SendIoControl
	IMPORT	|__C_specific_handler|

  00020			 AREA	 |.pdata|, PDATA
|$T32701| DCD	|$LN15@SendIoCont|
	DCD	0xc0002005
|$T32703| DCD	|$LN5@SendIoCont|
	DCD	0x40000602

  00000			 AREA	 |.xdata|, DATA
|$T32699| DCD	0x1
	DCD	|$LN9@SendIoCont|
	DCD	|$LN10@SendIoCont|
	DCD	|$LN5@SendIoCont|
	DCD	|$LN6@SendIoCont|
; Function compile flags: /Odtp

  0045c			 AREA	 |.text|, CODE, ARM

  0045c	00000000	 DCD         |__C_specific_handler|
  00460	00000000	 DCD         |$T32699|

  00464		 |?SendIoControl@DisplayDevice@@UAAHKPAXK0KPAK@Z| PROC ; DisplayDevice::SendIoControl

; 177  : {

  00464		 |$LN15@SendIoCont|
  00464	e1a0c00d	 mov         r12, sp
  00468	e92d000f	 stmdb       sp!, {r0 - r3}
  0046c	e92d5810	 stmdb       sp!, {r4, r11, r12, lr}
  00470	e28db010	 add         r11, sp, #0x10
  00474	e24dd01c	 sub         sp, sp, #0x1C
  00478		 |$LN13@SendIoCont|

; 178  :     BOOL rc = FALSE;

  00478	e3a03000	 mov         r3, #0
  0047c	e50b3024	 str         r3, [r11, #-0x24]
  00480		 |$LN9@SendIoCont|

; 179  :     UNREFERENCED_PARAMETER(lpBytesReturned);   
; 180  :     __try 
; 181  :         {
; 182  :         rc = s_fnExtEscape((HDC)m_hDevice, (int)dwIoControlCode, (int)nInBufSize, 
; 183  :                 (LPCSTR)lpInBuf, (int)nOutBufSize, (LPSTR)lpOutBuf
; 184  :                 );

  00480	e59b3010	 ldr         r3, [r11, #0x10]
  00484	e58d3004	 str         r3, [sp, #4]
  00488	e59b3014	 ldr         r3, [r11, #0x14]
  0048c	e58d3000	 str         r3, [sp]
  00490	e59b3008	 ldr         r3, [r11, #8]
  00494	e59b200c	 ldr         r2, [r11, #0xC]
  00498	e59b1004	 ldr         r1, [r11, #4]
  0049c	e59b0000	 ldr         r0, [r11]
  004a0	e280000c	 add         r0, r0, #0xC
  004a4	e5900000	 ldr         r0, [r0]
  004a8	e59fe048	 ldr         lr, [pc, #0x48]
  004ac	e59e4000	 ldr         r4, [lr]
  004b0	e1a0e00f	 mov         lr, pc
  004b4	e12fff14	 bx          r4
  004b8	e50b0014	 str         r0, [r11, #-0x14]
  004bc	e51b3014	 ldr         r3, [r11, #-0x14]
  004c0	e50b3024	 str         r3, [r11, #-0x24]
  004c4		 |$LN10@SendIoCont|

; 185  :         }

  004c4	ea000000	 b           |$LN11@SendIoCont|
  004c8		 |$LN6@SendIoCont|
  004c8	eaffffff	 b           |$LN11@SendIoCont|
  004cc		 |$LN11@SendIoCont|

; 187  :         {
; 188  :         }
; 189  : 
; 190  :     return rc;

  004cc	e51b3024	 ldr         r3, [r11, #-0x24]
  004d0	e50b3018	 str         r3, [r11, #-0x18]
  004d4		 |$LN4@SendIoCont|

; 191  : }

  004d4	e51b0018	 ldr         r0, [r11, #-0x18]
  004d8	e24bd010	 sub         sp, r11, #0x10
  004dc	e89d6810	 ldmia       sp, {r4, r11, sp, lr}
  004e0	e12fff1e	 bx          lr

			 ENDP  ; |?SendIoControl@DisplayDevice@@UAAHKPAXK0KPAK@Z|, DisplayDevice::SendIoControl

  004e4		 |$LN5@SendIoCont|
  004e4		 |$LN14@SendIoCont|

; 186  :     __except(EXCEPTION_EXECUTE_HANDLER) 

  004e4	e52de004	 str         lr, [sp, #-4]!
  004e8	e24dd008	 sub         sp, sp, #8
  004ec		 |$LN8@SendIoCont|
  004ec		 |$LN17@SendIoCont|
  004ec	e3a00001	 mov         r0, #1
  004f0		 |$LN7@SendIoCont|
  004f0	e28dd008	 add         sp, sp, #8
  004f4	e49df004	 ldr         pc, [sp], #4
  004f8		 |$LN19@SendIoCont|
  004f8		 |$LN20@SendIoCont|
  004f8	00000000	 DCD         |s_fnExtEscape|
  004fc		 |$LN18@SendIoCont|
  004fc		 |$LN16@SendIoCont|
	END
