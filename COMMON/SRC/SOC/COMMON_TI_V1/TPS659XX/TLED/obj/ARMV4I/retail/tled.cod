; Listing generated by Microsoft (R) Optimizing Compiler Version 14.01.60511.01 

	TTL	C:\WINCE600\PLATFORM\COMMON\SRC\SOC\COMMON_TI_V1\TPS659XX\TLED\tled.cpp
	CODE32

  00000			 AREA	 |.drectve|, DRECTVE
	DCB	"-defaultlib:LIBCMT "
	DCB	"-defaultlib:OLDNAMES "

	EXPORT	|??_C@_1BC@KCONIAEJ@?$AAM?$AAa?$AAx?$AAV?$AAa?$AAl?$AAu?$AAe?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|??_C@_1BC@DJFAEHO@?$AAC?$AAh?$AAa?$AAn?$AAn?$AAe?$AAl?$AAs?$AA?$AA@| [ DATA ] ; `string'
	EXPORT	|DEVICE_IFC_TWL_GUID| [ DATA ]
	EXPORT	|DEVICE_IFC_TLED_GUID| [ DATA ]
	EXPORT	|dpCurSettings| [ DATA ]

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BC@KCONIAEJ@?$AAM?$AAa?$AAx?$AAV?$AAa?$AAl?$AAu?$AAe?$AA?$AA@| DCB "M"
	DCB	0x0, "a", 0x0, "x", 0x0, "V", 0x0, "a", 0x0, "l", 0x0, "u"
	DCB	0x0, "e", 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1BC@DJFAEHO@?$AAC?$AAh?$AAa?$AAn?$AAn?$AAe?$AAl?$AAs?$AA?$AA@| DCB "C"
	DCB	0x0, "h", 0x0, "a", 0x0, "n", 0x0, "n", 0x0, "e", 0x0, "l"
	DCB	0x0, "s", 0x0, 0x0, 0x0			; `string'

  00000			 AREA	 |.data|, DATA
|dpCurSettings| DCB "T", 0x0, "L", 0x0, "E", 0x0, "D", 0x0, 0x0, 0x0
	%	54
	DCB	"E", 0x0, "r", 0x0, "r", 0x0, "o", 0x0, "r", 0x0, "s", 0x0
	DCB	0x0, 0x0
	%	50
	DCB	"W", 0x0, "a", 0x0, "r", 0x0, "n", 0x0, "i", 0x0, "n", 0x0
	DCB	"g", 0x0, "s", 0x0, 0x0, 0x0
	%	46
	DCB	"F", 0x0, "u", 0x0, "n", 0x0, "c", 0x0, "t", 0x0, "i", 0x0
	DCB	"o", 0x0, "n", 0x0, 0x0, 0x0
	%	46
	DCB	"I", 0x0, "n", 0x0, "f", 0x0, "o", 0x0, 0x0, 0x0
	%	54
	DCB	"U", 0x0, "n", 0x0, "d", 0x0, "e", 0x0, "f", 0x0, "i", 0x0
	DCB	"n", 0x0, "e", 0x0, "d", 0x0, 0x0, 0x0
	%	44
	DCB	"U", 0x0, "n", 0x0, "d", 0x0, "e", 0x0, "f", 0x0, "i", 0x0
	DCB	"n", 0x0, "e", 0x0, "d", 0x0, 0x0, 0x0
	%	44
	DCB	"U", 0x0, "n", 0x0, "d", 0x0, "e", 0x0, "f", 0x0, "i", 0x0
	DCB	"n", 0x0, "e", 0x0, "d", 0x0, 0x0, 0x0
	%	44
	DCB	"U", 0x0, "n", 0x0, "d", 0x0, "e", 0x0, "f", 0x0, "i", 0x0
	DCB	"n", 0x0, "e", 0x0, "d", 0x0, 0x0, 0x0
	%	44
	DCB	"U", 0x0, "n", 0x0, "d", 0x0, "e", 0x0, "f", 0x0, "i", 0x0
	DCB	"n", 0x0, "e", 0x0, "d", 0x0, 0x0, 0x0
	%	44
	DCB	"U", 0x0, "n", 0x0, "d", 0x0, "e", 0x0, "f", 0x0, "i", 0x0
	DCB	"n", 0x0, "e", 0x0, "d", 0x0, 0x0, 0x0
	%	44
	DCB	"U", 0x0, "n", 0x0, "d", 0x0, "e", 0x0, "f", 0x0, "i", 0x0
	DCB	"n", 0x0, "e", 0x0, "d", 0x0, 0x0, 0x0
	%	44
	DCB	"U", 0x0, "n", 0x0, "d", 0x0, "e", 0x0, "f", 0x0, "i", 0x0
	DCB	"n", 0x0, "e", 0x0, "d", 0x0, 0x0, 0x0
	%	44
	DCB	"U", 0x0, "n", 0x0, "d", 0x0, "e", 0x0, "f", 0x0, "i", 0x0
	DCB	"n", 0x0, "e", 0x0, "d", 0x0, 0x0, 0x0
	%	44
	DCB	"U", 0x0, "n", 0x0, "d", 0x0, "e", 0x0, "f", 0x0, "i", 0x0
	DCB	"n", 0x0, "e", 0x0, "d", 0x0, 0x0, 0x0
	%	44
	DCB	"U", 0x0, "n", 0x0, "d", 0x0, "e", 0x0, "f", 0x0, "i", 0x0
	DCB	"n", 0x0, "e", 0x0, "d", 0x0, 0x0, 0x0
	%	44
	DCB	"U", 0x0, "n", 0x0, "d", 0x0, "e", 0x0, "f", 0x0, "i", 0x0
	DCB	"n", 0x0, "e", 0x0, "d", 0x0, 0x0, 0x0
	%	44
	DCD	0x3

  00000			 AREA	 |.rdata|, DATA, READONLY
|DEVICE_IFC_TWL_GUID| DCD 0xdef0a04b
	DCW	0xb967
	DCW	0x43db
	DCB	0x95
	DCB	0x9e
	DCB	0xd9
	DCB	0xfc
	DCB	0x62
	DCB	0x25
	DCB	0xcd
	DCB	0xeb
|DEVICE_IFC_TLED_GUID| DCD 0x2c8c352a
	DCW	0x2c98
	DCW	0x415e
	DCB	0x88
	DCB	0x39
	DCB	0x8f
	DCB	0x4e
	DCB	0x9a
	DCB	0x4a
	DCB	0x9f
	DCB	0x33
|s_deviceRegParams| DCD |??_C@_1BC@DJFAEHO@?$AAC?$AAh?$AAa?$AAn?$AAn?$AAe?$AAl?$AAs?$AA?$AA@|
	DCD	0x1
	DCD	0x0
	DCD	0x28
	DCD	0x4
	DCD	0x2
	DCD	|??_C@_1BC@KCONIAEJ@?$AAM?$AAa?$AAx?$AAV?$AAa?$AAl?$AAu?$AAe?$AA?$AA@|
	DCD	0x1
	DCD	0x0
	DCD	0x24
	DCD	0x4
	DCD	0x7f
|s_PWMAOffset| DCD 0x200f0
	DCD	0x200f2
	EXPORT	|GetCurrentProcessId|
	IMPORT	|__GetUserKData|
; File c:\wince600\public\common\sdk\inc\kfuncs.h

  00000			 AREA	 |.pdata|, PDATA
|$T36285| DCD	|$LN5@GetCurrent|
	DCD	0x40000501
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |GetCurrentProcessId| PROC

; 373  : _inline DWORD GetCurrentProcessId(void) {

  00000		 |$LN5@GetCurrent|
  00000	e52de004	 str         lr, [sp, #-4]!
  00004		 |$M36282|

; 374  :     return __GetUserKData (SYSHANDLE_OFFSET + (SH_CURPROC * sizeof(HANDLE)));

  00004	e3a0000c	 mov         r0, #0xC
  00008	eb000000	 bl          __GetUserKData

; 375  : }

  0000c	e49de004	 ldr         lr, [sp], #4
  00010	e12fff1e	 bx          lr
  00014		 |$M36283|

			 ENDP  ; |GetCurrentProcessId|

	EXPORT	|IsEqualGUID|
	IMPORT	|memcmp|
; File c:\wince600\public\common\sdk\inc\objbase.h

  00000			 AREA	 |.pdata|, PDATA
|$T36299| DCD	|$LN7@IsEqualGUI|
	DCD	0x40000901
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |IsEqualGUID| PROC

; 493  : {

  00000		 |$LN7@IsEqualGUI|
  00000	e52de004	 str         lr, [sp, #-4]!
  00004		 |$M36296|

; 494  :     return !memcmp(&rguid1, &rguid2, sizeof(GUID));

  00004	e3a02010	 mov         r2, #0x10
  00008	eb000000	 bl          memcmp
  0000c	e3500000	 cmp         r0, #0
  00010	03a00001	 moveq       r0, #1

; 495  : }

  00014	049de004	 ldreq       lr, [sp], #4

; 494  :     return !memcmp(&rguid1, &rguid2, sizeof(GUID));

  00018	13a00000	 movne       r0, #0

; 495  : }

  0001c	149de004	 ldrne       lr, [sp], #4
  00020	e12fff1e	 bx          lr
  00024		 |$M36297|

			 ENDP  ; |IsEqualGUID|

	EXPORT	|?DisableLed@@YAHPAUDevice_t@@K@Z|	; DisableLed
	EXPORT	|??_C@_1IG@HIEGLENJ@?$AAT?$AAL?$AAD?$AA?3?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?$CI?$AAD?$AAi?$AAs?$AAa?$AAb?$AAl?$AAe?$AAL?$AAe?$AAd?$AA?$CJ?$AA?5?$AA?9?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd@| [ DATA ] ; `string'
	EXPORT	|??_C@_1IE@MBDJMFHI@?$AAT?$AAL?$AAD?$AA?3?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?$CI?$AAD?$AAi?$AAs?$AAa?$AAb?$AAl?$AAe?$AAL?$AAe?$AAd?$AA?$CJ?$AA?5?$AA?9?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd@| [ DATA ] ; `string'
	IMPORT	|NKDbgPrintfW|
	IMPORT	|TWLWriteRegs|
	IMPORT	|TWLReadRegs|
; File c:\wince600\platform\common\src\soc\common_ti_v1\tps659xx\tled\tled.cpp

  00000			 AREA	 |.pdata|, PDATA
|$T36317| DCD	|$LN14@DisableLed|
	DCD	0x40003202

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1IG@HIEGLENJ@?$AAT?$AAL?$AAD?$AA?3?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?$CI?$AAD?$AAi?$AAs?$AAa?$AAb?$AAl?$AAe?$AAL?$AAe?$AAd?$AA?$CJ?$AA?5?$AA?9?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd@| DCB "T"
	DCB	0x0, "L", 0x0, "D", 0x0, ":", 0x0, " ", 0x0, "!", 0x0, "E"
	DCB	0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, "(", 0x0, "D"
	DCB	0x0, "i", 0x0, "s", 0x0, "a", 0x0, "b", 0x0, "l", 0x0, "e"
	DCB	0x0, "L", 0x0, "e", 0x0, "d", 0x0, ")", 0x0, " ", 0x0, "-"
	DCB	0x0, " ", 0x0, "f", 0x0, "a", 0x0, "i", 0x0, "l", 0x0, "e"
	DCB	0x0, "d", 0x0, " ", 0x0, "t", 0x0, "o", 0x0, " ", 0x0, "w"
	DCB	0x0, "r", 0x0, "i", 0x0, "t", 0x0, "e", 0x0, " ", 0x0, "t"
	DCB	0x0, "r", 0x0, "i", 0x0, "t", 0x0, "o", 0x0, "n", 0x0, " "
	DCB	0x0, "r", 0x0, "e", 0x0, "g", 0x0, "i", 0x0, "s", 0x0, "t"
	DCB	0x0, "e", 0x0, "r", 0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%"
	DCB	0x0, "0", 0x0, "8", 0x0, "X", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1IE@MBDJMFHI@?$AAT?$AAL?$AAD?$AA?3?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?$CI?$AAD?$AAi?$AAs?$AAa?$AAb?$AAl?$AAe?$AAL?$AAe?$AAd?$AA?$CJ?$AA?5?$AA?9?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd@| DCB "T"
	DCB	0x0, "L", 0x0, "D", 0x0, ":", 0x0, " ", 0x0, "!", 0x0, "E"
	DCB	0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, "(", 0x0, "D"
	DCB	0x0, "i", 0x0, "s", 0x0, "a", 0x0, "b", 0x0, "l", 0x0, "e"
	DCB	0x0, "L", 0x0, "e", 0x0, "d", 0x0, ")", 0x0, " ", 0x0, "-"
	DCB	0x0, " ", 0x0, "f", 0x0, "a", 0x0, "i", 0x0, "l", 0x0, "e"
	DCB	0x0, "d", 0x0, " ", 0x0, "t", 0x0, "o", 0x0, " ", 0x0, "r"
	DCB	0x0, "e", 0x0, "a", 0x0, "d", 0x0, " ", 0x0, "t", 0x0, "r"
	DCB	0x0, "i", 0x0, "t", 0x0, "o", 0x0, "n", 0x0, " ", 0x0, "r"
	DCB	0x0, "e", 0x0, "g", 0x0, "i", 0x0, "s", 0x0, "t", 0x0, "e"
	DCB	0x0, "r", 0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%", 0x0, "0"
	DCB	0x0, "8", 0x0, "X", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?DisableLed@@YAHPAUDevice_t@@K@Z| PROC ; DisableLed

; 139  : {

  00000		 |$LN14@DisableLed|
  00000	e92d40f0	 stmdb       sp!, {r4 - r7, lr}
  00004	e24dd004	 sub         sp, sp, #4
  00008		 |$M36314|
  00008	e1a06001	 mov         r6, r1
  0000c	e1a05000	 mov         r5, r0

; 140  :     DEBUGMSG(ZONE_FUNCTION, (
; 141  :         L"TLD: +DisableLed(0x%08x, 0x%08x)\r\n", 
; 142  :         pDevice, channel
; 143  :         ));
; 144  :     
; 145  :     // the channel should be always less than the channelCount
; 146  :     ASSERT(channel < pDevice->channelCount);
; 147  :         
; 148  :     UINT8 val;
; 149  :     BOOL rc = FALSE;
; 150  : 
; 151  :     if (TWLReadRegs(pDevice->hTWL, TWL_LEDEN, &val, sizeof(val)) == FALSE)

  00010	e5950018	 ldr         r0, [r5, #0x18]
  00014	e3a07802	 mov         r7, #2, 16
  00018	e38710ee	 orr         r1, r7, #0xEE
  0001c	e3a03001	 mov         r3, #1
  00020	e28d2000	 add         r2, sp, #0
  00024	e3a04000	 mov         r4, #0
  00028	eb000000	 bl          TWLReadRegs
  0002c	e3500000	 cmp         r0, #0
  00030	1a000005	 bne         |$LN4@DisableLed|

; 152  :         {
; 153  :         RETAILMSG(ZONE_ERROR, (L"TLD: !ERROR(DisableLed) - "
; 154  :             L"failed to read triton register 0x%08X\r\n", TWL_LEDEN
; 155  :             ));

  00034	e59f3084	 ldr         r3, [pc, #0x84]
  00038	e5933440	 ldr         r3, [r3, #0x440]
  0003c	e3130001	 tst         r3, #1
  00040	0a000019	 beq         |$cleanUp$35992|
  00044	e59f0078	 ldr         r0, [pc, #0x78]

; 156  :         goto cleanUp;

  00048	ea000013	 b           |$LN11@DisableLed|
  0004c		 |$LN4@DisableLed|

; 157  :         }
; 158  : 
; 159  :     val &= ~(LEDEN_LEDON(channel) | LEDEN_LEDPWM(channel));

  0004c	e2863004	 add         r3, r6, #4
  00050	e3a02001	 mov         r2, #1
  00054	e1a03312	 mov         r3, r2, lsl r3
  00058	e3a02001	 mov         r2, #1
  0005c	e1832612	 orr         r2, r3, r2, lsl r6
  00060	e5dd3000	 ldrb        r3, [sp]

; 160  : 
; 161  :     if (TWLWriteRegs(pDevice->hTWL, TWL_LEDEN, &val, sizeof(val)) == FALSE)

  00064	e5950018	 ldr         r0, [r5, #0x18]
  00068	e38710ee	 orr         r1, r7, #0xEE
  0006c	e1c33002	 bic         r3, r3, r2
  00070	e5cd3000	 strb        r3, [sp]
  00074	e3a03001	 mov         r3, #1
  00078	e28d2000	 add         r2, sp, #0
  0007c	eb000000	 bl          TWLWriteRegs
  00080	e3500000	 cmp         r0, #0
  00084	1a000007	 bne         |$LN2@DisableLed|

; 162  :         {
; 163  :         RETAILMSG(ZONE_ERROR, (L"TLD: !ERROR(DisableLed) - "
; 164  :             L"failed to write triton register 0x%08X\r\n", TWL_LEDEN
; 165  :             ));

  00088	e59f3030	 ldr         r3, [pc, #0x30]
  0008c	e5933440	 ldr         r3, [r3, #0x440]
  00090	e3130001	 tst         r3, #1
  00094	0a000004	 beq         |$cleanUp$35992|
  00098	e59f001c	 ldr         r0, [pc, #0x1C]
  0009c		 |$LN11@DisableLed|
  0009c	e38710ee	 orr         r1, r7, #0xEE
  000a0	eb000000	 bl          NKDbgPrintfW

; 170  :     
; 171  : cleanUp:

  000a4	ea000000	 b           |$cleanUp$35992|
  000a8		 |$LN2@DisableLed|

; 166  :         goto cleanUp;
; 167  :         }
; 168  : 
; 169  :     rc = TRUE;

  000a8	e3a04001	 mov         r4, #1
  000ac		 |$cleanUp$35992|

; 172  : 
; 173  :     DEBUGMSG(ZONE_FUNCTION, (
; 174  :         L"TLD: -DisableLed(0x%08x, 0x%08x) == %d\r\n", 
; 175  :         pDevice, channel, rc
; 176  :         ));
; 177  :     
; 178  :     return rc;
; 179  : }

  000ac	e1a00004	 mov         r0, r4
  000b0	e28dd004	 add         sp, sp, #4
  000b4	e8bd40f0	 ldmia       sp!, {r4 - r7, lr}
  000b8	e12fff1e	 bx          lr
  000bc		 |$LN15@DisableLed|
  000bc		 |$LN16@DisableLed|
  000bc	00000000	 DCD         |??_C@_1IG@HIEGLENJ@?$AAT?$AAL?$AAD?$AA?3?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?$CI?$AAD?$AAi?$AAs?$AAa?$AAb?$AAl?$AAe?$AAL?$AAe?$AAd?$AA?$CJ?$AA?5?$AA?9?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd@|
  000c0		 |$LN17@DisableLed|
  000c0	00000000	 DCD         |dpCurSettings|
  000c4		 |$LN18@DisableLed|
  000c4	00000000	 DCD         |??_C@_1IE@MBDJMFHI@?$AAT?$AAL?$AAD?$AA?3?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?$CI?$AAD?$AAi?$AAs?$AAa?$AAb?$AAl?$AAe?$AAL?$AAe?$AAd?$AA?$CJ?$AA?5?$AA?9?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd@|
  000c8		 |$M36315|

			 ENDP  ; |?DisableLed@@YAHPAUDevice_t@@K@Z|, DisableLed

	EXPORT	|?EnableLed@@YAHPAUDevice_t@@K@Z|	; EnableLed
	EXPORT	|??_C@_1IE@OKJIPLH@?$AAT?$AAL?$AAD?$AA?3?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?$CI?$AAE?$AAn?$AAa?$AAb?$AAl?$AAe?$AAL?$AAe?$AAd?$AA?$CJ?$AA?5?$AA?9?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5@| [ DATA ] ; `string'
	EXPORT	|??_C@_1IC@LINKGABF@?$AAT?$AAL?$AAD?$AA?3?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?$CI?$AAE?$AAn?$AAa?$AAb?$AAl?$AAe?$AAL?$AAe?$AAd?$AA?$CJ?$AA?5?$AA?9?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5@| [ DATA ] ; `string'

  00000			 AREA	 |.pdata|, PDATA
|$T36338| DCD	|$LN14@EnableLed|
	DCD	0x40003202

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1IE@OKJIPLH@?$AAT?$AAL?$AAD?$AA?3?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?$CI?$AAE?$AAn?$AAa?$AAb?$AAl?$AAe?$AAL?$AAe?$AAd?$AA?$CJ?$AA?5?$AA?9?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5@| DCB "T"
	DCB	0x0, "L", 0x0, "D", 0x0, ":", 0x0, " ", 0x0, "!", 0x0, "E"
	DCB	0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, "(", 0x0, "E"
	DCB	0x0, "n", 0x0, "a", 0x0, "b", 0x0, "l", 0x0, "e", 0x0, "L"
	DCB	0x0, "e", 0x0, "d", 0x0, ")", 0x0, " ", 0x0, "-", 0x0, " "
	DCB	0x0, "f", 0x0, "a", 0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d"
	DCB	0x0, " ", 0x0, "t", 0x0, "o", 0x0, " ", 0x0, "w", 0x0, "r"
	DCB	0x0, "i", 0x0, "t", 0x0, "e", 0x0, " ", 0x0, "t", 0x0, "r"
	DCB	0x0, "i", 0x0, "t", 0x0, "o", 0x0, "n", 0x0, " ", 0x0, "r"
	DCB	0x0, "e", 0x0, "g", 0x0, "i", 0x0, "s", 0x0, "t", 0x0, "e"
	DCB	0x0, "r", 0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%", 0x0, "0"
	DCB	0x0, "8", 0x0, "X", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1IC@LINKGABF@?$AAT?$AAL?$AAD?$AA?3?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?$CI?$AAE?$AAn?$AAa?$AAb?$AAl?$AAe?$AAL?$AAe?$AAd?$AA?$CJ?$AA?5?$AA?9?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5@| DCB "T"
	DCB	0x0, "L", 0x0, "D", 0x0, ":", 0x0, " ", 0x0, "!", 0x0, "E"
	DCB	0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, "(", 0x0, "E"
	DCB	0x0, "n", 0x0, "a", 0x0, "b", 0x0, "l", 0x0, "e", 0x0, "L"
	DCB	0x0, "e", 0x0, "d", 0x0, ")", 0x0, " ", 0x0, "-", 0x0, " "
	DCB	0x0, "f", 0x0, "a", 0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d"
	DCB	0x0, " ", 0x0, "t", 0x0, "o", 0x0, " ", 0x0, "r", 0x0, "e"
	DCB	0x0, "a", 0x0, "d", 0x0, " ", 0x0, "t", 0x0, "r", 0x0, "i"
	DCB	0x0, "t", 0x0, "o", 0x0, "n", 0x0, " ", 0x0, "r", 0x0, "e"
	DCB	0x0, "g", 0x0, "i", 0x0, "s", 0x0, "t", 0x0, "e", 0x0, "r"
	DCB	0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%", 0x0, "0", 0x0, "8"
	DCB	0x0, "X", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?EnableLed@@YAHPAUDevice_t@@K@Z| PROC	; EnableLed

; 191  : {

  00000		 |$LN14@EnableLed|
  00000	e92d40f0	 stmdb       sp!, {r4 - r7, lr}
  00004	e24dd004	 sub         sp, sp, #4
  00008		 |$M36335|
  00008	e1a06001	 mov         r6, r1
  0000c	e1a05000	 mov         r5, r0

; 192  :     DEBUGMSG(ZONE_FUNCTION, (
; 193  :         L"TLD:  +EnableLed(0x%08x, 0x%08x)\r\n", 
; 194  :         pDevice, channel
; 195  :         ));
; 196  :     
; 197  :     // the channel should be always less than the channelCount
; 198  :     ASSERT(channel < pDevice->channelCount);
; 199  :         
; 200  :     UINT8 val;
; 201  :     BOOL rc = FALSE;
; 202  : 
; 203  :     if (TWLReadRegs(pDevice->hTWL, TWL_LEDEN, &val, sizeof(val)) == FALSE)

  00010	e5950018	 ldr         r0, [r5, #0x18]
  00014	e3a07802	 mov         r7, #2, 16
  00018	e38710ee	 orr         r1, r7, #0xEE
  0001c	e3a03001	 mov         r3, #1
  00020	e28d2000	 add         r2, sp, #0
  00024	e3a04000	 mov         r4, #0
  00028	eb000000	 bl          TWLReadRegs
  0002c	e3500000	 cmp         r0, #0
  00030	1a000005	 bne         |$LN4@EnableLed|

; 204  :         {
; 205  :         RETAILMSG(ZONE_ERROR, (L"TLD: !ERROR(EnableLed) - "
; 206  :             L"failed to read triton register 0x%08X\r\n", TWL_LEDEN
; 207  :             ));

  00034	e59f3084	 ldr         r3, [pc, #0x84]
  00038	e5933440	 ldr         r3, [r3, #0x440]
  0003c	e3130001	 tst         r3, #1
  00040	0a000019	 beq         |$cleanUp$36008|
  00044	e59f0078	 ldr         r0, [pc, #0x78]

; 208  :         goto cleanUp;

  00048	ea000013	 b           |$LN11@EnableLed|
  0004c		 |$LN4@EnableLed|

; 209  :         }
; 210  : 
; 211  :     val |= (LEDEN_LEDON(channel) | LEDEN_LEDPWM(channel));

  0004c	e2863004	 add         r3, r6, #4
  00050	e3a02001	 mov         r2, #1
  00054	e1a03312	 mov         r3, r2, lsl r3
  00058	e5dd2000	 ldrb        r2, [sp]
  0005c	e3a01001	 mov         r1, #1
  00060	e1833611	 orr         r3, r3, r1, lsl r6

; 212  : 
; 213  :     if (TWLWriteRegs(pDevice->hTWL, TWL_LEDEN, &val, sizeof(val)) == FALSE)

  00064	e5950018	 ldr         r0, [r5, #0x18]
  00068	e1833002	 orr         r3, r3, r2
  0006c	e5cd3000	 strb        r3, [sp]
  00070	e3a03001	 mov         r3, #1
  00074	e28d2000	 add         r2, sp, #0
  00078	e38710ee	 orr         r1, r7, #0xEE
  0007c	eb000000	 bl          TWLWriteRegs
  00080	e3500000	 cmp         r0, #0
  00084	1a000007	 bne         |$LN2@EnableLed|

; 214  :         {
; 215  :         RETAILMSG(ZONE_ERROR, (L"TLD: !ERROR(EnableLed) - "
; 216  :             L"failed to write triton register 0x%08X\r\n", TWL_LEDEN
; 217  :             ));

  00088	e59f3030	 ldr         r3, [pc, #0x30]
  0008c	e5933440	 ldr         r3, [r3, #0x440]
  00090	e3130001	 tst         r3, #1
  00094	0a000004	 beq         |$cleanUp$36008|
  00098	e59f001c	 ldr         r0, [pc, #0x1C]
  0009c		 |$LN11@EnableLed|
  0009c	e38710ee	 orr         r1, r7, #0xEE
  000a0	eb000000	 bl          NKDbgPrintfW

; 222  :     
; 223  : cleanUp:

  000a4	ea000000	 b           |$cleanUp$36008|
  000a8		 |$LN2@EnableLed|

; 218  :         goto cleanUp;
; 219  :         }
; 220  : 
; 221  :     rc = TRUE;

  000a8	e3a04001	 mov         r4, #1
  000ac		 |$cleanUp$36008|

; 224  : 
; 225  :     DEBUGMSG(ZONE_FUNCTION, (
; 226  :         L"TLD:  -EnableLed(0x%08x, 0x%08x) == %d\r\n", 
; 227  :         pDevice, channel, rc
; 228  :         ));
; 229  :     
; 230  :     return rc;
; 231  : }

  000ac	e1a00004	 mov         r0, r4
  000b0	e28dd004	 add         sp, sp, #4
  000b4	e8bd40f0	 ldmia       sp!, {r4 - r7, lr}
  000b8	e12fff1e	 bx          lr
  000bc		 |$LN15@EnableLed|
  000bc		 |$LN16@EnableLed|
  000bc	00000000	 DCD         |??_C@_1IE@OKJIPLH@?$AAT?$AAL?$AAD?$AA?3?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?$CI?$AAE?$AAn?$AAa?$AAb?$AAl?$AAe?$AAL?$AAe?$AAd?$AA?$CJ?$AA?5?$AA?9?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5@|
  000c0		 |$LN17@EnableLed|
  000c0	00000000	 DCD         |dpCurSettings|
  000c4		 |$LN18@EnableLed|
  000c4	00000000	 DCD         |??_C@_1IC@LINKGABF@?$AAT?$AAL?$AAD?$AA?3?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?$CI?$AAE?$AAn?$AAa?$AAb?$AAl?$AAe?$AAL?$AAe?$AAd?$AA?$CJ?$AA?5?$AA?9?$AA?5?$AAf?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5@|
  000c8		 |$M36336|

			 ENDP  ; |?EnableLed@@YAHPAUDevice_t@@K@Z|, EnableLed

	EXPORT	|?SetChannel@@YAHKK@Z|			; SetChannel
	EXPORT	|??_C@_1HA@KJJINLKN@?$AAT?$AAL?$AAD?$AA?3?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?$CI?$AAS?$AAe?$AAt?$AAC?$AAh?$AAa?$AAn?$AAn?$AAe?$AAl?$AA?$CJ?$AA?5?$AA?9?$AA?5?$AAI?$AAn?$AAc?$AAo?$AAr?$AAr@| [ DATA ] ; `string'
	EXPORT	|??_C@_1FI@OGEMEIDB@?$AAT?$AAL?$AAD?$AA?3?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?$CI?$AAS?$AAe?$AAt?$AAC?$AAh?$AAa?$AAn?$AAn?$AAe?$AAl?$AA?$CJ?$AA?5?$AA?9?$AA?5?$AAI?$AAn?$AAv?$AAa?$AAl?$AAi@| [ DATA ] ; `string'

  00000			 AREA	 |.pdata|, PDATA
|$T36359| DCD	|$LN15@SetChannel|
	DCD	0x40002201

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1HA@KJJINLKN@?$AAT?$AAL?$AAD?$AA?3?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?$CI?$AAS?$AAe?$AAt?$AAC?$AAh?$AAa?$AAn?$AAn?$AAe?$AAl?$AA?$CJ?$AA?5?$AA?9?$AA?5?$AAI?$AAn?$AAc?$AAo?$AAr?$AAr@| DCB "T"
	DCB	0x0, "L", 0x0, "D", 0x0, ":", 0x0, " ", 0x0, "!", 0x0, "E"
	DCB	0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, "(", 0x0, "S"
	DCB	0x0, "e", 0x0, "t", 0x0, "C", 0x0, "h", 0x0, "a", 0x0, "n"
	DCB	0x0, "n", 0x0, "e", 0x0, "l", 0x0, ")", 0x0, " ", 0x0, "-"
	DCB	0x0, " ", 0x0, "I", 0x0, "n", 0x0, "c", 0x0, "o", 0x0, "r"
	DCB	0x0, "r", 0x0, "e", 0x0, "c", 0x0, "t", 0x0, " ", 0x0, "c"
	DCB	0x0, "o", 0x0, "n", 0x0, "t", 0x0, "e", 0x0, "x", 0x0, "t"
	DCB	0x0, " ", 0x0, "p", 0x0, "a", 0x0, "r", 0x0, "a", 0x0, "m"
	DCB	0x0, "e", 0x0, "t", 0x0, "e", 0x0, "r", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1FI@OGEMEIDB@?$AAT?$AAL?$AAD?$AA?3?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?$CI?$AAS?$AAe?$AAt?$AAC?$AAh?$AAa?$AAn?$AAn?$AAe?$AAl?$AA?$CJ?$AA?5?$AA?9?$AA?5?$AAI?$AAn?$AAv?$AAa?$AAl?$AAi@| DCB "T"
	DCB	0x0, "L", 0x0, "D", 0x0, ":", 0x0, " ", 0x0, "!", 0x0, "E"
	DCB	0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, "(", 0x0, "S"
	DCB	0x0, "e", 0x0, "t", 0x0, "C", 0x0, "h", 0x0, "a", 0x0, "n"
	DCB	0x0, "n", 0x0, "e", 0x0, "l", 0x0, ")", 0x0, " ", 0x0, "-"
	DCB	0x0, " ", 0x0, "I", 0x0, "n", 0x0, "v", 0x0, "a", 0x0, "l"
	DCB	0x0, "i", 0x0, "d", 0x0, " ", 0x0, "c", 0x0, "h", 0x0, "a"
	DCB	0x0, "n", 0x0, "n", 0x0, "e", 0x0, "l", 0x0, 0xd, 0x0, 0xa
	DCB	0x0, 0x0, 0x0				; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?SetChannel@@YAHKK@Z| PROC		; SetChannel

; 243  : {

  00000		 |$LN15@SetChannel|
  00000	e92d4010	 stmdb       sp!, {r4, lr}
  00004		 |$M36356|
  00004	e3500000	 cmp         r0, #0

; 244  :     DEBUGMSG(ZONE_FUNCTION, (
; 245  :         L"TLD:  +SetChannel(0x%08x, 0x%08x)\r\n", 
; 246  :         context, channel
; 247  :         ));
; 248  :         
; 249  :     BOOL rc = FALSE;

  00008	e3a04000	 mov         r4, #0

; 250  :     Instance_t *pInstance = (Instance_t*)context;
; 251  :     
; 252  :     // do some sanity checks
; 253  :     if ((pInstance == NULL) || (pInstance->cookie != TLED_INSTANCE_COOKIE))

  0000c	0a000010	 beq         |$LN4@SetChannel|
  00010	e5902000	 ldr         r2, [r0]
  00014	e59f3068	 ldr         r3, [pc, #0x68]
  00018	e1520003	 cmp         r2, r3
  0001c	1a00000c	 bne         |$LN4@SetChannel|

; 258  :         goto cleanUp;
; 259  :         }
; 260  : 
; 261  :     Device_t *pDevice = pInstance->pDevice;
; 262  :     if (channel >= pDevice->channelCount)

  00020	e5903004	 ldr         r3, [r0, #4]
  00024	e5933028	 ldr         r3, [r3, #0x28]
  00028	e1510003	 cmp         r1, r3
  0002c	3a000005	 bcc         |$LN2@SetChannel|

; 263  :         {
; 264  :         RETAILMSG(ZONE_ERROR, (L"TLD: !ERROR(SetChannel) - "
; 265  :             L"Invalid channel\r\n"
; 266  :             ));

  00030	e59f3044	 ldr         r3, [pc, #0x44]
  00034	e5933440	 ldr         r3, [r3, #0x440]
  00038	e3130001	 tst         r3, #1
  0003c	0a00000a	 beq         |$cleanUp$36025|
  00040	e59f0038	 ldr         r0, [pc, #0x38]

; 272  :     
; 273  : cleanUp:

  00044	ea000007	 b           |$LN12@SetChannel|
  00048		 |$LN2@SetChannel|

; 267  :         goto cleanUp;
; 268  :         }
; 269  : 
; 270  :     pInstance->channel = channel;

  00048	e5801008	 str         r1, [r0, #8]

; 271  :     rc = TRUE;

  0004c	e3a04001	 mov         r4, #1
  00050	ea000005	 b           |$cleanUp$36025|
  00054		 |$LN4@SetChannel|

; 254  :         {
; 255  :         RETAILMSG(ZONE_ERROR, (L"TLD: !ERROR(SetChannel) - "
; 256  :             L"Incorrect context parameter\r\n"
; 257  :             ));

  00054	e59f3020	 ldr         r3, [pc, #0x20]
  00058	e5933440	 ldr         r3, [r3, #0x440]
  0005c	e3130001	 tst         r3, #1
  00060	0a000001	 beq         |$cleanUp$36025|
  00064	e59f000c	 ldr         r0, [pc, #0xC]
  00068		 |$LN12@SetChannel|
  00068	eb000000	 bl          NKDbgPrintfW
  0006c		 |$cleanUp$36025|

; 274  : 
; 275  :     DEBUGMSG(ZONE_FUNCTION, (
; 276  :         L"TLD:  -SetChannel(0x%08x, 0x%08x) == %d\r\n", 
; 277  :         context, channel, rc
; 278  :         ));
; 279  :     return rc;
; 280  : }

  0006c	e1a00004	 mov         r0, r4
  00070	e8bd4010	 ldmia       sp!, {r4, lr}
  00074	e12fff1e	 bx          lr
  00078		 |$LN16@SetChannel|
  00078		 |$LN17@SetChannel|
  00078	00000000	 DCD         |??_C@_1HA@KJJINLKN@?$AAT?$AAL?$AAD?$AA?3?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?$CI?$AAS?$AAe?$AAt?$AAC?$AAh?$AAa?$AAn?$AAn?$AAe?$AAl?$AA?$CJ?$AA?5?$AA?9?$AA?5?$AAI?$AAn?$AAc?$AAo?$AAr?$AAr@|
  0007c		 |$LN18@SetChannel|
  0007c	00000000	 DCD         |dpCurSettings|
  00080		 |$LN19@SetChannel|
  00080	00000000	 DCD         |??_C@_1FI@OGEMEIDB@?$AAT?$AAL?$AAD?$AA?3?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?$CI?$AAS?$AAe?$AAt?$AAC?$AAh?$AAa?$AAn?$AAn?$AAe?$AAl?$AA?$CJ?$AA?5?$AA?9?$AA?5?$AAI?$AAn?$AAv?$AAa?$AAl?$AAi@|
  00084		 |$LN20@SetChannel|
  00084	746c6449	 DCD         0x746c6449
  00088		 |$M36357|

			 ENDP  ; |?SetChannel@@YAHKK@Z|, SetChannel

	EXPORT	|?SetDutyCycle@@YAHKK@Z|		; SetDutyCycle
	EXPORT	|??_C@_1HE@MFHCMAHK@?$AAT?$AAL?$AAD?$AA?3?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?$CI?$AAS?$AAe?$AAt?$AAD?$AAu?$AAt?$AAy?$AAC?$AAy?$AAc?$AAl?$AAe?$AA?$CJ?$AA?5?$AA?9?$AA?5?$AAI?$AAn?$AAc?$AAo@| [ DATA ] ; `string'
	EXPORT	|??_C@_1HG@DMKAMPOG@?$AAT?$AAL?$AAD?$AA?3?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?$CI?$AAS?$AAe?$AAt?$AAD?$AAu?$AAt?$AAy?$AAC?$AAy?$AAc?$AAl?$AAe?$AA?$CJ?$AA?5?$AA?9?$AA?5?$AAi?$AAn?$AAv?$AAa@| [ DATA ] ; `string'

  00000			 AREA	 |.pdata|, PDATA
|$T36381| DCD	|$LN18@SetDutyCyc|
	DCD	0x40003b02

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1HE@MFHCMAHK@?$AAT?$AAL?$AAD?$AA?3?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?$CI?$AAS?$AAe?$AAt?$AAD?$AAu?$AAt?$AAy?$AAC?$AAy?$AAc?$AAl?$AAe?$AA?$CJ?$AA?5?$AA?9?$AA?5?$AAI?$AAn?$AAc?$AAo@| DCB "T"
	DCB	0x0, "L", 0x0, "D", 0x0, ":", 0x0, " ", 0x0, "!", 0x0, "E"
	DCB	0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, "(", 0x0, "S"
	DCB	0x0, "e", 0x0, "t", 0x0, "D", 0x0, "u", 0x0, "t", 0x0, "y"
	DCB	0x0, "C", 0x0, "y", 0x0, "c", 0x0, "l", 0x0, "e", 0x0, ")"
	DCB	0x0, " ", 0x0, "-", 0x0, " ", 0x0, "I", 0x0, "n", 0x0, "c"
	DCB	0x0, "o", 0x0, "r", 0x0, "r", 0x0, "e", 0x0, "c", 0x0, "t"
	DCB	0x0, " ", 0x0, "c", 0x0, "o", 0x0, "n", 0x0, "t", 0x0, "e"
	DCB	0x0, "x", 0x0, "t", 0x0, " ", 0x0, "p", 0x0, "a", 0x0, "r"
	DCB	0x0, "a", 0x0, "m", 0x0, "e", 0x0, "t", 0x0, "e", 0x0, "r"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1HG@DMKAMPOG@?$AAT?$AAL?$AAD?$AA?3?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?$CI?$AAS?$AAe?$AAt?$AAD?$AAu?$AAt?$AAy?$AAC?$AAy?$AAc?$AAl?$AAe?$AA?$CJ?$AA?5?$AA?9?$AA?5?$AAi?$AAn?$AAv?$AAa@| DCB "T"
	DCB	0x0, "L", 0x0, "D", 0x0, ":", 0x0, " ", 0x0, "!", 0x0, "E"
	DCB	0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, "(", 0x0, "S"
	DCB	0x0, "e", 0x0, "t", 0x0, "D", 0x0, "u", 0x0, "t", 0x0, "y"
	DCB	0x0, "C", 0x0, "y", 0x0, "c", 0x0, "l", 0x0, "e", 0x0, ")"
	DCB	0x0, " ", 0x0, "-", 0x0, " ", 0x0, "i", 0x0, "n", 0x0, "v"
	DCB	0x0, "a", 0x0, "l", 0x0, "i", 0x0, "d", 0x0, " ", 0x0, "d"
	DCB	0x0, "u", 0x0, "t", 0x0, "y", 0x0, " ", 0x0, "c", 0x0, "y"
	DCB	0x0, "c", 0x0, "l", 0x0, "e", 0x0, " ", 0x0, "v", 0x0, "a"
	DCB	0x0, "l", 0x0, "u", 0x0, "e", 0x0, "(", 0x0, "%", 0x0, "d"
	DCB	0x0, ")", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?SetDutyCycle@@YAHKK@Z| PROC		; SetDutyCycle

; 292  : {

  00000		 |$LN18@SetDutyCyc|
  00000	e92d40f0	 stmdb       sp!, {r4 - r7, lr}
  00004	e24dd004	 sub         sp, sp, #4
  00008		 |$M36378|
  00008	e1a04001	 mov         r4, r1
  0000c	e1b05000	 movs        r5, r0

; 293  :     DEBUGMSG(ZONE_FUNCTION, (
; 294  :         L"TLD: +SetDutyCycle(0x%08x, 0x%08x)\r\n", 
; 295  :         context, value
; 296  :         ));
; 297  :     
; 298  :     DWORD offTick;
; 299  :     BOOL rc = FALSE;

  00010	e3a06000	 mov         r6, #0

; 300  :     Instance_t *pInstance = (Instance_t*)context;
; 301  :     
; 302  :     // do some sanity checks
; 303  :     if ((pInstance == NULL) || (pInstance->cookie != TLED_INSTANCE_COOKIE))

  00014	0a000026	 beq         |$LN8@SetDutyCyc|
  00018	e5952000	 ldr         r2, [r5]
  0001c	e59f30c4	 ldr         r3, [pc, #0xC4]
  00020	e1520003	 cmp         r2, r3
  00024	1a000022	 bne         |$LN8@SetDutyCyc|

; 308  :         goto cleanUp;
; 309  :         }
; 310  :     
; 311  :     // check for valid value
; 312  :     // duty cycle value is normalized to be between [0, 100] : 0 == off
; 313  :     if (value > MAX_DUTYCYCLE)

  00028	e3540064	 cmp         r4, #0x64
  0002c	9a000006	 bls         |$LN6@SetDutyCyc|

; 314  :         {
; 315  :         RETAILMSG(ZONE_ERROR, (L"TLD: !ERROR(SetDutyCycle) - "
; 316  :             L"invalid duty cycle value(%d)\r\n", value
; 317  :             ));

  00030	e59f30a4	 ldr         r3, [pc, #0xA4]
  00034	e5933440	 ldr         r3, [r3, #0x440]
  00038	e3130001	 tst         r3, #1
  0003c	0a000021	 beq         |$cleanUp$36044|
  00040	e59f009c	 ldr         r0, [pc, #0x9C]
  00044	eb000000	 bl          NKDbgPrintfW

; 347  :     
; 348  : cleanUp:    

  00048	ea00001e	 b           |$cleanUp$36044|
  0004c		 |$LN6@SetDutyCyc|

; 318  :         goto cleanUp;
; 319  :         }
; 320  : 
; 321  :     // if we got here everything is okay
; 322  :     rc = TRUE;
; 323  : 
; 324  :     // check if the duty cycle matches current duty cycle
; 325  :     if (pInstance->dutyCycle == value)

  0004c	e595300c	 ldr         r3, [r5, #0xC]
  00050	e3a06001	 mov         r6, #1
  00054	e1530004	 cmp         r3, r4
  00058	0a00001a	 beq         |$cleanUp$36044|

; 326  :         {
; 327  :         goto cleanUp;
; 328  :         }
; 329  : 
; 330  :     // disable led channel, if value is zero then leave led off and exit
; 331  :     pInstance->dutyCycle = value;
; 332  :     Device_t *pDevice = pInstance->pDevice;

  0005c	e5957004	 ldr         r7, [r5, #4]

; 333  :     DisableLed(pDevice, pInstance->channel);

  00060	e5951008	 ldr         r1, [r5, #8]
  00064	e585400c	 str         r4, [r5, #0xC]
  00068	e1a00007	 mov         r0, r7
  0006c	eb000000	 bl          |?DisableLed@@YAHPAUDevice_t@@K@Z|

; 334  :     if (value == 0)

  00070	e3540000	 cmp         r4, #0
  00074	0a000013	 beq         |$cleanUp$36044|

; 335  :         {
; 336  :         goto cleanUp;
; 337  :         }
; 338  : 
; 339  :     // calculate on/off period based on requested duty cycle,
; 340  :     // channelIncrement is a fixed point 16.16 number 
; 341  :     offTick = (pDevice->channelIncrement * value) >> 16;

  00078	e5973020	 ldr         r3, [r7, #0x20]

; 342  :     TWLWriteRegs(pDevice->hTWL, s_PWMAOffset[pInstance->channel],
; 343  :         &offTick, 1);

  0007c	e5950008	 ldr         r0, [r5, #8]
  00080	e59f1058	 ldr         r1, [pc, #0x58]
  00084	e0020493	 mul         r2, r3, r4
  00088	e3a03001	 mov         r3, #1
  0008c	e1a02822	 mov         r2, r2, lsr #16
  00090	e7911100	 ldr         r1, [r1, +r0, lsl #2]
  00094	e58d2000	 str         r2, [sp]
  00098	e5970018	 ldr         r0, [r7, #0x18]
  0009c	e28d2000	 add         r2, sp, #0
  000a0	eb000000	 bl          TWLWriteRegs

; 344  :     
; 345  :     // enable led channel
; 346  :     EnableLed(pInstance->pDevice, pInstance->channel);

  000a4	e5951008	 ldr         r1, [r5, #8]
  000a8	e5950004	 ldr         r0, [r5, #4]
  000ac	eb000000	 bl          |?EnableLed@@YAHPAUDevice_t@@K@Z|
  000b0	ea000004	 b           |$cleanUp$36044|
  000b4		 |$LN8@SetDutyCyc|

; 304  :         {
; 305  :         RETAILMSG(ZONE_ERROR, (L"TLD: !ERROR(SetDutyCycle) - "
; 306  :             L"Incorrect context parameter\r\n"
; 307  :             ));

  000b4	e59f3020	 ldr         r3, [pc, #0x20]
  000b8	e5933440	 ldr         r3, [r3, #0x440]
  000bc	e3130001	 tst         r3, #1
  000c0	159f0010	 ldrne       r0, [pc, #0x10]
  000c4	1b000000	 blne        NKDbgPrintfW
  000c8		 |$cleanUp$36044|

; 349  :     DEBUGMSG(ZONE_FUNCTION, (
; 350  :         L"TLD: -SetDutyCycle(0x%08x, 0x%08x) == %d\r\n", 
; 351  :         context, value, rc
; 352  :         ));
; 353  : 
; 354  :     return rc;
; 355  : }

  000c8	e1a00006	 mov         r0, r6
  000cc	e28dd004	 add         sp, sp, #4
  000d0	e8bd40f0	 ldmia       sp!, {r4 - r7, lr}
  000d4	e12fff1e	 bx          lr
  000d8		 |$LN19@SetDutyCyc|
  000d8		 |$LN20@SetDutyCyc|
  000d8	00000000	 DCD         |??_C@_1HE@MFHCMAHK@?$AAT?$AAL?$AAD?$AA?3?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?$CI?$AAS?$AAe?$AAt?$AAD?$AAu?$AAt?$AAy?$AAC?$AAy?$AAc?$AAl?$AAe?$AA?$CJ?$AA?5?$AA?9?$AA?5?$AAI?$AAn?$AAc?$AAo@|
  000dc		 |$LN21@SetDutyCyc|
  000dc	00000000	 DCD         |dpCurSettings|
  000e0		 |$LN22@SetDutyCyc|
  000e0	00000000	 DCD         |s_PWMAOffset|
  000e4		 |$LN23@SetDutyCyc|
  000e4	00000000	 DCD         |??_C@_1HG@DMKAMPOG@?$AAT?$AAL?$AAD?$AA?3?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?$CI?$AAS?$AAe?$AAt?$AAD?$AAu?$AAt?$AAy?$AAC?$AAy?$AAc?$AAl?$AAe?$AA?$CJ?$AA?5?$AA?9?$AA?5?$AAi?$AAn?$AAv?$AAa@|
  000e8		 |$LN24@SetDutyCyc|
  000e8	746c6449	 DCD         0x746c6449
  000ec		 |$M36379|

			 ENDP  ; |?SetDutyCycle@@YAHKK@Z|, SetDutyCycle

	EXPORT	|?InitializeDevice@@YAHPAUDevice_t@@@Z|	; InitializeDevice
	EXPORT	|??_C@_1IE@MCMOOGII@?$AAT?$AAL?$AAD?$AA?3?$AA?5?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?5?$AA?9?$AA?5?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?5@| [ DATA ] ; `string'
	EXPORT	|??_C@_1IE@LFFADEHI@?$AAT?$AAL?$AAD?$AA?3?$AA?5?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?5?$AA?9?$AA?5?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?5@| [ DATA ] ; `string'
	EXPORT	|??_C@_1HK@OPLBNBPM@?$AAT?$AAL?$AAD?$AA?3?$AA?5?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?5?$AA?9?$AA?5?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?5@| [ DATA ] ; `string'

  00000			 AREA	 |.pdata|, PDATA
|$T36405| DCD	|$LN18@Initialize|
	DCD	0x40004502

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1IE@MCMOOGII@?$AAT?$AAL?$AAD?$AA?3?$AA?5?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?5?$AA?9?$AA?5?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?5@| DCB "T"
	DCB	0x0, "L", 0x0, "D", 0x0, ":", 0x0, " ", 0x0, " ", 0x0, "!"
	DCB	0x0, "E", 0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, " "
	DCB	0x0, "-", 0x0, " ", 0x0, "I", 0x0, "n", 0x0, "i", 0x0, "t"
	DCB	0x0, "i", 0x0, "a", 0x0, "l", 0x0, "i", 0x0, "z", 0x0, "e"
	DCB	0x0, "D", 0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e"
	DCB	0x0, " ", 0x0, "F", 0x0, "a", 0x0, "i", 0x0, "l", 0x0, "e"
	DCB	0x0, "d", 0x0, " ", 0x0, "t", 0x0, "o", 0x0, " ", 0x0, "i"
	DCB	0x0, "n", 0x0, "i", 0x0, "t", 0x0, "i", 0x0, "a", 0x0, "l"
	DCB	0x0, "i", 0x0, "z", 0x0, "e", 0x0, " ", 0x0, "T", 0x0, "W"
	DCB	0x0, "L", 0x0, "_", 0x0, "P", 0x0, "W", 0x0, "M", 0x0, "B"
	DCB	0x0, "O", 0x0, "N", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1IE@LFFADEHI@?$AAT?$AAL?$AAD?$AA?3?$AA?5?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?5?$AA?9?$AA?5?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?5@| DCB "T"
	DCB	0x0, "L", 0x0, "D", 0x0, ":", 0x0, " ", 0x0, " ", 0x0, "!"
	DCB	0x0, "E", 0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, " "
	DCB	0x0, "-", 0x0, " ", 0x0, "I", 0x0, "n", 0x0, "i", 0x0, "t"
	DCB	0x0, "i", 0x0, "a", 0x0, "l", 0x0, "i", 0x0, "z", 0x0, "e"
	DCB	0x0, "D", 0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e"
	DCB	0x0, " ", 0x0, "F", 0x0, "a", 0x0, "i", 0x0, "l", 0x0, "e"
	DCB	0x0, "d", 0x0, " ", 0x0, "t", 0x0, "o", 0x0, " ", 0x0, "i"
	DCB	0x0, "n", 0x0, "i", 0x0, "t", 0x0, "i", 0x0, "a", 0x0, "l"
	DCB	0x0, "i", 0x0, "z", 0x0, "e", 0x0, " ", 0x0, "T", 0x0, "W"
	DCB	0x0, "L", 0x0, "_", 0x0, "P", 0x0, "W", 0x0, "M", 0x0, "A"
	DCB	0x0, "O", 0x0, "N", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1HK@OPLBNBPM@?$AAT?$AAL?$AAD?$AA?3?$AA?5?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?5?$AA?9?$AA?5?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?5@| DCB "T"
	DCB	0x0, "L", 0x0, "D", 0x0, ":", 0x0, " ", 0x0, " ", 0x0, "!"
	DCB	0x0, "E", 0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, " "
	DCB	0x0, "-", 0x0, " ", 0x0, "I", 0x0, "n", 0x0, "i", 0x0, "t"
	DCB	0x0, "i", 0x0, "a", 0x0, "l", 0x0, "i", 0x0, "z", 0x0, "e"
	DCB	0x0, "D", 0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e"
	DCB	0x0, " ", 0x0, "F", 0x0, "a", 0x0, "i", 0x0, "l", 0x0, "e"
	DCB	0x0, "d", 0x0, " ", 0x0, "t", 0x0, "o", 0x0, " ", 0x0, "i"
	DCB	0x0, "n", 0x0, "i", 0x0, "t", 0x0, "i", 0x0, "a", 0x0, "l"
	DCB	0x0, "i", 0x0, "z", 0x0, "e", 0x0, " ", 0x0, "L", 0x0, "E"
	DCB	0x0, "D", 0x0, "E", 0x0, "N", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?InitializeDevice@@YAHPAUDevice_t@@@Z| PROC ; InitializeDevice

; 367  : {

  00000		 |$LN18@Initialize|
  00000	e92d4030	 stmdb       sp!, {r4, r5, lr}
  00004	e24dd004	 sub         sp, sp, #4
  00008		 |$M36402|
  00008	e1a04000	 mov         r4, r0

; 368  :     DEBUGMSG(ZONE_FUNCTION, (
; 369  :         L"TLD:  +InitializeDevice(0x%08x)\r\n", pDevice
; 370  :         ));
; 371  : 
; 372  :     BOOL rc = FALSE;
; 373  :     UINT8 val;
; 374  : 
; 375  :     // disable all leds
; 376  :     val = 0;
; 377  :     if (TWLWriteRegs(pDevice->hTWL, TWL_LEDEN, &val, 1) == FALSE)

  0000c	e5940018	 ldr         r0, [r4, #0x18]
  00010	e3a03802	 mov         r3, #2, 16
  00014	e38310ee	 orr         r1, r3, #0xEE
  00018	e3a0e000	 mov         lr, #0
  0001c	e3a03001	 mov         r3, #1
  00020	e28d2000	 add         r2, sp, #0
  00024	e3a05000	 mov         r5, #0
  00028	e5cde000	 strb        lr, [sp]
  0002c	eb000000	 bl          TWLWriteRegs
  00030	e3500000	 cmp         r0, #0
  00034	1a000006	 bne         |$LN6@Initialize|

; 378  :         {
; 379  :         RETAILMSG(ZONE_ERROR, (L"TLD:  !ERROR - InitializeDevice "
; 380  :             L"Failed to initialize LEDEN\r\n"
; 381  :             ));

  00038	e59f30c8	 ldr         r3, [pc, #0xC8]
  0003c	e5933440	 ldr         r3, [r3, #0x440]
  00040	e3130001	 tst         r3, #1
  00044	0a000029	 beq         |$cleanUp$36063|
  00048	e59f00c0	 ldr         r0, [pc, #0xC0]

; 398  :         {
; 399  :         RETAILMSG(ZONE_ERROR, (L"TLD:  !ERROR - InitializeDevice "
; 400  :             L"Failed to initialize TWL_PWMBON\r\n"
; 401  :             ));

  0004c	eb000000	 bl          NKDbgPrintfW

; 410  : 
; 411  : cleanUp:

  00050	ea000026	 b           |$cleanUp$36063|
  00054		 |$LN6@Initialize|

; 382  :         goto cleanUp;
; 383  :         }
; 384  : 
; 385  :     // leds are always enabled on first tick and use 128 clock
; 386  :     val = 1;
; 387  :     if (TWLWriteRegs(pDevice->hTWL, TWL_PWMAON, 
; 388  :             &val, 1) == FALSE)

  00054	e5940018	 ldr         r0, [r4, #0x18]
  00058	e3a03802	 mov         r3, #2, 16
  0005c	e38310ef	 orr         r1, r3, #0xEF
  00060	e3a0e001	 mov         lr, #1
  00064	e3a03001	 mov         r3, #1
  00068	e28d2000	 add         r2, sp, #0
  0006c	e5cde000	 strb        lr, [sp]
  00070	eb000000	 bl          TWLWriteRegs
  00074	e3500000	 cmp         r0, #0
  00078	1a000006	 bne         |$LN4@Initialize|

; 389  :         {
; 390  :         RETAILMSG(ZONE_ERROR, (L"TLD:  !ERROR - InitializeDevice "
; 391  :             L"Failed to initialize TWL_PWMAON\r\n"
; 392  :             ));

  0007c	e59f3084	 ldr         r3, [pc, #0x84]
  00080	e5933440	 ldr         r3, [r3, #0x440]
  00084	e3130001	 tst         r3, #1
  00088	0a000018	 beq         |$cleanUp$36063|
  0008c	e59f0078	 ldr         r0, [pc, #0x78]

; 398  :         {
; 399  :         RETAILMSG(ZONE_ERROR, (L"TLD:  !ERROR - InitializeDevice "
; 400  :             L"Failed to initialize TWL_PWMBON\r\n"
; 401  :             ));

  00090	eb000000	 bl          NKDbgPrintfW

; 410  : 
; 411  : cleanUp:

  00094	ea000015	 b           |$cleanUp$36063|
  00098		 |$LN4@Initialize|

; 393  :         goto cleanUp;
; 394  :         }
; 395  : 
; 396  :     if (TWLWriteRegs(pDevice->hTWL, TWL_PWMBON, 
; 397  :             &val, 1) == FALSE)

  00098	e5940018	 ldr         r0, [r4, #0x18]
  0009c	e3a03802	 mov         r3, #2, 16
  000a0	e38310f1	 orr         r1, r3, #0xF1
  000a4	e3a03001	 mov         r3, #1
  000a8	e28d2000	 add         r2, sp, #0
  000ac	eb000000	 bl          TWLWriteRegs
  000b0	e3500000	 cmp         r0, #0
  000b4	1a000006	 bne         |$LN2@Initialize|

; 398  :         {
; 399  :         RETAILMSG(ZONE_ERROR, (L"TLD:  !ERROR - InitializeDevice "
; 400  :             L"Failed to initialize TWL_PWMBON\r\n"
; 401  :             ));

  000b8	e59f3048	 ldr         r3, [pc, #0x48]
  000bc	e5933440	 ldr         r3, [r3, #0x440]
  000c0	e3130001	 tst         r3, #1
  000c4	0a000009	 beq         |$cleanUp$36063|
  000c8	e59f0034	 ldr         r0, [pc, #0x34]
  000cc	eb000000	 bl          NKDbgPrintfW

; 410  : 
; 411  : cleanUp:

  000d0	ea000006	 b           |$cleanUp$36063|
  000d4		 |$LN2@Initialize|

; 402  :         goto cleanUp;
; 403  :         }
; 404  : 
; 405  :     // calculate how much the incremental value for led channels 
; 406  :     // as 16.16 fixed point value
; 407  :     pDevice->channelIncrement = (pDevice->maxChannelValue << 16) / 100;

  000d4	e5943024	 ldr         r3, [r4, #0x24]
  000d8	e59f2020	 ldr         r2, [pc, #0x20]

; 408  : 
; 409  :     rc = TRUE;

  000dc	e3a05001	 mov         r5, #1
  000e0	e1a01803	 mov         r1, r3, lsl #16
  000e4	e0832291	 umull       r2, r3, r1, r2
  000e8	e1a032a3	 mov         r3, r3, lsr #5
  000ec	e5843020	 str         r3, [r4, #0x20]
  000f0		 |$cleanUp$36063|

; 412  : 
; 413  :     DEBUGMSG(ZONE_FUNCTION, (
; 414  :         L"TLD:  -InitializeDevice(0x%08x)\r\n", pDevice
; 415  :         ));
; 416  : 
; 417  :     return rc;
; 418  : }

  000f0	e1a00005	 mov         r0, r5
  000f4	e28dd004	 add         sp, sp, #4
  000f8	e8bd4030	 ldmia       sp!, {r4, r5, lr}
  000fc	e12fff1e	 bx          lr
  00100		 |$LN19@Initialize|
  00100		 |$LN20@Initialize|
  00100	51eb851f	 DCD         0x51eb851f
  00104		 |$LN21@Initialize|
  00104	00000000	 DCD         |??_C@_1IE@MCMOOGII@?$AAT?$AAL?$AAD?$AA?3?$AA?5?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?5?$AA?9?$AA?5?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?5@|
  00108		 |$LN22@Initialize|
  00108	00000000	 DCD         |dpCurSettings|
  0010c		 |$LN23@Initialize|
  0010c	00000000	 DCD         |??_C@_1IE@LFFADEHI@?$AAT?$AAL?$AAD?$AA?3?$AA?5?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?5?$AA?9?$AA?5?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?5@|
  00110		 |$LN24@Initialize|
  00110	00000000	 DCD         |??_C@_1HK@OPLBNBPM@?$AAT?$AAL?$AAD?$AA?3?$AA?5?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?5?$AA?9?$AA?5?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAz?$AAe?$AAD?$AAe?$AAv?$AAi?$AAc?$AAe?$AA?5@|
  00114		 |$M36403|

			 ENDP  ; |?InitializeDevice@@YAHPAUDevice_t@@@Z|, InitializeDevice

	EXPORT	|?TLD_Deinit@@YAHK@Z|			; TLD_Deinit
	EXPORT	|??_C@_1JM@HHLGIFC@?$AAT?$AAW?$AAL?$AA?3?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?$CI?$AAT?$AAL?$AAD?$AA_?$AAD?$AAe?$AAi?$AAn?$AAi?$AAt?$AA?$CJ?$AA?5?$AA?9?$AA?5?$AAC?$AAa?$AAn?$AA?8?$AAt?$AA?5@| [ DATA ] ; `string'
	IMPORT	|LocalFree|
	IMPORT	|DeleteCriticalSection|
	IMPORT	|CloseHandle|
	IMPORT	|InterlockedIncrement|

  00000			 AREA	 |.pdata|, PDATA
|$T36424| DCD	|$LN13@TLD_Deinit|
	DCD	0x40002601

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1JM@HHLGIFC@?$AAT?$AAW?$AAL?$AA?3?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?$CI?$AAT?$AAL?$AAD?$AA_?$AAD?$AAe?$AAi?$AAn?$AAi?$AAt?$AA?$CJ?$AA?5?$AA?9?$AA?5?$AAC?$AAa?$AAn?$AA?8?$AAt?$AA?5@| DCB "T"
	DCB	0x0, "W", 0x0, "L", 0x0, ":", 0x0, " ", 0x0, "!", 0x0, "E"
	DCB	0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, "(", 0x0, "T"
	DCB	0x0, "L", 0x0, "D", 0x0, "_", 0x0, "D", 0x0, "e", 0x0, "i"
	DCB	0x0, "n", 0x0, "i", 0x0, "t", 0x0, ")", 0x0, " ", 0x0, "-"
	DCB	0x0, " ", 0x0, "C", 0x0, "a", 0x0, "n", 0x0, "'", 0x0, "t"
	DCB	0x0, " ", 0x0, "d", 0x0, "e", 0x0, "l", 0x0, "e", 0x0, "t"
	DCB	0x0, "e", 0x0, " ", 0x0, "T", 0x0, "r", 0x0, "i", 0x0, "t"
	DCB	0x0, "o", 0x0, "n", 0x0, " ", 0x0, "L", 0x0, "e", 0x0, "d"
	DCB	0x0, " ", 0x0, "d", 0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c"
	DCB	0x0, "e", 0x0, " ", 0x0, "s", 0x0, "i", 0x0, "n", 0x0, "c"
	DCB	0x0, "e", 0x0, " ", 0x0, "r", 0x0, "e", 0x0, "f", 0x0, "C"
	DCB	0x0, "o", 0x0, "u", 0x0, "n", 0x0, "t", 0x0, " ", 0x0, "i"
	DCB	0x0, "s", 0x0, " ", 0x0, "%", 0x0, "d", 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?TLD_Deinit@@YAHK@Z| PROC		; TLD_Deinit

; 511  : {

  00000		 |$LN13@TLD_Deinit|
  00000	e92d4030	 stmdb       sp!, {r4, r5, lr}
  00004		 |$M36421|
  00004	e1b04000	 movs        r4, r0

; 512  :     BOOL rc = FALSE;

  00008	e3a05000	 mov         r5, #0

; 513  :     Device_t *pDevice = (Device_t*)context;
; 514  : 
; 515  :     DEBUGMSG(ZONE_FUNCTION, (L"+TLD_Deinit(0x%08x)\r\n", context));
; 516  : 
; 517  :     // Check if we get correct context
; 518  :     if ((pDevice == NULL) || (pDevice->cookie != TLED_DEVICE_COOKIE))

  0000c	0a00001b	 beq         |$cleanUp$36109|
  00010	e5942000	 ldr         r2, [r4]
  00014	e59f3078	 ldr         r3, [pc, #0x78]
  00018	e1520003	 cmp         r2, r3
  0001c	1a000017	 bne         |$cleanUp$36109|

; 519  :         {
; 520  :         DEBUGMSG (ZONE_ERROR, (L"TLD: !ERROR(TLD_Deinit) - "
; 521  :             L"Incorrect context parameter\r\n"
; 522  :             ));
; 523  :         goto cleanUp;
; 524  :         }
; 525  : 
; 526  :     if (InterlockedIncrement(&pDevice->refCount) != 0)

  00020	e284001c	 add         r0, r4, #0x1C
  00024	eb000000	 bl          InterlockedIncrement
  00028	e3500000	 cmp         r0, #0
  0002c	0a000007	 beq         |$LN3@TLD_Deinit|

; 527  :         {
; 528  :         RETAILMSG(ZONE_WARN, (L"TWL: !ERROR(TLD_Deinit) - "
; 529  :             L"Can't delete Triton Led device since refCount is %d",
; 530  :             pDevice->refCount
; 531  :             ));

  00030	e59f3058	 ldr         r3, [pc, #0x58]
  00034	e5933440	 ldr         r3, [r3, #0x440]
  00038	e3130002	 tst         r3, #2
  0003c	0a00000f	 beq         |$cleanUp$36109|
  00040	e594101c	 ldr         r1, [r4, #0x1C]
  00044	e59f0040	 ldr         r0, [pc, #0x40]
  00048	eb000000	 bl          NKDbgPrintfW

; 550  : 
; 551  : cleanUp:

  0004c	ea00000b	 b           |$cleanUp$36109|
  00050		 |$LN3@TLD_Deinit|

; 532  :         goto cleanUp;
; 533  :         }
; 534  : 
; 535  :     //Close handle to TWL driver
; 536  :     if (pDevice->hTWL != NULL)

  00050	e5943018	 ldr         r3, [r4, #0x18]
  00054	e3530000	 cmp         r3, #0
  00058	0a000003	 beq         |$LN1@TLD_Deinit|

; 537  :         {
; 538  :         CloseHandle(pDevice->hTWL);

  0005c	e1a00003	 mov         r0, r3
  00060	eb000000	 bl          CloseHandle

; 539  :         pDevice->hTWL = NULL;

  00064	e3a03000	 mov         r3, #0
  00068	e5843018	 str         r3, [r4, #0x18]
  0006c		 |$LN1@TLD_Deinit|

; 540  :         }
; 541  : 
; 542  :     // Delete critical sections
; 543  :     DeleteCriticalSection(&pDevice->cs);

  0006c	e2840004	 add         r0, r4, #4
  00070	eb000000	 bl          DeleteCriticalSection

; 544  : 
; 545  :     // Free device structure
; 546  :     LocalFree(pDevice);

  00074	e1a00004	 mov         r0, r4
  00078	eb000000	 bl          LocalFree

; 547  : 
; 548  :     // Done
; 549  :     rc = TRUE;

  0007c	e3a05001	 mov         r5, #1
  00080		 |$cleanUp$36109|

; 552  :     DEBUGMSG(ZONE_FUNCTION, (L"-TLD_Deinit(rc = %d)\r\n", rc));
; 553  :     return rc;
; 554  : }

  00080	e1a00005	 mov         r0, r5
  00084	e8bd4030	 ldmia       sp!, {r4, r5, lr}
  00088	e12fff1e	 bx          lr
  0008c		 |$LN14@TLD_Deinit|
  0008c		 |$LN15@TLD_Deinit|
  0008c	00000000	 DCD         |??_C@_1JM@HHLGIFC@?$AAT?$AAW?$AAL?$AA?3?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?$CI?$AAT?$AAL?$AAD?$AA_?$AAD?$AAe?$AAi?$AAn?$AAi?$AAt?$AA?$CJ?$AA?5?$AA?9?$AA?5?$AAC?$AAa?$AAn?$AA?8?$AAt?$AA?5@|
  00090		 |$LN16@TLD_Deinit|
  00090	00000000	 DCD         |dpCurSettings|
  00094		 |$LN17@TLD_Deinit|
  00094	746c6444	 DCD         0x746c6444
  00098		 |$M36422|

			 ENDP  ; |?TLD_Deinit@@YAHK@Z|, TLD_Deinit

	EXPORT	|?TLD_Open@@YAKKKK@Z|			; TLD_Open
	EXPORT	|??_C@_1JA@EFLDOMEG@?$AAT?$AAL?$AAD?$AA?3?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?$CI?$AAT?$AAL?$AAD?$AA_?$AAO?$AAp?$AAe?$AAn?$AA?$CJ?$AA?5?$AA?9?$AA?5?$AAF?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAa@| [ DATA ] ; `string'
	IMPORT	|LocalAlloc|

  00000			 AREA	 |.pdata|, PDATA
|$T36442| DCD	|$LN12@TLD_Open|
	DCD	0x40002301

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1JA@EFLDOMEG@?$AAT?$AAL?$AAD?$AA?3?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?$CI?$AAT?$AAL?$AAD?$AA_?$AAO?$AAp?$AAe?$AAn?$AA?$CJ?$AA?5?$AA?9?$AA?5?$AAF?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAa@| DCB "T"
	DCB	0x0, "L", 0x0, "D", 0x0, ":", 0x0, " ", 0x0, "!", 0x0, "E"
	DCB	0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, "(", 0x0, "T"
	DCB	0x0, "L", 0x0, "D", 0x0, "_", 0x0, "O", 0x0, "p", 0x0, "e"
	DCB	0x0, "n", 0x0, ")", 0x0, " ", 0x0, "-", 0x0, " ", 0x0, "F"
	DCB	0x0, "a", 0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d", 0x0, " "
	DCB	0x0, "a", 0x0, "l", 0x0, "l", 0x0, "o", 0x0, "c", 0x0, "a"
	DCB	0x0, "t", 0x0, "e", 0x0, " ", 0x0, "T", 0x0, "r", 0x0, "i"
	DCB	0x0, "t", 0x0, "o", 0x0, "n", 0x0, " ", 0x0, "L", 0x0, "E"
	DCB	0x0, "D", 0x0, " ", 0x0, "i", 0x0, "n", 0x0, "s", 0x0, "t"
	DCB	0x0, "a", 0x0, "n", 0x0, "c", 0x0, "e", 0x0, " ", 0x0, "s"
	DCB	0x0, "t", 0x0, "r", 0x0, "u", 0x0, "c", 0x0, "t", 0x0, "u"
	DCB	0x0, "r", 0x0, "e", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?TLD_Open@@YAKKKK@Z| PROC		; TLD_Open

; 568  : {

  00000		 |$LN12@TLD_Open|
  00000	e92d4070	 stmdb       sp!, {r4 - r6, lr}
  00004		 |$M36439|
  00004	e1b05000	 movs        r5, r0

; 569  :     DEBUGMSG(ZONE_FUNCTION, (L"+TLD_Open(0x%08x, 0x%08x, 0x%08x)\r\n", 
; 570  :         context, accessCode, shareMode
; 571  :         ));
; 572  : 
; 573  :     UNREFERENCED_PARAMETER(accessCode);
; 574  :     UNREFERENCED_PARAMETER(shareMode);
; 575  : 
; 576  :     DWORD dw = 0;

  00008	e3a04000	 mov         r4, #0

; 577  :     Instance_t *pInstance;
; 578  :     Device_t *pDevice = (Device_t*)context;
; 579  :     if ((pDevice == NULL) || (pDevice->cookie != TLED_DEVICE_COOKIE))

  0000c	0a000017	 beq         |$cleanUp$36129|
  00010	e5952000	 ldr         r2, [r5]
  00014	e59f306c	 ldr         r3, [pc, #0x6C]
  00018	e1520003	 cmp         r2, r3
  0001c	1a000013	 bne         |$cleanUp$36129|

; 580  :         {
; 581  :         DEBUGMSG (ZONE_ERROR, (L"TLD: !ERROR(TLD_Open) - "
; 582  :             L"Incorrect context parameter\r\n"
; 583  :             ));
; 584  :         goto cleanUp;
; 585  :         }
; 586  : 
; 587  :     // Create device structure
; 588  :     pInstance = (Instance_t *)LocalAlloc(LPTR, sizeof(Instance_t));

  00020	e3a01010	 mov         r1, #0x10
  00024	e3a00040	 mov         r0, #0x40
  00028	eb000000	 bl          LocalAlloc
  0002c	e1b06000	 movs        r6, r0

; 589  :     if (pInstance == NULL)

  00030	1a000006	 bne         |$LN2@TLD_Open|

; 590  :         {
; 591  :         RETAILMSG(ZONE_ERROR, (L"TLD: !ERROR(TLD_Open) - "
; 592  :             L"Failed allocate Triton LED instance structure\r\n"
; 593  :             ));

  00034	e59f3048	 ldr         r3, [pc, #0x48]
  00038	e5933440	 ldr         r3, [r3, #0x440]
  0003c	e3130001	 tst         r3, #1
  00040	0a00000a	 beq         |$cleanUp$36129|
  00044	e59f0034	 ldr         r0, [pc, #0x34]
  00048	eb000000	 bl          NKDbgPrintfW

; 608  : 
; 609  : cleanUp:

  0004c	ea000007	 b           |$cleanUp$36129|
  00050		 |$LN2@TLD_Open|

; 594  : 
; 595  :         goto cleanUp;
; 596  :         }
; 597  : 
; 598  :     // increment device refCount
; 599  :     InterlockedIncrement(&pDevice->refCount);

  00050	e285001c	 add         r0, r5, #0x1C
  00054	eb000000	 bl          InterlockedIncrement

; 600  : 
; 601  :     // initialize data structure
; 602  :     pInstance->cookie = TLED_INSTANCE_COOKIE;

  00058	e59f301c	 ldr         r3, [pc, #0x1C]

; 603  :     pInstance->pDevice = pDevice;
; 604  :     pInstance->channel = (DWORD) -1;

  0005c	e3e02000	 mvn         r2, #0
  00060	e5862008	 str         r2, [r6, #8]
  00064	e8860028	 stmia       r6, {r3, r5}

; 605  :     pInstance->dutyCycle = (DWORD) -1;

  00068	e586200c	 str         r2, [r6, #0xC]

; 606  : 
; 607  :     dw = (DWORD)pInstance;

  0006c	e1a04006	 mov         r4, r6
  00070		 |$cleanUp$36129|

; 610  :     DEBUGMSG(ZONE_FUNCTION, (L"-TLD_Open(0x%08x, 0x%08x, 0x%08x) == %d\r\n", 
; 611  :         context, accessCode, shareMode, dw
; 612  :         ));
; 613  : 
; 614  :     return dw;
; 615  : }

  00070	e1a00004	 mov         r0, r4
  00074	e8bd4070	 ldmia       sp!, {r4 - r6, lr}
  00078	e12fff1e	 bx          lr
  0007c		 |$LN13@TLD_Open|
  0007c		 |$LN14@TLD_Open|
  0007c	746c6449	 DCD         0x746c6449
  00080		 |$LN15@TLD_Open|
  00080	00000000	 DCD         |??_C@_1JA@EFLDOMEG@?$AAT?$AAL?$AAD?$AA?3?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?$CI?$AAT?$AAL?$AAD?$AA_?$AAO?$AAp?$AAe?$AAn?$AA?$CJ?$AA?5?$AA?9?$AA?5?$AAF?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAa@|
  00084		 |$LN16@TLD_Open|
  00084	00000000	 DCD         |dpCurSettings|
  00088		 |$LN17@TLD_Open|
  00088	746c6444	 DCD         0x746c6444
  0008c		 |$M36440|

			 ENDP  ; |?TLD_Open@@YAKKKK@Z|, TLD_Open

	EXPORT	|?TLD_Close@@YAHK@Z|			; TLD_Close
	EXPORT	|??_C@_1JA@LCEIAHHD@?$AAT?$AAL?$AAD?$AA?3?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?$CI?$AAT?$AAL?$AAD?$AA_?$AAC?$AAl?$AAo?$AAs?$AAe?$AA?$CJ?$AA?5?$AA?9?$AA?5?$AAr?$AAe?$AAf?$AAC?$AAo?$AAu?$AAn@| [ DATA ] ; `string'
	IMPORT	|InterlockedDecrement|

  00000			 AREA	 |.pdata|, PDATA
|$T36460| DCD	|$LN10@TLD_Close|
	DCD	0x40001701

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1JA@LCEIAHHD@?$AAT?$AAL?$AAD?$AA?3?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?$CI?$AAT?$AAL?$AAD?$AA_?$AAC?$AAl?$AAo?$AAs?$AAe?$AA?$CJ?$AA?5?$AA?9?$AA?5?$AAr?$AAe?$AAf?$AAC?$AAo?$AAu?$AAn@| DCB "T"
	DCB	0x0, "L", 0x0, "D", 0x0, ":", 0x0, " ", 0x0, "!", 0x0, "E"
	DCB	0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, "(", 0x0, "T"
	DCB	0x0, "L", 0x0, "D", 0x0, "_", 0x0, "C", 0x0, "l", 0x0, "o"
	DCB	0x0, "s", 0x0, "e", 0x0, ")", 0x0, " ", 0x0, "-", 0x0, " "
	DCB	0x0, "r", 0x0, "e", 0x0, "f", 0x0, "C", 0x0, "o", 0x0, "u"
	DCB	0x0, "n", 0x0, "t", 0x0, " ", 0x0, "i", 0x0, "s", 0x0, " "
	DCB	0x0, "z", 0x0, "e", 0x0, "r", 0x0, "o", 0x0, " ", 0x0, "o"
	DCB	0x0, "n", 0x0, " ", 0x0, "c", 0x0, "l", 0x0, "o", 0x0, "s"
	DCB	0x0, "e", 0x0, " ", 0x0, "o", 0x0, "f", 0x0, " ", 0x0, "i"
	DCB	0x0, "n", 0x0, "s", 0x0, "t", 0x0, "a", 0x0, "n", 0x0, "c"
	DCB	0x0, "e", 0x0, " ", 0x0, "h", 0x0, "a", 0x0, "n", 0x0, "d"
	DCB	0x0, "l", 0x0, "e", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0 ; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?TLD_Close@@YAHK@Z| PROC		; TLD_Close

; 627  : {

  00000		 |$LN10@TLD_Close|
  00000	e92d4010	 stmdb       sp!, {r4, lr}
  00004		 |$M36457|

; 628  :     DEBUGMSG(ZONE_FUNCTION, (L"+TLD_Close(0x%08x)\r\n", 
; 629  :         context
; 630  :         ));
; 631  : 
; 632  :     Instance_t *pInstance = (Instance_t*)context;
; 633  :     Device_t *pDevice = pInstance->pDevice;
; 634  :     if ((pInstance == NULL) || (pInstance->cookie != TLED_INSTANCE_COOKIE))

  00004	e5902000	 ldr         r2, [r0]
  00008	e59f3048	 ldr         r3, [pc, #0x48]
  0000c	e5904004	 ldr         r4, [r0, #4]
  00010	e1520003	 cmp         r2, r3
  00014	1a00000a	 bne         |$cleanUp$36150|

; 635  :         {
; 636  :         DEBUGMSG (ZONE_ERROR, (L"TLD: !ERROR(TLD_Close) - "
; 637  :             L"Incorrect context parameter\r\n"
; 638  :             ));
; 639  :         goto cleanUp;
; 640  :         }
; 641  : 
; 642  :     // release memory
; 643  :     LocalFree(pInstance);

  00018	eb000000	 bl          LocalFree

; 644  : 
; 645  :     // decrement device refCount
; 646  :     InterlockedDecrement(&pDevice->refCount);

  0001c	e284001c	 add         r0, r4, #0x1C
  00020	eb000000	 bl          InterlockedDecrement

; 647  : 
; 648  :     RETAILMSG(ZONE_ERROR && !pDevice->refCount, (L"TLD: !ERROR(TLD_Close) - "
; 649  :         L"refCount is zero on close of instance handle\r\n"
; 650  :         ));

  00024	e59f3028	 ldr         r3, [pc, #0x28]
  00028	e5933440	 ldr         r3, [r3, #0x440]
  0002c	e3130001	 tst         r3, #1
  00030	0a000003	 beq         |$cleanUp$36150|
  00034	e594301c	 ldr         r3, [r4, #0x1C]
  00038	e3530000	 cmp         r3, #0
  0003c	059f000c	 ldreq       r0, [pc, #0xC]
  00040	0b000000	 bleq        NKDbgPrintfW
  00044		 |$cleanUp$36150|

; 651  : 
; 652  : cleanUp:
; 653  :     DEBUGMSG(ZONE_FUNCTION, (L"-TLD_Close(0x%08x)\r\n", 
; 654  :         context
; 655  :         ));
; 656  : 
; 657  :     return TRUE;

  00044	e3a00001	 mov         r0, #1

; 658  : }

  00048	e8bd4010	 ldmia       sp!, {r4, lr}
  0004c	e12fff1e	 bx          lr
  00050		 |$LN11@TLD_Close|
  00050		 |$LN12@TLD_Close|
  00050	00000000	 DCD         |??_C@_1JA@LCEIAHHD@?$AAT?$AAL?$AAD?$AA?3?$AA?5?$AA?$CB?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?$CI?$AAT?$AAL?$AAD?$AA_?$AAC?$AAl?$AAo?$AAs?$AAe?$AA?$CJ?$AA?5?$AA?9?$AA?5?$AAr?$AAe?$AAf?$AAC?$AAo?$AAu?$AAn@|
  00054		 |$LN13@TLD_Close|
  00054	00000000	 DCD         |dpCurSettings|
  00058		 |$LN14@TLD_Close|
  00058	746c6449	 DCD         0x746c6449
  0005c		 |$M36458|

			 ENDP  ; |?TLD_Close@@YAHK@Z|, TLD_Close

	EXPORT	|?TLD_IOControl@@YAHKKPAEK0KPAK@Z|	; TLD_IOControl
	EXPORT	|??_C@_1GI@LEACMMDI@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAT?$AAL?$AAD?$AA_?$AAI?$AAO?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AA?3?$AA?5?$AAI?$AAn?$AAc?$AAo?$AAr?$AAr?$AAe?$AAc?$AAt?$AA?5@| [ DATA ] ; `string'
	EXPORT	|??_C@_1OG@JPDIKJHA@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAT?$AAL?$AAD?$AA_?$AAI?$AAO?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AA?3?$AA?5?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAD?$AAD?$AAK?$AA_@| [ DATA ] ; `string'
	IMPORT	|CeSafeCopyMemory|
	IMPORT	|SetLastError|
	IMPORT	|GetCallerProcess|
; File c:\wince600\public\common\sdk\inc\objbase.h

  00000			 AREA	 |.pdata|, PDATA
|$T36496| DCD	|$LN31@TLD_IOCont|
	DCD	0x40005202

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1GI@LEACMMDI@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAT?$AAL?$AAD?$AA_?$AAI?$AAO?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AA?3?$AA?5?$AAI?$AAn?$AAc?$AAo?$AAr?$AAr?$AAe?$AAc?$AAt?$AA?5@| DCB "E"
	DCB	0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, ":", 0x0, " "
	DCB	0x0, "T", 0x0, "L", 0x0, "D", 0x0, "_", 0x0, "I", 0x0, "O"
	DCB	0x0, "C", 0x0, "o", 0x0, "n", 0x0, "t", 0x0, "r", 0x0, "o"
	DCB	0x0, "l", 0x0, ":", 0x0, " ", 0x0, "I", 0x0, "n", 0x0, "c"
	DCB	0x0, "o", 0x0, "r", 0x0, "r", 0x0, "e", 0x0, "c", 0x0, "t"
	DCB	0x0, " ", 0x0, "c", 0x0, "o", 0x0, "n", 0x0, "t", 0x0, "e"
	DCB	0x0, "x", 0x0, "t", 0x0, " ", 0x0, "p", 0x0, "a", 0x0, "r"
	DCB	0x0, "a", 0x0, "m", 0x0, "e", 0x0, "t", 0x0, "e", 0x0, "r"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1OG@JPDIKJHA@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAT?$AAL?$AAD?$AA_?$AAI?$AAO?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AA?3?$AA?5?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAD?$AAD?$AAK?$AA_@| DCB "E"
	DCB	0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, ":", 0x0, " "
	DCB	0x0, "T", 0x0, "L", 0x0, "D", 0x0, "_", 0x0, "I", 0x0, "O"
	DCB	0x0, "C", 0x0, "o", 0x0, "n", 0x0, "t", 0x0, "r", 0x0, "o"
	DCB	0x0, "l", 0x0, ":", 0x0, " ", 0x0, "I", 0x0, "O", 0x0, "C"
	DCB	0x0, "T", 0x0, "L", 0x0, "_", 0x0, "D", 0x0, "D", 0x0, "K"
	DCB	0x0, "_", 0x0, "G", 0x0, "E", 0x0, "T", 0x0, "_", 0x0, "D"
	DCB	0x0, "R", 0x0, "I", 0x0, "V", 0x0, "E", 0x0, "R", 0x0, "_"
	DCB	0x0, "I", 0x0, "F", 0x0, "C", 0x0, " ", 0x0, "c", 0x0, "a"
	DCB	0x0, "n", 0x0, " ", 0x0, "b", 0x0, "e", 0x0, " ", 0x0, "c"
	DCB	0x0, "a", 0x0, "l", 0x0, "l", 0x0, "e", 0x0, "d", 0x0, " "
	DCB	0x0, "o", 0x0, "n", 0x0, "l", 0x0, "y", 0x0, " ", 0x0, "f"
	DCB	0x0, "r", 0x0, "o", 0x0, "m", 0x0, " ", 0x0, "d", 0x0, "e"
	DCB	0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0, " ", 0x0, "p"
	DCB	0x0, "r", 0x0, "o", 0x0, "c", 0x0, "e", 0x0, "s", 0x0, "s"
	DCB	0x0, " ", 0x0, "(", 0x0, "c", 0x0, "a", 0x0, "l", 0x0, "l"
	DCB	0x0, "e", 0x0, "r", 0x0, " ", 0x0, "p", 0x0, "r", 0x0, "o"
	DCB	0x0, "c", 0x0, "e", 0x0, "s", 0x0, "s", 0x0, " ", 0x0, "i"
	DCB	0x0, "d", 0x0, " ", 0x0, "0", 0x0, "x", 0x0, "%", 0x0, "0"
	DCB	0x0, "8", 0x0, "x", 0x0, ")", 0x0, 0xd, 0x0, 0xa, 0x0, 0x0
	DCB	0x0					; `string'
; Function compile flags: /Ogspy
; File c:\wince600\platform\common\src\soc\common_ti_v1\tps659xx\tled\tled.cpp

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?TLD_IOControl@@YAHKKPAEK0KPAK@Z| PROC ; TLD_IOControl

; 673  : {

  00000		 |$LN31@TLD_IOCont|
  00000	e92d41f0	 stmdb       sp!, {r4 - r8, lr}
  00004	e24dd00c	 sub         sp, sp, #0xC
  00008		 |$M36493|
  00008	e1a07003	 mov         r7, r3
  0000c	e1a06002	 mov         r6, r2
  00010	e1b08000	 movs        r8, r0

; 674  :     BOOL rc = FALSE;

  00014	e3a05000	 mov         r5, #0

; 675  :     DEVICE_IFC_TLED ifc;
; 676  :     Instance_t *pInstance = (Instance_t*)context;
; 677  :     
; 678  : 
; 679  :     DEBUGMSG(ZONE_FUNCTION, (
; 680  :         L"+TLD_IOControl(0x%08x, 0x%08x, 0x%08x, %d, 0x%08x, %d, 0x%08x)\r\n",
; 681  :         context, code, pInBuffer, inSize, pOutBuffer, outSize, pOutSize
; 682  :         ));
; 683  : 
; 684  :     // Check if we get correct context
; 685  :     if ((pInstance == NULL) || (pInstance->cookie != TLED_INSTANCE_COOKIE))

  00018	0a00003a	 beq         |$LN13@TLD_IOCont|
  0001c	e5984000	 ldr         r4, [r8]
  00020	e59fe11c	 ldr         lr, [pc, #0x11C]
  00024	e154000e	 cmp         r4, lr
  00028	1a000036	 bne         |$LN13@TLD_IOCont|
  0002c	e3a03822	 mov         r3, #0x22, 16

; 690  :         goto cleanUp;
; 691  :         }
; 692  : 
; 693  :     switch (code)

  00030	e383eb01	 orr         lr, r3, #1, 22
  00034	e151000e	 cmp         r1, lr
  00038	1a000037	 bne         |$cleanUp$36171|

; 694  :         {
; 695  :         case IOCTL_DDK_GET_DRIVER_IFC:
; 696  :             // We can give interface only to our peer in device process
; 697  :             if (GetCurrentProcessId() != (DWORD)GetCallerProcess())

  0003c	e3a0000c	 mov         r0, #0xC
  00040	eb000000	 bl          __GetUserKData
  00044	e1a04000	 mov         r4, r0
  00048	eb000000	 bl          GetCallerProcess
  0004c	e1540000	 cmp         r4, r0
  00050	0a00000a	 beq         |$LN8@TLD_IOCont|

; 698  :                 {
; 699  :                 RETAILMSG(ZONE_ERROR, (L"ERROR: TLD_IOControl: "
; 700  :                     L"IOCTL_DDK_GET_DRIVER_IFC can be called only from "
; 701  :                     L"device process (caller process id 0x%08x)\r\n",
; 702  :                     GetCallerProcess()
; 703  :                     ));

  00054	e59f30d4	 ldr         r3, [pc, #0xD4]
  00058	e5933440	 ldr         r3, [r3, #0x440]
  0005c	e3130001	 tst         r3, #1
  00060	0a000003	 beq         |$LN19@TLD_IOCont|
  00064	eb000000	 bl          GetCallerProcess
  00068	e1a01000	 mov         r1, r0
  0006c	e59f00cc	 ldr         r0, [pc, #0xCC]
  00070	eb000000	 bl          NKDbgPrintfW
  00074		 |$LN19@TLD_IOCont|

; 704  :                 SetLastError(ERROR_ACCESS_DENIED);

  00074	e3a00005	 mov         r0, #5

; 709  :                 {
; 710  :                 SetLastError(ERROR_INVALID_PARAMETER);

  00078	eb000000	 bl          SetLastError

; 730  :                 break;
; 731  :                 }
; 732  :             SetLastError(ERROR_INVALID_PARAMETER);
; 733  :             break;
; 734  :         }
; 735  : 
; 736  : cleanUp:

  0007c	ea000026	 b           |$cleanUp$36171|
  00080		 |$LN8@TLD_IOCont|

; 705  :                 break;
; 706  :                 }
; 707  :             // Check input parameters
; 708  :             if ((pInBuffer == NULL) || (inSize < sizeof(GUID)))

  00080	e3560000	 cmp         r6, #0
  00084	0a00001c	 beq         |$LN6@TLD_IOCont|
  00088	e3570010	 cmp         r7, #0x10
  0008c	3a00001a	 bcc         |$LN6@TLD_IOCont|

; 711  :                 break;
; 712  :                 }
; 713  :             if (IsEqualGUID(*(GUID*)pInBuffer, DEVICE_IFC_TLED_GUID))

  00090	e59f10a4	 ldr         r1, [pc, #0xA4]
  00094	e3a02010	 mov         r2, #0x10
  00098	e1a00006	 mov         r0, r6
  0009c	eb000000	 bl          memcmp
  000a0	e3500000	 cmp         r0, #0
  000a4	1a000014	 bne         |$LN6@TLD_IOCont|

; 714  :                 {
; 715  :                 if (pOutSize != NULL) *pOutSize = sizeof(DEVICE_IFC_TLED);

  000a8	e59d302c	 ldr         r3, [sp, #0x2C]

; 716  :                 if (pOutBuffer == NULL || outSize < sizeof(DEVICE_IFC_TLED))

  000ac	e59d0024	 ldr         r0, [sp, #0x24]
  000b0	e3530000	 cmp         r3, #0
  000b4	13a0200c	 movne       r2, #0xC
  000b8	15832000	 strne       r2, [r3]
  000bc	e3500000	 cmp         r0, #0
  000c0	0a00000d	 beq         |$LN6@TLD_IOCont|
  000c4	e59d3028	 ldr         r3, [sp, #0x28]
  000c8	e353000c	 cmp         r3, #0xC
  000cc	3a00000a	 bcc         |$LN6@TLD_IOCont|

; 717  :                     {
; 718  :                     SetLastError(ERROR_INVALID_PARAMETER);
; 719  :                     break;
; 720  :                     }
; 721  :                 ifc.context = context;
; 722  :                 ifc.pfnSetChannel = SetChannel;
; 723  :                 ifc.pfnSetDutyCycle = SetDutyCycle;

  000d0	e59f1060	 ldr         r1, [pc, #0x60]
  000d4	e59f3058	 ldr         r3, [pc, #0x58]

; 724  :                 if (!CeSafeCopyMemory(pOutBuffer, &ifc, sizeof(DEVICE_IFC_TLED)))

  000d8	e3a0200c	 mov         r2, #0xC
  000dc	e58d1008	 str         r1, [sp, #8]
  000e0	e28d1000	 add         r1, sp, #0
  000e4	e58d3004	 str         r3, [sp, #4]
  000e8	e58d8000	 str         r8, [sp]
  000ec	eb000000	 bl          CeSafeCopyMemory
  000f0	e3500000	 cmp         r0, #0

; 725  :                     {
; 726  :                     SetLastError(ERROR_INVALID_PARAMETER);
; 727  :                     break;
; 728  :                     }
; 729  :                 rc = TRUE;

  000f4	13a05001	 movne       r5, #1
  000f8	1a000007	 bne         |$cleanUp$36171|
  000fc		 |$LN6@TLD_IOCont|

; 709  :                 {
; 710  :                 SetLastError(ERROR_INVALID_PARAMETER);

  000fc	e3a00057	 mov         r0, #0x57
  00100	eb000000	 bl          SetLastError

; 730  :                 break;
; 731  :                 }
; 732  :             SetLastError(ERROR_INVALID_PARAMETER);
; 733  :             break;
; 734  :         }
; 735  : 
; 736  : cleanUp:

  00104	ea000004	 b           |$cleanUp$36171|
  00108		 |$LN13@TLD_IOCont|

; 686  :         {
; 687  :         RETAILMSG(ZONE_ERROR, (L"ERROR: TLD_IOControl: "
; 688  :             L"Incorrect context parameter\r\n"
; 689  :             ));

  00108	e59f3020	 ldr         r3, [pc, #0x20]
  0010c	e5933440	 ldr         r3, [r3, #0x440]
  00110	e3130001	 tst         r3, #1
  00114	159f0010	 ldrne       r0, [pc, #0x10]
  00118	1b000000	 blne        NKDbgPrintfW
  0011c		 |$cleanUp$36171|

; 737  : 
; 738  :     DEBUGMSG(ZONE_FUNCTION, (L"-TLD_IOControl(rc = %d)\r\n", rc));
; 739  :     return rc;
; 740  : }

  0011c	e1a00005	 mov         r0, r5
  00120	e28dd00c	 add         sp, sp, #0xC
  00124	e8bd41f0	 ldmia       sp!, {r4 - r8, lr}
  00128	e12fff1e	 bx          lr
  0012c		 |$LN32@TLD_IOCont|
  0012c		 |$LN33@TLD_IOCont|
  0012c	00000000	 DCD         |??_C@_1GI@LEACMMDI@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAT?$AAL?$AAD?$AA_?$AAI?$AAO?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AA?3?$AA?5?$AAI?$AAn?$AAc?$AAo?$AAr?$AAr?$AAe?$AAc?$AAt?$AA?5@|
  00130		 |$LN34@TLD_IOCont|
  00130	00000000	 DCD         |dpCurSettings|
  00134		 |$LN35@TLD_IOCont|
  00134	00000000	 DCD         |?SetChannel@@YAHKK@Z|
  00138		 |$LN36@TLD_IOCont|
  00138	00000000	 DCD         |?SetDutyCycle@@YAHKK@Z|
  0013c		 |$LN37@TLD_IOCont|
  0013c	00000000	 DCD         |DEVICE_IFC_TLED_GUID|
  00140		 |$LN38@TLD_IOCont|
  00140	00000000	 DCD         |??_C@_1OG@JPDIKJHA@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAT?$AAL?$AAD?$AA_?$AAI?$AAO?$AAC?$AAo?$AAn?$AAt?$AAr?$AAo?$AAl?$AA?3?$AA?5?$AAI?$AAO?$AAC?$AAT?$AAL?$AA_?$AAD?$AAD?$AAK?$AA_@|
  00144		 |$LN39@TLD_IOCont|
  00144	746c6449	 DCD         0x746c6449
  00148		 |$M36494|

			 ENDP  ; |?TLD_IOControl@@YAHKKPAEK0KPAK@Z|, TLD_IOControl

	EXPORT	|DllMain|
	IMPORT	|DisableThreadLibraryCalls|
	IMPORT	|RegisterDbgZones|

  00000			 AREA	 |.pdata|, PDATA
|$T36515| DCD	|$LN8@DllMain|
	DCD	0x40000c01
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |DllMain| PROC

; 751  : {

  00000		 |$LN8@DllMain|
  00000	e92d4010	 stmdb       sp!, {r4, lr}
  00004		 |$M36512|
  00004	e1a04000	 mov         r4, r0

; 752  :     UNREFERENCED_PARAMETER(pReserved);
; 753  :     switch(Reason) 

  00008	e3510001	 cmp         r1, #1
  0000c	1a000003	 bne         |$LN2@DllMain|

; 754  :         {
; 755  :         case DLL_PROCESS_ATTACH:
; 756  :             RETAILREGISTERZONES((HMODULE)hDLL);

  00010	e59f1014	 ldr         r1, [pc, #0x14]
  00014	eb000000	 bl          RegisterDbgZones

; 757  :             DisableThreadLibraryCalls((HMODULE)hDLL);

  00018	e1a00004	 mov         r0, r4
  0001c	eb000000	 bl          DisableThreadLibraryCalls
  00020		 |$LN2@DllMain|

; 758  :             break;
; 759  :         }
; 760  :     return TRUE;

  00020	e3a00001	 mov         r0, #1

; 761  : }

  00024	e8bd4010	 ldmia       sp!, {r4, lr}
  00028	e12fff1e	 bx          lr
  0002c		 |$LN9@DllMain|
  0002c		 |$LN10@DllMain|
  0002c	00000000	 DCD         |dpCurSettings|
  00030		 |$M36513|

			 ENDP  ; |DllMain|

	EXPORT	|?TLD_Init@@YAKPBGPBX@Z|		; TLD_Init
	EXPORT	|??_C@_1GI@OFBLHIJO@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAT?$AAL?$AAD?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAF?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAo?$AAp?$AAe?$AAn?$AA?5?$AAT?$AAr?$AAi@| [ DATA ] ; `string'
	EXPORT	|??_C@_1HO@KHCEBHIB@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAT?$AAL?$AAD?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAF?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAa?$AAl?$AAl?$AAo?$AAc?$AAa?$AAt?$AAe@| [ DATA ] ; `string'
	IMPORT	|TWLOpen|
	IMPORT	|InitializeCriticalSection|
	IMPORT	|GetDeviceRegistryParams|

  00000			 AREA	 |.pdata|, PDATA
|$T36535| DCD	|$LN20@TLD_Init|
	DCD	0x40003501

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1GI@OFBLHIJO@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAT?$AAL?$AAD?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAF?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAo?$AAp?$AAe?$AAn?$AA?5?$AAT?$AAr?$AAi@| DCB "E"
	DCB	0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, ":", 0x0, " "
	DCB	0x0, "T", 0x0, "L", 0x0, "D", 0x0, "_", 0x0, "I", 0x0, "n"
	DCB	0x0, "i", 0x0, "t", 0x0, ":", 0x0, " ", 0x0, "F", 0x0, "a"
	DCB	0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d", 0x0, " ", 0x0, "o"
	DCB	0x0, "p", 0x0, "e", 0x0, "n", 0x0, " ", 0x0, "T", 0x0, "r"
	DCB	0x0, "i", 0x0, "t", 0x0, "o", 0x0, "n", 0x0, " ", 0x0, "d"
	DCB	0x0, "e", 0x0, "v", 0x0, "i", 0x0, "c", 0x0, "e", 0x0, " "
	DCB	0x0, "d", 0x0, "r", 0x0, "i", 0x0, "v", 0x0, "e", 0x0, "r"
	DCB	0x0, 0xd, 0x0, 0xa, 0x0, 0x0, 0x0	; `string'

  00000			 AREA	 |.rdata|, DATA, READONLY
|??_C@_1HO@KHCEBHIB@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAT?$AAL?$AAD?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAF?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAa?$AAl?$AAl?$AAo?$AAc?$AAa?$AAt?$AAe@| DCB "E"
	DCB	0x0, "R", 0x0, "R", 0x0, "O", 0x0, "R", 0x0, ":", 0x0, " "
	DCB	0x0, "T", 0x0, "L", 0x0, "D", 0x0, "_", 0x0, "I", 0x0, "n"
	DCB	0x0, "i", 0x0, "t", 0x0, ":", 0x0, " ", 0x0, "F", 0x0, "a"
	DCB	0x0, "i", 0x0, "l", 0x0, "e", 0x0, "d", 0x0, " ", 0x0, "a"
	DCB	0x0, "l", 0x0, "l", 0x0, "o", 0x0, "c", 0x0, "a", 0x0, "t"
	DCB	0x0, "e", 0x0, " ", 0x0, "T", 0x0, "r", 0x0, "i", 0x0, "t"
	DCB	0x0, "o", 0x0, "n", 0x0, " ", 0x0, "L", 0x0, "E", 0x0, "D"
	DCB	0x0, " ", 0x0, "d", 0x0, "r", 0x0, "i", 0x0, "v", 0x0, "e"
	DCB	0x0, "r", 0x0, " ", 0x0, "s", 0x0, "t", 0x0, "r", 0x0, "u"
	DCB	0x0, "c", 0x0, "t", 0x0, "u", 0x0, "r", 0x0, "e", 0x0, 0xd
	DCB	0x0, 0xa, 0x0, 0x0, 0x0			; `string'
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?TLD_Init@@YAKPBGPBX@Z| PROC		; TLD_Init

; 431  : {

  00000		 |$LN20@TLD_Init|
  00000	e92d4070	 stmdb       sp!, {r4 - r6, lr}
  00004		 |$M36532|
  00004	e1a06000	 mov         r6, r0

; 432  :     DWORD rc = (DWORD)NULL;
; 433  :     Device_t *pDevice;
; 434  : 
; 435  :     UNREFERENCED_PARAMETER(pBusContext);
; 436  : 
; 437  :     DEBUGMSG(ZONE_FUNCTION, (
; 438  :         L"+TLD_Init(%s, 0x%08x)\r\n", szContext, pBusContext
; 439  :         ));
; 440  : 
; 441  :     // Create device structure
; 442  :     pDevice = (Device_t *)LocalAlloc(LPTR, sizeof(Device_t));

  00008	e3a0102c	 mov         r1, #0x2C
  0000c	e3a00040	 mov         r0, #0x40
  00010	e3a05000	 mov         r5, #0
  00014	eb000000	 bl          LocalAlloc
  00018	e1b04000	 movs        r4, r0

; 443  :     if (pDevice == NULL)

  0001c	1a00000a	 bne         |$LN9@TLD_Init|

; 444  :         {
; 445  :         RETAILMSG(ZONE_ERROR, (L"ERROR: TLD_Init: "
; 446  :             L"Failed allocate Triton LED driver structure\r\n"
; 447  :             ));

  00020	e59f309c	 ldr         r3, [pc, #0x9C]
  00024	e5933440	 ldr         r3, [r3, #0x440]
  00028	e3130001	 tst         r3, #1
  0002c	0a000001	 beq         |$LN16@TLD_Init|
  00030	e59f0098	 ldr         r0, [pc, #0x98]
  00034		 |$LN17@TLD_Init|
  00034	eb000000	 bl          NKDbgPrintfW
  00038		 |$LN16@TLD_Init|

; 495  :     if (rc == 0) TLD_Deinit((DWORD)pDevice);

  00038	e1a00004	 mov         r0, r4
  0003c	eb000000	 bl          |?TLD_Deinit@@YAHK@Z|
  00040		 |$LN1@TLD_Init|

; 496  : 
; 497  :     DEBUGMSG(ZONE_FUNCTION, (L"-TLD_Init(rc = %d\r\n", rc));
; 498  :     return rc;
; 499  : }

  00040	e1a00005	 mov         r0, r5
  00044	e8bd4070	 ldmia       sp!, {r4 - r6, lr}
  00048	e12fff1e	 bx          lr
  0004c		 |$LN9@TLD_Init|

; 448  : 
; 449  :         goto cleanUp;
; 450  :         }
; 451  : 
; 452  :     // Read device parameters
; 453  :     if (GetDeviceRegistryParams(
; 454  :             szContext, pDevice, dimof(s_deviceRegParams), s_deviceRegParams
; 455  :             ) != ERROR_SUCCESS)

  0004c	e59f3078	 ldr         r3, [pc, #0x78]
  00050	e3a02002	 mov         r2, #2
  00054	e1a01004	 mov         r1, r4
  00058	e1a00006	 mov         r0, r6
  0005c	eb000000	 bl          GetDeviceRegistryParams
  00060	e3500000	 cmp         r0, #0
  00064	1afffff3	 bne         |$LN16@TLD_Init|

; 456  :         {
; 457  :         DEBUGMSG(ZONE_ERROR, (L"ERROR: TLD_Init: "
; 458  :             L"Failed read Triton LED register values\r\n"
; 459  :             ));
; 460  :         goto cleanUp;
; 461  :         }
; 462  : 
; 463  :     // Set cookie
; 464  :     pDevice->cookie = TLED_DEVICE_COOKIE;

  00068	e59f3058	 ldr         r3, [pc, #0x58]

; 465  : 
; 466  :     // new instance always starts with a refCount of 1
; 467  :     pDevice->refCount = 1;

  0006c	e3a02001	 mov         r2, #1

; 468  : 
; 469  :     // Initialize critical sections
; 470  :     InitializeCriticalSection(&pDevice->cs);

  00070	e2840004	 add         r0, r4, #4
  00074	e5843000	 str         r3, [r4]
  00078	e584201c	 str         r2, [r4, #0x1C]
  0007c	eb000000	 bl          InitializeCriticalSection

; 471  : 
; 472  :     // Open Triton device driver
; 473  :     pDevice->hTWL = TWLOpen();

  00080	eb000000	 bl          TWLOpen
  00084	e3500000	 cmp         r0, #0
  00088	e5840018	 str         r0, [r4, #0x18]

; 474  :     if ( pDevice->hTWL == NULL )

  0008c	1a000005	 bne         |$LN5@TLD_Init|

; 475  :         {
; 476  :         RETAILMSG(ZONE_ERROR, (L"ERROR: TLD_Init: "
; 477  :             L"Failed open Triton device driver\r\n"
; 478  :             ));

  00090	e59f302c	 ldr         r3, [pc, #0x2C]
  00094	e5933440	 ldr         r3, [r3, #0x440]
  00098	e3130001	 tst         r3, #1
  0009c	0affffe5	 beq         |$LN16@TLD_Init|
  000a0	e59f0018	 ldr         r0, [pc, #0x18]

; 493  : 
; 494  : cleanUp:

  000a4	eaffffe2	 b           |$LN17@TLD_Init|
  000a8		 |$LN5@TLD_Init|

; 479  :         goto cleanUp;
; 480  :         }
; 481  : 
; 482  :     // initialize device with registry settings
; 483  :     if (InitializeDevice(pDevice) == FALSE)

  000a8	e1a00004	 mov         r0, r4
  000ac	eb000000	 bl          |?InitializeDevice@@YAHPAUDevice_t@@@Z|
  000b0	e3500000	 cmp         r0, #0
  000b4	0affffdf	 beq         |$LN16@TLD_Init|

; 484  :         {
; 485  :         DEBUGMSG( ZONE_ERROR, (L"ERROR: TLD_Init: "
; 486  :             L"Failed to initilialize Triton LED device\r\n"
; 487  :             ));
; 488  :         goto cleanUp;
; 489  :         }
; 490  : 
; 491  :     // Return non-null value
; 492  :     rc = (DWORD)pDevice;

  000b8	e1a05004	 mov         r5, r4
  000bc		 |$cleanUp$36084|

; 495  :     if (rc == 0) TLD_Deinit((DWORD)pDevice);

  000bc	eaffffdf	 b           |$LN1@TLD_Init|
  000c0		 |$LN21@TLD_Init|
  000c0		 |$LN22@TLD_Init|
  000c0	00000000	 DCD         |??_C@_1GI@OFBLHIJO@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAT?$AAL?$AAD?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAF?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAo?$AAp?$AAe?$AAn?$AA?5?$AAT?$AAr?$AAi@|
  000c4		 |$LN23@TLD_Init|
  000c4	00000000	 DCD         |dpCurSettings|
  000c8		 |$LN24@TLD_Init|
  000c8	746c6444	 DCD         0x746c6444
  000cc		 |$LN25@TLD_Init|
  000cc	00000000	 DCD         |s_deviceRegParams|
  000d0		 |$LN26@TLD_Init|
  000d0	00000000	 DCD         |??_C@_1HO@KHCEBHIB@?$AAE?$AAR?$AAR?$AAO?$AAR?$AA?3?$AA?5?$AAT?$AAL?$AAD?$AA_?$AAI?$AAn?$AAi?$AAt?$AA?3?$AA?5?$AAF?$AAa?$AAi?$AAl?$AAe?$AAd?$AA?5?$AAa?$AAl?$AAl?$AAo?$AAc?$AAa?$AAt?$AAe@|
  000d4		 |$M36533|

			 ENDP  ; |?TLD_Init@@YAKPBGPBX@Z|, TLD_Init

	END
