; Listing generated by Microsoft (R) Optimizing Compiler Version 14.01.60511.01 

	TTL	C:\WINCE600\PLATFORM\Z2170P\SRC\BOOTLOADER\EBOOT\graphic_engine.cpp
	CODE32

  00000			 AREA	 |.drectve|, DRECTVE
	DCB	"-defaultlib:LIBCMT "
	DCB	"-defaultlib:OLDNAMES "


  00000			 AREA	 |.bss|, NOINIT
|g_nHeight| %	0x4
|g_nWidth| %	0x4
|g_nColMax| %	0x4
|g_nRowMax| %	0x4
|g_dwFrameBuffer| % 0x4
	EXPORT	|?InitGraphicsEngine@@YAHIIPAEK@Z|	; InitGraphicsEngine

  00014			 AREA	 |.bss|, NOINIT
|g_nBpp| %	0x4
|g_nBpp| %	0x4
; File c:\wince600\platform\z2170p\src\bootloader\eboot\graphic_engine.cpp

  00000			 AREA	 |.pdata|, PDATA
|$T32062| DCD	|$LN6@InitGraphi|
	DCD	0x40001401
; Function compile flags: /Ogspy

  00000			 AREA	 |.text|, CODE, ARM

  00000		 |?InitGraphicsEngine@@YAHIIPAEK@Z| PROC ; InitGraphicsEngine

; 18   : {

  00000		 |$LN6@InitGraphi|
  00000	e92d4030	 stmdb       sp!, {r4, r5, lr}
  00004		 |$M32059|
  00004	e1a04003	 mov         r4, r3
  00008	e1a0e001	 mov         lr, r1

; 19   : 	UINT checkbpp = 24;
; 20   : 	if(nBpp != (PUCHAR)checkbpp)

  0000c	e3520018	 cmp         r2, #0x18

; 21   : 		return FALSE;

  00010	13a00000	 movne       r0, #0

; 33   : }

  00014	18bd4030	 ldmneia     sp!, {r4, r5, lr}
  00018	112fff1e	 bxne        lr

; 22   : 
; 23   : 	g_nWidth  = nWidth;

  0001c	e59f1028	 ldr         r1, [pc, #0x28]

; 24   : 	g_nHeight = nHeight;
; 25   : 
; 26   : 	g_nColMax = g_nWidth  / FONT_WIDTH;

  00020	e1a031a0	 mov         r3, r0, lsr #3

; 27   : 	g_nRowMax = g_nHeight / FONT_HEIGHT;

  00024	e1a0222e	 mov         r2, lr, lsr #4

; 28   : 	
; 29   : 	g_nBpp = nBpp;  

  00028	e3a05018	 mov         r5, #0x18
  0002c	e281c008	 add         r12, r1, #8
  00030	e88c0009	 stmia       r12, {r0, r3}
  00034	e281c010	 add         r12, r1, #0x10
  00038	e88c0014	 stmia       r12, {r2, r4}
  0003c	e8814020	 stmia       r1, {r5, lr}

; 30   : 	g_dwFrameBuffer = (volatile WORD *) dwFrameBuffer;
; 31   : 	
; 32   : 	return TRUE;

  00040	e3a00001	 mov         r0, #1

; 33   : }

  00044	e8bd4030	 ldmia       sp!, {r4, r5, lr}
  00048	e12fff1e	 bx          lr
  0004c		 |$LN7@InitGraphi|
  0004c		 |$LN8@InitGraphi|
  0004c	00000000	 DCD         |g_nBpp|
  00050		 |$M32060|

			 ENDP  ; |?InitGraphicsEngine@@YAHIIPAEK@Z|, InitGraphicsEngine

	END
